{"version":3,"sources":["webpack:///packages/mosaic/datepicker/calendar-body.component.ts","webpack:///packages/mosaic/datepicker/datepicker-errors.ts","webpack:///packages/mosaic/datepicker/datepicker-intl.ts","webpack:///packages/mosaic/datepicker/month-view.component.ts","webpack:///packages/mosaic/datepicker/multi-year-view.component.ts","webpack:///packages/mosaic/datepicker/year-view.component.ts","webpack:///packages/mosaic/datepicker/calendar.component.ts","webpack:///packages/mosaic/datepicker/datepicker-animations.ts","webpack:///packages/mosaic/datepicker/datepicker.component.ts","webpack:///packages/mosaic/datepicker/datepicker-input.directive.ts","webpack:///packages/mosaic/datepicker/datepicker-toggle.component.ts","webpack:///packages/mosaic/datepicker/datepicker-module.ts","webpack:///packages/mosaic/datepicker/ptsecurity-mosaic-datepicker.ts","webpack:///node_modules/@ptsecurity/mosaic-examples/fesm2015/ptsecurity-mosaic-examples-mosaic-datepicker.js","webpack:///node_modules/@angular/common/locales/de.js"],"names":["McCalendarCell","value","displayValue","ariaLabel","enabled","cssClasses","McCalendarBody","elementRef","ngZone","numCols","activeCell","cellAspectRatio","selectedValueChange","cell","emit","changes","columnChanges","rows","firstRowOffset","length","cellPadding","cellWidth","rowIndex","colIndex","cellNumber","runOutsideAngular","onStable","asObservable","pipe","subscribe","nativeElement","querySelector","focus","selector","exportAs","template","host","role","encapsulation","None","changeDetection","OnPush","createMissingDateImplError","provider","Error","McDatepickerIntl","calendarLabel","openCalendarLabel","prevMonthLabel","nextMonthLabel","prevYearLabel","nextYearLabel","prevMultiYearLabel","nextMultiYearLabel","switchToMonthViewLabel","switchToMultiYearViewLabel","providedIn","DAYS_PER_WEEK","McMonthView","changeDetectorRef","dateFormats","dateAdapter","dir","selectedChange","userSelection","activeDateChange","firstDayOfWeek","getFirstDayOfWeek","narrowWeekdays","getDayOfWeekNames","longWeekdays","weekdays","map","long","i","narrow","slice","concat","_activeDate","today","oldActiveDate","validDate","getValidDateOrNull","deserialize","clampDate","minDate","maxDate","hasSameMonthAndYear","init","_selected","selectedDate","getDateInCurrentMonth","_minDate","_maxDate","date","selectedYear","getYear","activeDate","selectedMonth","getMonth","createDate","event","isRtl","keyCode","addCalendarDays","getDate","getNumDaysInMonth","altKey","addCalendarYears","addCalendarMonths","dateFilter","dateSelected","preventDefault","compareDate","focusActiveCell","selected","todayDate","monthLabel","getMonthNames","toLocaleUpperCase","substr","firstOfMonth","firstWeekOffset","getDayOfWeek","createWeekCells","markForCheck","mcCalendarBody","daysInMonth","dateNames","getDateNames","weeks","push","shouldEnableDate","format","dateA11yLabel","cellClasses","dateClass","undefined","d1","d2","obj","isDateInstance","isValid","yearsPerPage","yearsPerRow","McMultiYearView","yearSelected","Math","floor","todayYear","activeYear","activeOffset","years","row","year","createCellForYear","month","min","onYearSelected","yearName","getYearName","shouldEnableYear","firstOfYear","McYearView","monthSelected","getMonthInCurrentYear","normalizedDate","VERTICAL_SHIFT","PAGE_SHIFT","MAX_MONTH_INDEX","onMonthSelected","todayMonth","yearLabel","monthNames","months","createCellForMonth","monthName","monthYearA11yLabel","newMonthName","shouldEnableMonth","isYearAndMonthAfterMaxDate","isYearAndMonthBeforeMinDate","maxYear","maxMonth","minYear","minMonth","McCalendarView","McCalendarHeader","intl","calendar","stateChanges","currentView","Month","label","monthYearLabel","replace","Year","firstYearInView","lastYearInView","MultiYear","includes","isSameView","firstDate","secondDate","firstYear","secondYear","firstMonth","secondMonth","McCalendar","startView","moveFocusOnNextTick","intlChanges","next","_startAt","clampedActiveDate","_currentView","calendarHeaderPortal","headerComponent","startAt","unsubscribe","complete","change","firstChange","view","getCurrentViewComponent","detectChanges","monthView","yearView","multiYearView","ngAfterContentInit","sameDate","normalizedYear","normalizedMonth","mcDatepickerAnimations","transformPanel","opacity","transform","fadeInCalendar","Element","prototype","matches","msMatchesSelector","datepickerUid","MC_DATEPICKER_SCROLL_STRATEGY","MC_DATEPICKER_SCROLL_STRATEGY_FACTORY","overlay","scrollStrategies","reposition","MC_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER","provide","deps","useFactory","McDatepickerContent","animationDone","subscriptions","add","datepicker","animationState","animations","McDatepicker","viewContainerRef","scrollStrategy","document","_hasBackdrop","_opened","backdropClass","openedStream","closedStream","id","disabledChange","selectedChanged","validSelected","focusedElementBeforeOpen","inputSubscription","EMPTY","closeSubscription","datepickerInput","_disabled","disabled","newValue","open","close","max","destroyOverlay","oldValue","input","valueChange","popupComponentRef","instance","activeElement","openAsPopup","restoreFocus","startExitAnimation","isReadOnly","popupRef","dispose","calendarPortal","createPopup","hasAttached","attach","updatePosition","overlayConfig","positionStrategy","createPopupPositionStrategy","hasBackdrop","direction","panelClass","create","closingActions","body","backdropClick","outsidePointerEvents","detachments","position","flexibleConnectedTo","withTransformOriginOn","withFlexibleDimensions","withViewportMargin","withLockedPosition","withPositions","originX","originY","overlayX","overlayY","providers","useExisting","DateParts","MAX_YEAR","DateDigit","start","maxDays","day","parse","parseDay","parseMonth","parseYear","isDay","isMonth","isYear","parsedValue","parseInt","MC_DATEPICKER_VALUE_ACCESSOR","McDatepickerInput","multi","MC_DATEPICKER_VALIDATORS","McDatepickerInputEvent","target","targetElement","uniqueComponentIdSuffix","renderer","controlType","focused","incorrectInput","dateChange","dateInput","uid","datepickerSubscription","localeSubscription","lastValueValid","onTouched","onInput","correctCursorPosition","formattedValue","replaceSymbols","viewValue","newTimeObj","getDateFromString","_value","cvaOnChange","control","updateValueAndValidity","emitEvent","setViewValue","getTimeStringFromDate","selectNextDigitByCursor","selectionStart","updateValue","parseOnBlur","getDefaultValue","viewDigits","split","separator","filter","firsViewDigit","secondViewDigit","thirdViewDigit","setTimeout","firstDigit","fullName","secondDigit","thirdDigit","reduce","acc","digit","index","digitWithYear","viewDigitWithYear","createDateTime","hours","minutes","seconds","milliseconds","updateLocaleParams","setFormat","validatorOnChange","parseValidator","empty","mcDatepickerParse","text","minValidator","controlValue","mcDatepickerMin","actual","maxValidator","mcDatepickerMax","filterValidator","mcDatepickerFilter","validator","compose","localeChanges","_required","registerInput","oldDate","formatValue","_min","_max","element","blur","_id","tooltip","mcMouseEnterDelay","mcTrigger","mcTooltipClass","initElementRefListeners","isTooltipOpen","show","hide","isBadInput","readOnly","selectionEnd","isFocused","fn","setControl","isDisabled","isLetterKey","isKeyForOpen","isKeyForClose","isKeyForByPass","spaceKeyHandler","verticalArrowKeyHandler","changeCaretPosition","test","key","getNewValue","focusChanged","$event","rawValue","clipboardData","getData","match","groups","first","second","third","join","toIso8601","separatorPositions","item","getDigitPositions","ctrlKey","metaKey","selectNextDigit","savePosition","setProperty","part","timeString","defaultValue","getHours","getMinutes","getSeconds","getMilliseconds","timeFormat","cursorPosition","end","dateVal","whatToIncrement","lastDay","getLastDayFor","whatToDecrement","changedTime","getDateEditMetrics","modifiedTimePart","incrementDate","decrementDate","onChange","cursorPos","nextSeparatorPos","indexOf","selectDigitByCursor","endPositionOfCurrentDigit","cycle","lastValue","newCursorPos","validity","badInput","formatInLowerCase","toLowerCase","arr","prev","McDatepickerToggleIcon","McDatepickerToggle","watchStateChanges","stopPropagation","datepickerDisabled","observableOf","inputDisabled","datepickerToggled","McDatepickerModule","imports","exports","declarations","entryComponents","DatepickerLanguageExample_mc_radio_button_1_Template","rf","ctx","language_r3","$implicit","ctx_r0","name","selectedLanguage","mcDateFormatsFactory","Object","assign","DatepickerLanguageExample","adapter","languageList","placeholder","setLocale","find","setValue","ɵfac","DatepickerLanguageExample_Factory","t","ɵcmp","type","selectors","features","decls","vars","consts","DatepickerLanguageExample_Template","_r4","DatepickerLanguageExample_Template_mc_radio_group_change_0_listener","DatepickerLanguageExample_Template_mc_form_field_click_3_listener","_r2","toggle","_r1","directives","styles","ngDevMode","args","templateUrl","styleUrls","decorators","DatepickerNotEmptyExample","DatepickerNotEmptyExample_Factory","useValue","locale","DatepickerNotEmptyExample_Template","DatepickerNotEmptyExample_Template_mc_form_field_click_0_listener","DatepickerNotEmptyExample_Template_input_ngModelChange_2_listener","_r0","DatepickerOverviewExample","DatepickerOverviewExample_Factory","DatepickerOverviewExample_Template","DatepickerOverviewExample_Template_mc_form_field_click_0_listener","DatepickerOverviewExample_Template_input_ngModelChange_2_listener","EXAMPLES","DatepickerExamplesModule","DatepickerExamplesModule_Factory","ɵmod","ɵinj","ngJitMode","factory","module","v","require","defineProperty","u","plural","n","abs","toString"],"mappings":"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","file":"5-es5.js","sourcesContent":["// tslint:disable:no-magic-numbers\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    EventEmitter,\n    Input,\n    Output,\n    ViewEncapsulation,\n    NgZone,\n    OnChanges,\n    SimpleChanges\n} from '@angular/core';\nimport { take } from 'rxjs/operators';\n\n\n/**\n * Extra CSS classes that can be associated with a calendar cell.\n */\nexport type McCalendarCellCssClasses = string | string[] | Set<string> | { [key: string]: any };\n\n/**\n * An internal class that represents the data corresponding to a single calendar cell.\n * @docs-private\n */\nexport class McCalendarCell {\n    constructor(\n        public value: number,\n        public displayValue: string,\n        public ariaLabel: string,\n        public enabled: boolean,\n        public cssClasses?: McCalendarCellCssClasses\n    ) {}\n}\n\n\n/**\n * An internal component used to display calendar data in a table.\n * @docs-private\n */\n@Component({\n    selector: '[mc-calendar-body]',\n    exportAs: 'mcCalendarBody',\n    templateUrl: 'calendar-body.html',\n    styleUrls: ['calendar-body.scss'],\n    host: {\n        class: 'mc-calendar__body',\n        role: 'grid',\n        'aria-readonly': 'true'\n    },\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McCalendarBody implements OnChanges {\n    /** The label for the table. (e.g. \"Jan 2017\"). */\n    @Input() label: string;\n\n    /** The cells to display in the table. */\n    @Input() rows: McCalendarCell[][];\n\n    /** The value in the table that corresponds to today. */\n    @Input() todayValue: number;\n\n    /** The value in the table that is currently selected. */\n    @Input() selectedValue: number;\n\n    /** The minimum number of free cells needed to fit the label in the first row. */\n    @Input() labelMinRequiredCells: number;\n\n    /** The number of columns in the table. */\n    @Input() numCols = 7;\n\n    /** The cell number of the active cell in the table. */\n    @Input() activeCell = 0;\n\n    /**\n     * The aspect ratio (width / height) to use for the cells in the table. This aspect ratio will be\n     * maintained even as the table resizes.\n     */\n    @Input() cellAspectRatio = 1;\n\n    /** Emits when a new value is selected. */\n    @Output() readonly selectedValueChange: EventEmitter<number> = new EventEmitter<number>();\n\n    /** The number of blank cells to put at the beginning for the first row. */\n    firstRowOffset: number;\n\n    /** Padding for the individual date cells. */\n    cellPadding: string;\n\n    /** Width of an individual cell. */\n    cellWidth: string;\n\n    constructor(private readonly elementRef: ElementRef<HTMLElement>, private readonly ngZone: NgZone) {}\n\n    cellClicked(cell: McCalendarCell): void {\n        if (cell.enabled) {\n            this.selectedValueChange.emit(cell.value);\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const columnChanges = changes.numCols;\n        // tslint:disable-next-line:no-this-assignment\n        const { rows, numCols } = this;\n\n        if (changes.rows || columnChanges) {\n            this.firstRowOffset = rows && rows.length && rows[0].length ? numCols - rows[0].length : 0;\n        }\n\n        if (changes.cellAspectRatio || columnChanges || !this.cellPadding) {\n            this.cellPadding = `${this.cellAspectRatio * 50 / numCols}%`;\n        }\n\n        if (columnChanges || !this.cellWidth) {\n            this.cellWidth = `${100 / numCols}%`;\n        }\n    }\n\n    isActiveCell(rowIndex: number, colIndex: number): boolean {\n        let cellNumber = rowIndex * this.numCols + colIndex;\n\n        // Account for the fact that the first row may not have as many cells.\n        if (rowIndex) {\n            cellNumber -= this.firstRowOffset;\n        }\n\n        return cellNumber === this.activeCell;\n    }\n\n    /** Focuses the active cell after the microtask queue is empty. */\n    focusActiveCell() {\n        this.ngZone.runOutsideAngular(() => {\n            this.ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n                const activeCell: HTMLElement | null =\n                    this.elementRef.nativeElement.querySelector('.mc-calendar__body_active');\n\n                if (activeCell) {\n                    activeCell.focus();\n                }\n            });\n        });\n    }\n}\n","/** @docs-private */\nexport function createMissingDateImplError(provider: string) {\n    return Error(\n        `McDatepicker: No provider found for ${provider}. You must import one of the existing ` +\n        `modules at your application root or provide a custom implementation or use exists ones.`);\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n\n/** Datepicker data that requires internationalization. */\n@Injectable({ providedIn: 'root' })\nexport class McDatepickerIntl {\n    /**\n     * Stream that emits whenever the labels here are changed. Use this to notify\n     * components if the labels have changed after initialization.\n     */\n    readonly changes: Subject<void> = new Subject<void>();\n\n    /** A label for the calendar popup (used by screen readers). */\n    calendarLabel: string = 'Calendar';\n\n    /** A label for the button used to open the calendar popup (used by screen readers). */\n    openCalendarLabel: string = 'Open calendar';\n\n    /** A label for the previous month button (used by screen readers). */\n    prevMonthLabel: string = 'Previous month';\n\n    /** A label for the next month button (used by screen readers). */\n    nextMonthLabel: string = 'Next month';\n\n    /** A label for the previous year button (used by screen readers). */\n    prevYearLabel: string = 'Previous year';\n\n    /** A label for the next year button (used by screen readers). */\n    nextYearLabel: string = 'Next year';\n\n    /** A label for the previous multi-year button (used by screen readers). */\n    prevMultiYearLabel: string = 'Previous 20 years';\n\n    /** A label for the next multi-year button (used by screen readers). */\n    nextMultiYearLabel: string = 'Next 20 years';\n\n    /** A label for the 'switch to month view' button (used by screen readers). */\n    switchToMonthViewLabel: string = 'Choose date';\n\n    /** A label for the 'switch to year view' button (used by screen readers). */\n    switchToMultiYearViewLabel: string = 'Choose month and year';\n}\n","// tslint:disable:no-magic-numbers\nimport { Directionality } from '@angular/cdk/bidi';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    Inject,\n    Input,\n    Optional,\n    Output,\n    ViewEncapsulation,\n    ViewChild\n} from '@angular/core';\nimport { DateAdapter, MC_DATE_FORMATS, McDateFormats } from '@ptsecurity/cdk/datetime';\nimport {\n    DOWN_ARROW,\n    END,\n    ENTER,\n    HOME,\n    LEFT_ARROW,\n    PAGE_DOWN,\n    PAGE_UP,\n    RIGHT_ARROW,\n    UP_ARROW,\n    SPACE\n} from '@ptsecurity/cdk/keycodes';\n\nimport { McCalendarBody, McCalendarCell, McCalendarCellCssClasses } from './calendar-body.component';\nimport { createMissingDateImplError } from './datepicker-errors';\n\n\nconst DAYS_PER_WEEK = 7;\n\n\n/**\n * An internal component used to display a single month in the datepicker.\n * @docs-private\n */\n@Component({\n    selector: 'mc-month-view',\n    exportAs: 'mcMonthView',\n    templateUrl: 'month-view.html',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McMonthView<D> implements AfterContentInit {\n    /**\n     * The date to display in this month view (everything other than the month and year is ignored).\n     */\n    @Input()\n    get activeDate(): D {\n        return this._activeDate;\n    }\n\n    set activeDate(value: D) {\n        const oldActiveDate = this._activeDate;\n        const validDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value)) || this.dateAdapter.today();\n        this._activeDate = this.dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n\n        if (!this.hasSameMonthAndYear(oldActiveDate, this._activeDate)) {\n            this.init();\n        }\n    }\n\n    /** The currently selected date. */\n    @Input()\n    get selected(): D | null {\n        return this._selected;\n    }\n\n    set selected(value: D | null) {\n        this._selected = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.selectedDate = this.getDateInCurrentMonth(this._selected);\n    }\n\n    /** The minimum selectable date. */\n    @Input()\n    get minDate(): D | null {\n        return this._minDate;\n    }\n\n    set minDate(value: D | null) {\n        this._minDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The maximum selectable date. */\n    @Input()\n    get maxDate(): D | null {\n        return this._maxDate;\n    }\n\n    set maxDate(value: D | null) {\n        this._maxDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** Function used to filter which dates are selectable. */\n    @Input() dateFilter: (date: D) => boolean;\n\n    /** Function that can be used to add custom CSS classes to dates. */\n    @Input() dateClass: (date: D) => McCalendarCellCssClasses;\n\n    /** Emits when a new date is selected. */\n    @Output() readonly selectedChange: EventEmitter<D | null> = new EventEmitter<D | null>();\n\n    /** Emits when any date is selected. */\n    @Output() readonly userSelection: EventEmitter<void> = new EventEmitter<void>();\n\n    /** Emits when any date is activated. */\n    @Output() readonly activeDateChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** The body of calendar table */\n    @ViewChild(McCalendarBody, {static: false}) mcCalendarBody: McCalendarBody;\n\n    /** The label for this month (e.g. \"January 2017\"). */\n    monthLabel: string;\n\n    /** Grid of calendar cells representing the dates of the month. */\n    weeks: McCalendarCell[][];\n\n    /** The number of blank cells in the first row before the 1st of the month. */\n    firstWeekOffset: number;\n\n    /**\n     * The date of the month that the currently selected Date falls on.\n     * Null if the currently selected Date is in another month.\n     */\n    selectedDate: number | null;\n\n    /** The date of the month that today falls on. Null if today is in another month. */\n    todayDate: number | null;\n\n    /** The names of the weekdays. */\n    weekdays: { long: string; narrow: string }[];\n    private _activeDate: D;\n    private _selected: D | null;\n    private _minDate: D | null;\n    private _maxDate: D | null;\n\n    constructor(\n        private changeDetectorRef: ChangeDetectorRef,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats,\n        @Optional() public dateAdapter: DateAdapter<D>,\n        @Optional() private dir?: Directionality\n    ) {\n\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        if (!this.dateFormats) {\n            throw createMissingDateImplError('MC_DATE_FORMATS');\n        }\n\n        const firstDayOfWeek = this.dateAdapter.getFirstDayOfWeek();\n        const narrowWeekdays = this.dateAdapter.getDayOfWeekNames('short');\n        const longWeekdays = this.dateAdapter.getDayOfWeekNames('long');\n\n        // Rotate the labels for days of the week based on the configured first day of the week.\n        const weekdays = longWeekdays.map((long, i) => {\n            return { long, narrow: narrowWeekdays[i] };\n        });\n        this.weekdays = weekdays\n            .slice(firstDayOfWeek)\n            .concat(weekdays.slice(0, firstDayOfWeek));\n\n        this._activeDate = this.dateAdapter.today();\n    }\n\n    ngAfterContentInit() {\n        this.init();\n    }\n\n    /** Handles when a new date is selected. */\n    dateSelected(date: number) {\n        if (this.selectedDate !== date) {\n            const selectedYear = this.dateAdapter.getYear(this.activeDate);\n            const selectedMonth = this.dateAdapter.getMonth(this.activeDate);\n            const selectedDate = this.dateAdapter.createDate(selectedYear, selectedMonth, date);\n\n            this.selectedChange.emit(selectedDate);\n        }\n\n        this.userSelection.emit();\n    }\n\n    /** Handles keydown events on the calendar body when calendar is in month view. */\n    handleCalendarBodyKeydown(event: KeyboardEvent): void {\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n\n        const oldActiveDate = this._activeDate;\n        const isRtl = this.isRtl();\n\n        // tslint:disable-next-line:deprecation\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarDays(this._activeDate, isRtl ? 1 : -1);\n                break;\n            case RIGHT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarDays(this._activeDate, isRtl ? -1 : 1);\n                break;\n            case UP_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarDays(this._activeDate, -7);\n                break;\n            case DOWN_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarDays(this._activeDate, 7);\n                break;\n            case HOME:\n                this.activeDate = this.dateAdapter.addCalendarDays(\n                    this._activeDate,\n                    1 - this.dateAdapter.getDate(this._activeDate)\n                );\n                break;\n            case END:\n                this.activeDate = this.dateAdapter.addCalendarDays(\n                    this._activeDate,\n                    (this.dateAdapter.getNumDaysInMonth(this._activeDate) - this.dateAdapter.getDate(this._activeDate))\n                );\n                break;\n            case PAGE_UP:\n                this.activeDate = event.altKey ?\n                    this.dateAdapter.addCalendarYears(this._activeDate, -1) :\n                    this.dateAdapter.addCalendarMonths(this._activeDate, -1);\n                break;\n            case PAGE_DOWN:\n                this.activeDate = event.altKey ?\n                    this.dateAdapter.addCalendarYears(this._activeDate, 1) :\n                    this.dateAdapter.addCalendarMonths(this._activeDate, 1);\n                break;\n            case ENTER:\n            case SPACE:\n                if (!this.dateFilter || this.dateFilter(this._activeDate)) {\n                    this.dateSelected(this.dateAdapter.getDate(this._activeDate));\n                    this.userSelection.emit();\n                    // Prevent unexpected default actions such as form submission.\n                    event.preventDefault();\n                }\n\n                return;\n            default:\n                // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n                return;\n        }\n\n        if (this.dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n            this.activeDateChange.emit(this.activeDate);\n        }\n\n        this.focusActiveCell();\n        // Prevent unexpected default actions such as form submission.\n        event.preventDefault();\n    }\n\n    /** Initializes this month view. */\n    init() {\n        this.selectedDate = this.getDateInCurrentMonth(this.selected);\n        this.todayDate = this.getDateInCurrentMonth(this.dateAdapter.today());\n        this.monthLabel = this.dateAdapter.getMonthNames('short')[this.dateAdapter.getMonth(this.activeDate)];\n\n        this.monthLabel = this.monthLabel[0].toLocaleUpperCase() + this.monthLabel.substr(1);\n\n        const firstOfMonth = this.dateAdapter.createDate(\n            this.dateAdapter.getYear(this.activeDate),\n            this.dateAdapter.getMonth(this.activeDate)\n        );\n\n        this.firstWeekOffset =\n            (DAYS_PER_WEEK + this.dateAdapter.getDayOfWeek(firstOfMonth) -\n                this.dateAdapter.getFirstDayOfWeek()) % DAYS_PER_WEEK;\n\n        this.createWeekCells();\n        this.changeDetectorRef.markForCheck();\n    }\n\n    /** Focuses the active cell after the microtask queue is empty. */\n    focusActiveCell() {\n        this.mcCalendarBody.focusActiveCell();\n    }\n\n    /** Creates McCalendarCells for the dates in this month. */\n    private createWeekCells() {\n        const daysInMonth = this.dateAdapter.getNumDaysInMonth(this.activeDate);\n        const dateNames = this.dateAdapter.getDateNames();\n\n        this.weeks = [[]];\n\n        for (let i = 0, cell = this.firstWeekOffset; i < daysInMonth; i++, cell++) {\n            if (cell === DAYS_PER_WEEK) {\n                this.weeks.push([]);\n                cell = 0;\n            }\n\n            const date = this.dateAdapter.createDate(\n                this.dateAdapter.getYear(this.activeDate),\n                this.dateAdapter.getMonth(this.activeDate),\n                i + 1\n            );\n            const enabled = this.shouldEnableDate(date);\n            const ariaLabel = this.dateAdapter.format(date, this.dateFormats.dateA11yLabel);\n            const cellClasses = this.dateClass ? this.dateClass(date) : undefined;\n\n            this.weeks[this.weeks.length - 1]\n                .push(new McCalendarCell(i + 1, dateNames[i], ariaLabel, enabled, cellClasses));\n        }\n    }\n\n    /** Date filter for the month */\n    private shouldEnableDate(date: D): boolean {\n        return !!date &&\n            (!this.dateFilter || this.dateFilter(date)) &&\n            (!this.minDate || this.dateAdapter.compareDate(date, this.minDate) >= 0) &&\n            (!this.maxDate || this.dateAdapter.compareDate(date, this.maxDate) <= 0);\n    }\n\n    /**\n     * Gets the date in this month that the given Date falls on.\n     * Returns null if the given Date is in another month.\n     */\n    private getDateInCurrentMonth(date: D | null): number | null {\n        return date && this.hasSameMonthAndYear(date, this.activeDate) ?\n            this.dateAdapter.getDate(date) : null;\n    }\n\n    /** Checks whether the 2 dates are non-null and fall within the same month of the same year. */\n    private hasSameMonthAndYear(d1: D | null, d2: D | null): boolean {\n        return !!(d1 && d2 && this.dateAdapter.getMonth(d1) === this.dateAdapter.getMonth(d2) &&\n            this.dateAdapter.getYear(d1) === this.dateAdapter.getYear(d2));\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    /** Determines whether the user has the RTL layout direction. */\n    private isRtl() {\n        return this.dir && this.dir.value === 'rtl';\n    }\n}\n","// tslint:disable:no-magic-numbers\nimport { Directionality } from '@angular/cdk/bidi';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    Input,\n    Optional,\n    Output,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { DateAdapter } from '@ptsecurity/cdk/datetime';\nimport {\n    DOWN_ARROW,\n    END,\n    ENTER,\n    HOME,\n    LEFT_ARROW,\n    PAGE_DOWN,\n    PAGE_UP,\n    RIGHT_ARROW,\n    UP_ARROW,\n    SPACE\n} from '@ptsecurity/cdk/keycodes';\n\nimport { McCalendarBody, McCalendarCell } from './calendar-body.component';\nimport { createMissingDateImplError } from './datepicker-errors';\n\n\nexport const yearsPerPage = 24;\n\nexport const yearsPerRow = 4;\n\n\n/**\n * An internal component used to display a year selector in the datepicker.\n * @docs-private\n */\n@Component({\n    selector: 'mc-multi-year-view',\n    exportAs: 'mcMultiYearView',\n    templateUrl: 'multi-year-view.html',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McMultiYearView<D> implements AfterContentInit {\n    /** The date to display in this multi-year view (everything other than the year is ignored). */\n    @Input()\n    get activeDate(): D {\n        return this._activeDate;\n    }\n\n    set activeDate(value: D) {\n        const oldActiveDate = this._activeDate;\n        const validDate =\n            this.getValidDateOrNull(this.dateAdapter.deserialize(value)) || this.dateAdapter.today();\n        this._activeDate = this.dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n\n        if (Math.floor(this.dateAdapter.getYear(oldActiveDate) / yearsPerPage) !==\n            Math.floor(this.dateAdapter.getYear(this._activeDate) / yearsPerPage)) {\n            this.init();\n        }\n    }\n\n    /** The currently selected date. */\n    @Input()\n    get selected(): D | null {\n        return this._selected;\n    }\n\n    set selected(value: D | null) {\n        this._selected = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.selectedYear = this._selected && this.dateAdapter.getYear(this._selected);\n    }\n\n    /** The minimum selectable date. */\n    @Input()\n    get minDate(): D | null {\n        return this._minDate;\n    }\n\n    set minDate(value: D | null) {\n        this._minDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The maximum selectable date. */\n    @Input()\n    get maxDate(): D | null {\n        return this._maxDate;\n    }\n\n    set maxDate(value: D | null) {\n        this._maxDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** A function used to filter which dates are selectable. */\n    @Input() dateFilter: (date: D) => boolean;\n\n    /** Emits when a new year is selected. */\n    @Output() readonly selectedChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits the selected year. This doesn't imply a change on the selected date */\n    @Output() readonly yearSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits when any date is activated. */\n    @Output() readonly activeDateChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** The body of calendar table */\n    @ViewChild(McCalendarBody, {static: false}) mcCalendarBody: McCalendarBody;\n\n    /** Grid of calendar cells representing the currently displayed years. */\n    years: McCalendarCell[][];\n\n    /** The year that today falls on. */\n    todayYear: number;\n\n    /** The year of the selected date. Null if the selected date is null. */\n    selectedYear: number | null;\n    private _activeDate: D;\n    private _selected: D | null;\n    private _minDate: D | null;\n    private _maxDate: D | null;\n\n    constructor(\n        private readonly changeDetectorRef: ChangeDetectorRef,\n        @Optional() public dateAdapter: DateAdapter<D>,\n        @Optional() private dir?: Directionality\n    ) {\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        this._activeDate = this.dateAdapter.today();\n    }\n\n    ngAfterContentInit() {\n        this.init();\n    }\n\n    /** Initializes this multi-year view. */\n    init() {\n        this.todayYear = this.dateAdapter.getYear(this.dateAdapter.today());\n        const activeYear = this.dateAdapter.getYear(this._activeDate);\n        const activeOffset = activeYear % yearsPerPage;\n        this.years = [];\n        for (let i = 0, row: number[] = []; i < yearsPerPage; i++) {\n            row.push(activeYear - activeOffset + i);\n            if (row.length === yearsPerRow) {\n                this.years.push(row.map((year) => this.createCellForYear(year)));\n                row = [];\n            }\n        }\n        this.changeDetectorRef.markForCheck();\n    }\n\n    /** Handles when a new year is selected. */\n    onYearSelected(year: number) {\n        this.yearSelected.emit(this.dateAdapter.createDate(year));\n        const month = this.dateAdapter.getMonth(this.activeDate);\n        const daysInMonth =\n            this.dateAdapter.getNumDaysInMonth(this.dateAdapter.createDate(year, month));\n        this.selectedChange.emit(\n            this.dateAdapter.createDate(year, month, Math.min(this.dateAdapter.getDate(this.activeDate), daysInMonth))\n        );\n    }\n\n    /** Handles keydown events on the calendar body when calendar is in multi-year view. */\n    handleCalendarBodyKeydown(event: KeyboardEvent): void {\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n\n        const oldActiveDate = this._activeDate;\n        const isRtl = this.isRtl();\n\n        // tslint:disable-next-line:deprecation\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarYears(this._activeDate, isRtl ? 1 : -1);\n                break;\n            case RIGHT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarYears(this._activeDate, isRtl ? -1 : 1);\n                break;\n            case UP_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarYears(this._activeDate, -yearsPerRow);\n                break;\n            case DOWN_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarYears(this._activeDate, yearsPerRow);\n                break;\n            case HOME:\n                this.activeDate = this.dateAdapter.addCalendarYears(\n                    this._activeDate,\n                    -this.dateAdapter.getYear(this._activeDate) % yearsPerPage\n                );\n                break;\n            case END:\n                this.activeDate = this.dateAdapter.addCalendarYears(\n                    this._activeDate,\n                    yearsPerPage - this.dateAdapter.getYear(this._activeDate) % yearsPerPage - 1\n                );\n                break;\n            case PAGE_UP:\n                this.activeDate =\n                    this.dateAdapter.addCalendarYears(\n                        this._activeDate, event.altKey ? -yearsPerPage * 10 : -yearsPerPage);\n                break;\n            case PAGE_DOWN:\n                this.activeDate =\n                    this.dateAdapter.addCalendarYears(\n                        this._activeDate, event.altKey ? yearsPerPage * 10 : yearsPerPage);\n                break;\n            case ENTER:\n            case SPACE:\n                this.onYearSelected(this.dateAdapter.getYear(this._activeDate));\n                break;\n            default:\n                // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n                return;\n        }\n\n        if (this.dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n            this.activeDateChange.emit(this.activeDate);\n        }\n\n        this.focusActiveCell();\n        // Prevent unexpected default actions such as form submission.\n        event.preventDefault();\n    }\n\n    getActiveCell(): number {\n        return this.dateAdapter.getYear(this.activeDate) % yearsPerPage;\n    }\n\n    /** Focuses the active cell after the microtask queue is empty. */\n    focusActiveCell() {\n        this.mcCalendarBody.focusActiveCell();\n    }\n\n    /** Creates an McCalendarCell for the given year. */\n    private createCellForYear(year: number) {\n        const yearName = this.dateAdapter.getYearName(this.dateAdapter.createDate(year));\n\n        return new McCalendarCell(year, yearName, yearName, this.shouldEnableYear(year));\n    }\n\n    /** Whether the given year is enabled. */\n    private shouldEnableYear(year: number) {\n        // disable if the year is greater than maxDate lower than minDate\n        if (year === undefined || year === null ||\n            (this.maxDate && year > this.dateAdapter.getYear(this.maxDate)) ||\n            (this.minDate && year < this.dateAdapter.getYear(this.minDate))) {\n            return false;\n        }\n\n        // enable if it reaches here and there's no filter defined\n        if (!this.dateFilter) {\n            return true;\n        }\n\n        const firstOfYear = this.dateAdapter.createDate(year);\n\n        // If any date in the year is enabled count the year as enabled.\n        for (let date = firstOfYear; this.dateAdapter.getYear(date) === year;\n             date = this.dateAdapter.addCalendarDays(date, 1)) {\n            if (this.dateFilter(date)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    /** Determines whether the user has the RTL layout direction. */\n    private isRtl() {\n        return this.dir && this.dir.value === 'rtl';\n    }\n}\n","import { Directionality } from '@angular/cdk/bidi';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    Inject,\n    Input,\n    Optional,\n    Output,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { DateAdapter, MC_DATE_FORMATS, McDateFormats } from '@ptsecurity/cdk/datetime';\nimport {\n    DOWN_ARROW,\n    END,\n    ENTER,\n    HOME,\n    LEFT_ARROW,\n    PAGE_DOWN,\n    PAGE_UP,\n    RIGHT_ARROW,\n    UP_ARROW,\n    SPACE\n} from '@ptsecurity/cdk/keycodes';\n\nimport { McCalendarBody, McCalendarCell } from './calendar-body.component';\nimport { createMissingDateImplError } from './datepicker-errors';\n\n\n/**\n * An internal component used to display a single year in the datepicker.\n * @docs-private\n */\n@Component({\n    selector: 'mc-year-view',\n    exportAs: 'mcYearView',\n    templateUrl: 'year-view.html',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McYearView<D> implements AfterContentInit {\n    /** The date to display in this year view (everything other than the year is ignored). */\n    @Input()\n    get activeDate(): D {\n        return this._activeDate;\n    }\n\n    set activeDate(value: D) {\n        const oldActiveDate = this._activeDate;\n        const validDate =\n            this.getValidDateOrNull(this.dateAdapter.deserialize(value)) || this.dateAdapter.today();\n        this._activeDate = this.dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n\n        if (this.dateAdapter.getYear(oldActiveDate) !== this.dateAdapter.getYear(this._activeDate)) {\n            this.init();\n        }\n    }\n\n    /** The currently selected date. */\n    @Input()\n    get selected(): D | null {\n        return this._selected;\n    }\n\n    set selected(value: D | null) {\n        this._selected = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.selectedMonth = this.getMonthInCurrentYear(this._selected);\n    }\n\n    /** The minimum selectable date. */\n    @Input()\n    get minDate(): D | null {\n        return this._minDate;\n    }\n\n    set minDate(value: D | null) {\n        this._minDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The maximum selectable date. */\n    @Input()\n    get maxDate(): D | null {\n        return this._maxDate;\n    }\n\n    set maxDate(value: D | null) {\n        this._maxDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** A function used to filter which dates are selectable. */\n    @Input() dateFilter: (date: D) => boolean;\n\n    /** Emits when a new month is selected. */\n    @Output() readonly selectedChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits the selected month. This doesn't imply a change on the selected date */\n    @Output() readonly monthSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits when any date is activated. */\n    @Output() readonly activeDateChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** The body of calendar table */\n    @ViewChild(McCalendarBody, {static: false}) mcCalendarBody: McCalendarBody;\n\n    /** Grid of calendar cells representing the months of the year. */\n    months: McCalendarCell[][];\n\n    /** The label for this year (e.g. \"2017\"). */\n    yearLabel: string;\n\n    /** The month in this year that today falls on. Null if today is in a different year. */\n    todayMonth: number | null;\n\n    /**\n     * The month in this year that the selected Date falls on.\n     * Null if the selected Date is in a different year.\n     */\n    selectedMonth: number | null;\n    private _activeDate: D;\n    private _selected: D | null;\n    private _minDate: D | null;\n    private _maxDate: D | null;\n\n    constructor(\n        private changeDetectorRef: ChangeDetectorRef,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats,\n        @Optional() public dateAdapter: DateAdapter<D>,\n        @Optional() private dir?: Directionality\n    ) {\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        if (!this.dateFormats) {\n            throw createMissingDateImplError('MC_DATE_FORMATS');\n        }\n\n        this._activeDate = this.dateAdapter.today();\n    }\n\n    ngAfterContentInit() {\n        this.init();\n    }\n\n    /** Handles when a new month is selected. */\n    onMonthSelected(month: number) {\n        const year = this.dateAdapter.getYear(this.activeDate);\n\n        const normalizedDate = this.dateAdapter.createDate(year, month);\n\n        this.monthSelected.emit(normalizedDate);\n\n        const daysInMonth = this.dateAdapter.getNumDaysInMonth(normalizedDate);\n\n        this.selectedChange.emit(\n            this.dateAdapter.createDate(\n                year,\n                month,\n                Math.min(this.dateAdapter.getDate(this.activeDate), daysInMonth)\n            )\n        );\n    }\n\n    /** Handles keydown events on the calendar body when calendar is in year view. */\n    handleCalendarBodyKeydown(event: KeyboardEvent): void {\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n\n        const oldActiveDate = this._activeDate;\n        const isRtl = this.isRtl();\n\n        const VERTICAL_SHIFT = 4;\n        const PAGE_SHIFT = 10;\n        const MAX_MONTH_INDEX = 11;\n\n        // tslint:disable-next-line:deprecation\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarMonths(this._activeDate, isRtl ? 1 : -1);\n                break;\n            case RIGHT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarMonths(this._activeDate, isRtl ? -1 : 1);\n                break;\n            case UP_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarMonths(this._activeDate, -VERTICAL_SHIFT);\n                break;\n            case DOWN_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarMonths(this._activeDate, VERTICAL_SHIFT);\n                break;\n            case HOME:\n                this.activeDate = this.dateAdapter.addCalendarMonths(\n                    this._activeDate,\n                    -this.dateAdapter.getMonth(this._activeDate)\n                );\n                break;\n            case END:\n                this.activeDate = this.dateAdapter.addCalendarMonths(\n                    this._activeDate,\n                    MAX_MONTH_INDEX - this.dateAdapter.getMonth(this._activeDate)\n                );\n                break;\n            case PAGE_UP:\n                this.activeDate =\n                    this.dateAdapter.addCalendarYears(this._activeDate, event.altKey ? -PAGE_SHIFT : -1);\n                break;\n            case PAGE_DOWN:\n                this.activeDate =\n                    this.dateAdapter.addCalendarYears(this._activeDate, event.altKey ? PAGE_SHIFT : 1);\n                break;\n            case ENTER:\n            case SPACE:\n                this.onMonthSelected(this.dateAdapter.getMonth(this._activeDate));\n                break;\n            default:\n                // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n                return;\n        }\n\n        if (this.dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n            this.activeDateChange.emit(this.activeDate);\n        }\n\n        this.focusActiveCell();\n        // Prevent unexpected default actions such as form submission.\n        event.preventDefault();\n    }\n\n    /** Initializes this year view. */\n    init() {\n        this.selectedMonth = this.getMonthInCurrentYear(this.selected);\n        this.todayMonth = this.getMonthInCurrentYear(this.dateAdapter.today());\n        this.yearLabel = this.dateAdapter.getYearName(this.activeDate);\n\n        const monthNames = this.dateAdapter.getMonthNames('short');\n\n        // First row of months only contains 5 elements so we can fit the year label on the same row.\n        // tslint:disable-next-line:no-magic-numbers\n        this.months = [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]]\n            .map((row) => row.map((month) => this.createCellForMonth(month, monthNames[month])));\n\n        this.changeDetectorRef.markForCheck();\n    }\n\n    /** Focuses the active cell after the microtask queue is empty. */\n    focusActiveCell() {\n        this.mcCalendarBody.focusActiveCell();\n    }\n\n    /**\n     * Gets the month in this year that the given Date falls on.\n     * Returns null if the given Date is in another year.\n     */\n    private getMonthInCurrentYear(date: D | null) {\n        return date && this.dateAdapter.getYear(date) === this.dateAdapter.getYear(this.activeDate) ?\n            this.dateAdapter.getMonth(date) : null;\n    }\n\n    /** Creates an McCalendarCell for the given month. */\n    private createCellForMonth(month: number, monthName: string) {\n        const ariaLabel = this.dateAdapter.format(\n            this.dateAdapter.createDate(this.dateAdapter.getYear(this.activeDate), month),\n            this.dateFormats.monthYearA11yLabel\n        );\n\n        const newMonthName = monthName[0].toLocaleUpperCase() + monthName.substr(1);\n\n        return new McCalendarCell(\n            month, newMonthName, ariaLabel, this.shouldEnableMonth(month));\n    }\n\n    /** Whether the given month is enabled. */\n    private shouldEnableMonth(month: number) {\n\n        const activeYear = this.dateAdapter.getYear(this.activeDate);\n\n        if (month === undefined || month === null ||\n            this.isYearAndMonthAfterMaxDate(activeYear, month) ||\n            this.isYearAndMonthBeforeMinDate(activeYear, month)) {\n            return false;\n        }\n\n        if (!this.dateFilter) {\n            return true;\n        }\n\n        const firstOfMonth = this.dateAdapter.createDate(activeYear, month);\n\n        // If any date in the month is enabled count the month as enabled.\n        for (let date = firstOfMonth; this.dateAdapter.getMonth(date) === month;\n             date = this.dateAdapter.addCalendarDays(date, 1)) {\n            if (this.dateFilter(date)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Tests whether the combination month/year is after this.maxDate, considering\n     * just the month and year of this.maxDate\n     */\n    private isYearAndMonthAfterMaxDate(year: number, month: number) {\n        if (this.maxDate) {\n            const maxYear = this.dateAdapter.getYear(this.maxDate);\n            const maxMonth = this.dateAdapter.getMonth(this.maxDate);\n\n            return year > maxYear || (year === maxYear && month > maxMonth);\n        }\n\n        return false;\n    }\n\n    /**\n     * Tests whether the combination month/year is before this.minDate, considering\n     * just the month and year of this.minDate\n     */\n    private isYearAndMonthBeforeMinDate(year: number, month: number) {\n        if (this.minDate) {\n            const minYear = this.dateAdapter.getYear(this.minDate);\n            const minMonth = this.dateAdapter.getMonth(this.minDate);\n\n            return year < minYear || (year === minYear && month < minMonth);\n        }\n\n        return false;\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    /** Determines whether the user has the RTL layout direction. */\n    private isRtl() {\n        return this.dir && this.dir.value === 'rtl';\n    }\n}\n","import { ComponentPortal, ComponentType, Portal } from '@angular/cdk/portal';\nimport {\n    AfterContentInit,\n    AfterViewChecked,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    forwardRef,\n    Inject,\n    Input,\n    OnChanges,\n    OnDestroy,\n    Optional,\n    Output,\n    SimpleChanges,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { DateAdapter, MC_DATE_FORMATS, McDateFormats } from '@ptsecurity/cdk/datetime';\nimport { Subject, Subscription } from 'rxjs';\n\nimport { McCalendarCellCssClasses } from './calendar-body.component';\nimport { createMissingDateImplError } from './datepicker-errors';\nimport { McDatepickerIntl } from './datepicker-intl';\nimport { McMonthView } from './month-view.component';\nimport { McMultiYearView, yearsPerPage } from './multi-year-view.component';\nimport { McYearView } from './year-view.component';\n\n\n/**\n * Possible views for the calendar.\n * @docs-private\n */\nexport enum McCalendarView {\n    Month = 'month',\n    Year = 'year',\n    MultiYear = 'multi-year'\n}\n\n/** Default header for McCalendar */\n@Component({\n    selector: 'mc-calendar-header',\n    templateUrl: 'calendar-header.html',\n    exportAs: 'mcCalendarHeader',\n    host: {\n        class: 'mc-calendar-header'\n    },\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McCalendarHeader<D> {\n    constructor(\n        private readonly intl: McDatepickerIntl,\n        @Inject(forwardRef(() => McCalendar)) public calendar: McCalendar<D>,\n        @Optional() private readonly dateAdapter: DateAdapter<D>,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats,\n        changeDetectorRef: ChangeDetectorRef\n    ) {\n        this.calendar.stateChanges.subscribe(() => changeDetectorRef.markForCheck());\n    }\n\n    /** The label for the current calendar view. */\n    get periodButtonText(): string {\n        if (this.calendar.currentView === McCalendarView.Month) {\n            const label = this.dateAdapter.format(this.calendar.activeDate, this.dateFormats.monthYearLabel);\n\n            return (label[0].toLocaleUpperCase() + label.substr(1)).replace('.', '');\n        }\n\n        if (this.calendar.currentView === McCalendarView.Year) {\n            return this.dateAdapter.getYearName(this.calendar.activeDate);\n        }\n\n        const activeYear = this.dateAdapter.getYear(this.calendar.activeDate);\n        const firstYearInView = this.dateAdapter.getYearName(\n            // tslint:disable-next-line:no-magic-numbers\n            this.dateAdapter.createDate(activeYear - activeYear % 24)\n        );\n        const lastYearInView = this.dateAdapter.getYearName(\n            // tslint:disable-next-line:no-magic-numbers\n            this.dateAdapter.createDate(activeYear + yearsPerPage - 1 - activeYear % 24)\n        );\n\n        return `${firstYearInView} \\u2013 ${lastYearInView}`;\n    }\n\n    get periodButtonLabel(): string {\n        return this.calendar.currentView === McCalendarView.Month ?\n            this.intl.switchToMultiYearViewLabel : this.intl.switchToMonthViewLabel;\n    }\n\n    /** The label for the previous button. */\n    get prevButtonLabel(): string {\n        return {\n            [McCalendarView.Month]: this.intl.prevMonthLabel,\n            [McCalendarView.Year]: this.intl.prevYearLabel,\n            [McCalendarView.MultiYear]: this.intl.prevMultiYearLabel\n        }[this.calendar.currentView];\n    }\n\n    /** The label for the next button. */\n    get nextButtonLabel(): string {\n        return {\n            [McCalendarView.Month]: this.intl.nextMonthLabel,\n            [McCalendarView.Year]: this.intl.nextYearLabel,\n            [McCalendarView.MultiYear]: this.intl.nextMultiYearLabel\n        }[this.calendar.currentView];\n    }\n\n    /** Handles user clicks on the period label. */\n    currentPeriodClicked(): void {\n        if (([McCalendarView.Month, McCalendarView.MultiYear] as McCalendarView[]).includes(this.calendar.currentView)) {\n            this.calendar.currentView = McCalendarView.Year;\n        } else if (this.calendar.currentView === McCalendarView.Year) {\n            this.calendar.currentView = McCalendarView.Month;\n        }\n    }\n\n    /** Handles user clicks on the previous button. */\n    previousClicked(): void {\n        if (this.calendar.currentView === McCalendarView.Month) {\n            this.calendar.activeDate = this.dateAdapter.addCalendarMonths(this.calendar.activeDate, -1);\n        } else {\n            this.calendar.activeDate = this.dateAdapter.addCalendarYears(\n                this.calendar.activeDate,\n                this.calendar.currentView === McCalendarView.Year ? -1 : -yearsPerPage\n            );\n        }\n    }\n\n    /** Handles user clicks on the next button. */\n    nextClicked(): void {\n        if (this.calendar.currentView === McCalendarView.Month) {\n            this.calendar.activeDate = this.dateAdapter.addCalendarMonths(this.calendar.activeDate, 1);\n        } else {\n            this.calendar.activeDate = this.dateAdapter.addCalendarYears(\n                this.calendar.activeDate,\n                this.calendar.currentView === McCalendarView.Year ? 1 : yearsPerPage\n            );\n        }\n    }\n\n    /** Whether the previous period button is enabled. */\n    previousEnabled(): boolean {\n        if (!this.calendar.minDate) { return true; }\n\n        return !this.calendar.minDate || !this.isSameView(this.calendar.activeDate, this.calendar.minDate);\n    }\n\n    /** Whether the next period button is enabled. */\n    nextEnabled(): boolean {\n        return !this.calendar.maxDate || !this.isSameView(this.calendar.activeDate, this.calendar.maxDate);\n    }\n\n    /** Whether the two dates represent the same view in the current view mode (month or year). */\n    private isSameView(firstDate: D, secondDate: D): boolean {\n        const firstYear = this.dateAdapter.getYear(firstDate);\n        const secondYear = this.dateAdapter.getYear(secondDate);\n\n        const firstMonth = this.dateAdapter.getMonth(firstDate);\n        const secondMonth = this.dateAdapter.getMonth(secondDate);\n\n        if (this.calendar.currentView === McCalendarView.Month) {\n            return firstYear === secondYear && firstMonth === secondMonth;\n        }\n\n        if (this.calendar.currentView === McCalendarView.Year) { return firstYear === secondYear; }\n\n        // Otherwise we are in 'multi-year' view.\n        return Math.floor(firstYear / yearsPerPage) === Math.floor(secondYear / yearsPerPage);\n    }\n}\n\n/**\n * A calendar that is used as part of the datepicker.\n * @docs-private\n */\n@Component({\n    selector: 'mc-calendar',\n    exportAs: 'mcCalendar',\n    templateUrl: 'calendar.html',\n    styleUrls: ['calendar.scss'],\n    host: {\n        class: 'mc-calendar'\n    },\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McCalendar<D> implements AfterContentInit, AfterViewChecked, OnDestroy, OnChanges {\n\n    /** A date representing the period (month or year) to start the calendar in. */\n    @Input()\n    get startAt(): D | null {\n        return this._startAt;\n    }\n\n    set startAt(value: D | null) {\n        this._startAt = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The currently selected date. */\n    @Input()\n    get selected(): D | null {\n        return this._selected;\n    }\n\n    set selected(value: D | null) {\n        this._selected = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The minimum selectable date. */\n    @Input()\n    get minDate(): D | null {\n        return this._minDate;\n    }\n\n    set minDate(value: D | null) {\n        this._minDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The maximum selectable date. */\n    @Input()\n    get maxDate(): D | null {\n        return this._maxDate;\n    }\n\n    set maxDate(value: D | null) {\n        this._maxDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /**\n     * The current active date. This determines which time period is shown and which date is\n     * highlighted when using keyboard navigation.\n     */\n    get activeDate(): D {\n        return this.clampedActiveDate;\n    }\n\n    set activeDate(value: D) {\n        this.clampedActiveDate = this.dateAdapter.clampDate(value, this.minDate, this.maxDate);\n        this.stateChanges.next();\n    }\n\n    /** Whether the calendar is in month view. */\n    get currentView(): McCalendarView {\n        return this._currentView;\n    }\n\n    set currentView(value: McCalendarView) {\n        this._currentView = value;\n        this.moveFocusOnNextTick = true;\n    }\n\n    /** An input indicating the type of the header component, if set. */\n    @Input() headerComponent: ComponentType<any>;\n\n    /** A portal containing the header component type for this calendar. */\n    calendarHeaderPortal: Portal<any>;\n\n    /** Whether the calendar should be started in month or year view. */\n    @Input() startView: McCalendarView = McCalendarView.Month;\n\n    /** Function used to filter which dates are selectable. */\n    @Input() dateFilter: (date: D) => boolean;\n\n    /** Function that can be used to add custom CSS classes to dates. */\n    @Input() dateClass: (date: D) => McCalendarCellCssClasses;\n\n    /** Emits when the currently selected date changes. */\n    @Output() readonly selectedChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /**\n     * Emits the year chosen in multiyear view.\n     * This doesn't imply a change on the selected date.\n     */\n    @Output() readonly yearSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /**\n     * Emits the month chosen in year view.\n     * This doesn't imply a change on the selected date.\n     */\n    @Output() readonly monthSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits when any date is selected. */\n    @Output() readonly userSelection: EventEmitter<void> = new EventEmitter<void>();\n\n    /** Reference to the current month view component. */\n    @ViewChild(McMonthView, {static: false}) monthView: McMonthView<D>;\n\n    /** Reference to the current year view component. */\n    @ViewChild(McYearView, {static: false}) yearView: McYearView<D>;\n\n    /** Reference to the current multi-year view component. */\n    @ViewChild(McMultiYearView, {static: false}) multiYearView: McMultiYearView<D>;\n\n    /**\n     * Emits whenever there is a state change that the header may need to respond to.\n     */\n    stateChanges = new Subject<void>();\n\n    private readonly intlChanges: Subscription;\n\n    /**\n     * Used for scheduling that focus should be moved to the active cell on the next tick.\n     * We need to schedule it, rather than do it immediately, because we have to wait\n     * for Angular to re-evaluate the view children.\n     */\n    private moveFocusOnNextTick = false;\n    private _startAt: D | null;\n    private _selected: D | null;\n    private _minDate: D | null;\n    private _maxDate: D | null;\n    private clampedActiveDate: D;\n    private _currentView: McCalendarView;\n\n    constructor(\n        intl: McDatepickerIntl,\n        @Optional() private readonly dateAdapter: DateAdapter<D>,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats,\n        private changeDetectorRef: ChangeDetectorRef\n    ) {\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        if (!this.dateFormats) {\n            throw createMissingDateImplError('MC_DATE_FORMATS');\n        }\n\n        this.intlChanges = intl.changes.subscribe(() => {\n            changeDetectorRef.markForCheck();\n            this.stateChanges.next();\n        });\n    }\n\n    ngAfterContentInit() {\n        this.calendarHeaderPortal = new ComponentPortal(this.headerComponent || McCalendarHeader);\n        this.activeDate = this.startAt || this.dateAdapter.today();\n\n        // Assign to the private property since we don't want to move focus on init.\n        this._currentView = this.startView;\n    }\n\n    ngAfterViewChecked() {\n        if (this.moveFocusOnNextTick) {\n            this.moveFocusOnNextTick = false;\n            this.focusActiveCell();\n        }\n    }\n\n    ngOnDestroy() {\n        this.intlChanges.unsubscribe();\n        this.stateChanges.complete();\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const change = changes.minDate || changes.maxDate || changes.dateFilter;\n\n        if (change && !change.firstChange) {\n            const view = this.getCurrentViewComponent();\n\n            if (view) {\n                // We need to `detectChanges` manually here, because the `minDate`, `maxDate` etc. are\n                // passed down to the view via data bindings which won't be up-to-date when we call `init`.\n                this.changeDetectorRef.detectChanges();\n                view.init();\n            }\n        }\n\n        this.stateChanges.next();\n    }\n\n    focusActiveCell() {\n        this.getCurrentViewComponent().focusActiveCell();\n    }\n\n    /** Updates today's date after an update of the active date */\n    updateTodaysDate() {\n        const view = this.currentView === McCalendarView.Month ? this.monthView :\n            (this.currentView === McCalendarView.Year ? this.yearView : this.multiYearView);\n\n        view.ngAfterContentInit();\n    }\n\n    /** Handles date selection in the month view. */\n    dateSelected(date: D): void {\n        if (!this.dateAdapter.sameDate(date, this.selected)) {\n            this.selectedChange.emit(date);\n        }\n    }\n\n    /** Handles year selection in the multiyear view. */\n    yearSelectedInMultiYearView(normalizedYear: D) {\n        this.yearSelected.emit(normalizedYear);\n    }\n\n    /** Handles month selection in the year view. */\n    monthSelectedInYearView(normalizedMonth: D) {\n        this.monthSelected.emit(normalizedMonth);\n    }\n\n    userSelected(): void {\n        this.userSelection.emit();\n    }\n\n    /** Handles year/month selection in the multi-year/year views. */\n    goToDateInView(date: D, view: McCalendarView | string): void {\n        this.activeDate = date;\n        this.currentView = view as McCalendarView;\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    /** Returns the component instance that corresponds to the current calendar view. */\n    private getCurrentViewComponent() {\n        return this.monthView || this.yearView || this.multiYearView;\n    }\n}\n","import {\n    animate,\n    state,\n    style,\n    transition,\n    trigger,\n    AnimationTriggerMetadata\n} from '@angular/animations';\n\n\n/**\n * Animations used by the mosaic datepicker.\n * @docs-private\n */\nexport const mcDatepickerAnimations: {\n    readonly transformPanel: AnimationTriggerMetadata;\n    readonly fadeInCalendar: AnimationTriggerMetadata;\n} = {\n    /** Transforms the height of the datepicker's calendar. */\n    transformPanel: trigger('transformPanel', [\n        state('void', style({\n            opacity: 0,\n            transform: 'scale(1, 0.8)'\n        })),\n        transition('void => enter', animate('120ms cubic-bezier(0, 0, 0.2, 1)', style({\n            opacity: 1,\n            transform: 'scale(1, 1)'\n        }))),\n        transition('* => void', animate('100ms linear', style({ opacity: 0 })))\n    ]),\n\n    /** Fades in the content of the calendar. */\n    fadeInCalendar: trigger('fadeInCalendar', [\n        state('void', style({ opacity: 0 })),\n        state('enter', style({ opacity: 1 })),\n\n        // need to keep it until #12440 gets in, otherwise the exit animation will look glitchy.\n        transition('void => *', animate('120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)'))\n    ])\n};\n\n// todo should be put into polyfils\n// https://github.com/angular/angular/issues/24769\nif (!Element.prototype.matches) {\n    Element.prototype.matches = (Element.prototype as any).msMatchesSelector;\n}\n","// tslint:disable:no-unbound-method\n// tslint:disable:no-magic-numbers\nimport { Directionality } from '@angular/cdk/bidi';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n    Overlay,\n    OverlayConfig,\n    OverlayRef,\n    PositionStrategy,\n    ScrollStrategy\n} from '@angular/cdk/overlay';\nimport { ComponentPortal, ComponentType } from '@angular/cdk/portal';\nimport { DOCUMENT } from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ComponentRef,\n    EventEmitter,\n    Inject,\n    InjectionToken,\n    Input,\n    NgZone,\n    OnDestroy,\n    Optional,\n    Output,\n    ViewChild,\n    ViewContainerRef,\n    ViewEncapsulation\n} from '@angular/core';\nimport { DateAdapter } from '@ptsecurity/cdk/datetime';\nimport { McFormFieldControl } from '@ptsecurity/mosaic/form-field';\nimport { merge, Subject, Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nimport { McCalendarCellCssClasses } from './calendar-body.component';\nimport { McCalendar, McCalendarView } from './calendar.component';\nimport { mcDatepickerAnimations } from './datepicker-animations';\nimport { createMissingDateImplError } from './datepicker-errors';\nimport { McDatepickerInput } from './datepicker-input.directive';\n\n\n/** Used to generate a unique ID for each datepicker instance. */\nlet datepickerUid = 0;\n\n/** Injection token that determines the scroll handling while the calendar is open. */\nexport const MC_DATEPICKER_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mc-datepicker-scroll-strategy');\n\n/** @docs-private */\n// tslint:disable-next-line:naming-convention\nexport function MC_DATEPICKER_SCROLL_STRATEGY_FACTORY(overlay: Overlay): () => ScrollStrategy {\n    return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const MC_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER = {\n    provide: MC_DATEPICKER_SCROLL_STRATEGY,\n    deps: [Overlay],\n    useFactory: MC_DATEPICKER_SCROLL_STRATEGY_FACTORY\n};\n\n/**\n * Component used as the content for the datepicker dialog and popup. We use this instead of using\n * McCalendar directly as the content so we can control the initial focus. This also gives us a\n * place to put additional features of the popup that are not part of the calendar itself in the\n * future. (e.g. confirmation buttons).\n * @docs-private\n */\n@Component({\n    selector: 'mc-datepicker__content',\n    exportAs: 'mcDatepickerContent',\n    templateUrl: 'datepicker-content.html',\n    styleUrls: ['datepicker-content.scss'],\n    host: {\n        class: 'mc-datepicker__content',\n\n        '[@transformPanel]': 'animationState',\n        '(@transformPanel.done)': 'animationDone.next()'\n    },\n    animations: [\n        mcDatepickerAnimations.transformPanel,\n        mcDatepickerAnimations.fadeInCalendar\n    ],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McDatepickerContent<D> implements OnDestroy {\n    /** Emits when an animation has finished. */\n    readonly animationDone = new Subject<void>();\n\n    /** Reference to the datepicker that created the overlay. */\n    datepicker: McDatepicker<D>;\n\n    /** Current state of the animation. */\n    animationState: 'enter' | 'void';\n\n    /** Reference to the internal calendar component. */\n    @ViewChild(McCalendar) calendar: McCalendar<D>;\n\n    private subscriptions = new Subscription();\n\n    constructor(private changeDetectorRef: ChangeDetectorRef) {}\n\n    ngAfterViewInit() {\n        this.subscriptions.add(this.datepicker.stateChanges.subscribe(() => {\n            this.changeDetectorRef.markForCheck();\n        }));\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n        this.animationDone.complete();\n    }\n\n    startExitAnimation() {\n        this.animationState = 'void';\n        this.changeDetectorRef.markForCheck();\n    }\n}\n\n\n// TODO: We use a component instead of a directive here so the user can use implicit\n// template reference variables (e.g. #d vs #d=\"mcDatepicker\"). We can change this to a directive\n// if angular adds support for `exportAs: '$implicit'` on directives.\n/** Component responsible for managing the datepicker popup/dialog. */\n@Component({\n    selector: 'mc-datepicker',\n    template: '',\n    exportAs: 'mcDatepicker',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    providers: [{ provide: McFormFieldControl, useExisting: McDatepicker }]\n})\nexport class McDatepicker<D> implements OnDestroy {\n    @Input()\n    get hasBackdrop(): boolean {\n        return this._hasBackdrop;\n    }\n\n    set hasBackdrop(value: boolean) {\n        this._hasBackdrop = coerceBooleanProperty(value);\n    }\n\n    private _hasBackdrop: boolean = false;\n\n    /** The date to open the calendar to initially. */\n    @Input()\n    get startAt(): D | null {\n        // If an explicit startAt is set we start there, otherwise we start at whatever the currently\n        // selected value is.\n        return this._startAt || (this.datepickerInput ? this.datepickerInput.value : null);\n    }\n\n    set startAt(value: D | null) {\n        this._startAt = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    private _startAt: D | null;\n\n    /** Whether the datepicker pop-up should be disabled. */\n    @Input()\n    get disabled(): boolean {\n        return this._disabled === undefined && this.datepickerInput ? this.datepickerInput.disabled : this._disabled;\n    }\n\n    set disabled(value: boolean) {\n        const newValue = coerceBooleanProperty(value);\n\n        if (newValue !== this._disabled) {\n            this._disabled = newValue;\n            this.disabledChange.next(newValue);\n        }\n    }\n\n    private _disabled: boolean;\n\n    /** Whether the calendar is open. */\n    @Input()\n    get opened(): boolean {\n        return this._opened;\n    }\n\n    set opened(value: boolean) {\n        coerceBooleanProperty(value) ? this.open() : this.close();\n    }\n\n    private _opened = false;\n\n    /** The currently selected date. */\n    get selected(): D | null {\n        return this.validSelected;\n    }\n\n    set selected(value: D | null) {\n        this.validSelected = value;\n    }\n\n    /** The minimum selectable date. */\n    get minDate(): D | null {\n        return this.datepickerInput && this.datepickerInput.min;\n    }\n\n    /** The maximum selectable date. */\n    get maxDate(): D | null {\n        return this.datepickerInput && this.datepickerInput.max;\n    }\n\n    get dateFilter(): (date: D | null) => boolean {\n        return this.datepickerInput && this.datepickerInput.dateFilter;\n    }\n\n    get value(): D | null {\n        return this.selected;\n    }\n\n    /** An input indicating the type of the custom header component for the calendar, if set. */\n    @Input() calendarHeaderComponent: ComponentType<any>;\n\n    /** The view that the calendar should start in. */\n    @Input() startView: McCalendarView = McCalendarView.Month;\n\n    /**\n     * Emits selected year in multiyear view.\n     * This doesn't imply a change on the selected date.\n     */\n    @Output() readonly yearSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /**\n     * Emits selected month in year view.\n     * This doesn't imply a change on the selected date.\n     */\n    @Output() readonly monthSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Classes to be passed to the date picker panel. Supports the same syntax as `ngClass`. */\n    @Input() panelClass: string | string[];\n\n    /** Function that can be used to add custom CSS classes to dates. */\n    @Input() dateClass: (date: D) => McCalendarCellCssClasses;\n\n    @Input() backdropClass: string = 'cdk-overlay-transparent-backdrop';\n\n    /** Emits when the datepicker has been opened. */\n    @Output('opened') openedStream: EventEmitter<void> = new EventEmitter<void>();\n\n    /** Emits when the datepicker has been closed. */\n    @Output('closed') closedStream: EventEmitter<void> = new EventEmitter<void>();\n\n    /** The id for the datepicker calendar. */\n    id: string = `mc-datepicker-${datepickerUid++}`;\n\n    /** A reference to the overlay when the calendar is opened as a popup. */\n    popupRef: OverlayRef | null;\n\n    /** The input element this datepicker is associated with. */\n    datepickerInput: McDatepickerInput<D>;\n\n    readonly stateChanges: Subject<void> = new Subject<void>();\n\n    /** Emits when the datepicker is disabled. */\n    readonly disabledChange = new Subject<boolean>();\n\n    /** Emits new selected date when selected date changes. */\n    readonly selectedChanged = new Subject<D>();\n    private scrollStrategy: () => ScrollStrategy;\n    private validSelected: D | null = null;\n\n    /** A portal containing the calendar for this datepicker. */\n    private calendarPortal: ComponentPortal<McDatepickerContent<D>>;\n\n    /** Reference to the component instantiated in popup mode. */\n    private popupComponentRef: ComponentRef<McDatepickerContent<D>> | null;\n\n    /** The element that was focused before the datepicker was opened. */\n    private focusedElementBeforeOpen: HTMLElement | null = null;\n\n    /** Subscription to value changes in the associated input element. */\n    private inputSubscription = Subscription.EMPTY;\n\n    private closeSubscription = Subscription.EMPTY;\n\n    constructor(\n        private overlay: Overlay,\n        private ngZone: NgZone,\n        private viewContainerRef: ViewContainerRef,\n        @Inject(MC_DATEPICKER_SCROLL_STRATEGY) scrollStrategy: any,\n        @Optional() private readonly dateAdapter: DateAdapter<D>,\n        @Optional() private dir: Directionality,\n        @Optional() @Inject(DOCUMENT) private document: any\n    ) {\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        this.scrollStrategy = scrollStrategy;\n    }\n\n    ngOnDestroy() {\n        this.close();\n        this.inputSubscription.unsubscribe();\n        this.closeSubscription.unsubscribe();\n        this.disabledChange.complete();\n\n        this.destroyOverlay();\n    }\n\n    /** Selects the given date */\n    select(date: D): void {\n        const oldValue = this.selected;\n        this.selected = date;\n\n        if (!this.dateAdapter.sameDate(oldValue, this.selected)) {\n            this.selectedChanged.next(date);\n        }\n    }\n\n    /** Emits the selected year in multiyear view */\n    selectYear(normalizedYear: D): void {\n        this.yearSelected.emit(normalizedYear);\n    }\n\n    /** Emits selected month in year view */\n    selectMonth(normalizedMonth: D): void {\n        this.monthSelected.emit(normalizedMonth);\n    }\n\n    /**\n     * Register an input with this datepicker.\n     * @param input The datepicker input to register with this datepicker.\n     */\n    registerInput(input: McDatepickerInput<D>): void {\n        if (this.datepickerInput) {\n            throw Error('A McDatepicker can only be associated with a single input.');\n        }\n\n        this.datepickerInput = input;\n        this.inputSubscription = this.datepickerInput.valueChange\n            .subscribe((value: D | null) => {\n                this.selected = value;\n\n                if (this.popupComponentRef) {\n                    this.popupComponentRef.instance.calendar.monthView?.init();\n                    this.popupComponentRef.instance.calendar.activeDate = value as D;\n                }\n            });\n    }\n\n    /** Open the calendar. */\n    open(): void {\n        if (this._opened || this.disabled) { return; }\n\n        if (!this.datepickerInput) {\n            throw Error('Attempted to open an McDatepicker with no associated input.');\n        }\n\n        if (this.document) {\n            this.focusedElementBeforeOpen = this.document.activeElement;\n        }\n\n        this.openAsPopup();\n\n        this._opened = true;\n        this.openedStream.emit();\n    }\n\n    /** Close the calendar. */\n    close(restoreFocus: boolean = true): void {\n        if (!this._opened) { return; }\n\n        if (this.popupComponentRef) {\n            const instance = this.popupComponentRef.instance;\n            instance.startExitAnimation();\n            instance.animationDone\n                .pipe(take(1))\n                .subscribe(() => this.destroyOverlay());\n        }\n\n        if (restoreFocus) {\n            this.focusedElementBeforeOpen!.focus();\n        }\n\n        this._opened = false;\n        this.closedStream.emit();\n        this.focusedElementBeforeOpen = null;\n    }\n\n    toggle(): void {\n        if (this.datepickerInput.isReadOnly) { return; }\n\n        this._opened ? this.close() : this.open();\n    }\n\n    /** Destroys the current overlay. */\n    private destroyOverlay() {\n        if (this.popupRef) {\n            this.popupRef.dispose();\n            this.popupRef = this.popupComponentRef = null;\n        }\n    }\n\n    /** Open the calendar as a popup. */\n    private openAsPopup(): void {\n        if (!this.calendarPortal) {\n            this.calendarPortal = new ComponentPortal<McDatepickerContent<D>>(\n                McDatepickerContent, this.viewContainerRef\n            );\n        }\n\n        if (!this.popupRef) {\n            this.createPopup();\n        }\n\n        if (!this.popupRef!.hasAttached()) {\n            this.popupComponentRef = this.popupRef!.attach(this.calendarPortal);\n            this.popupComponentRef.instance.datepicker = this;\n\n            // Update the position once the calendar has rendered.\n            this.ngZone.onStable.asObservable()\n                .pipe(take(1))\n                .subscribe(() => this.popupRef!.updatePosition());\n        }\n    }\n\n    /** Create the popup. */\n    private createPopup(): void {\n        const overlayConfig = new OverlayConfig({\n            positionStrategy: this.createPopupPositionStrategy(),\n            hasBackdrop: this.hasBackdrop,\n            backdropClass: this.backdropClass,\n            direction: this.dir,\n            scrollStrategy: this.scrollStrategy(),\n            panelClass: 'mc-datepicker__popup'\n        });\n\n        this.popupRef = this.overlay.create(overlayConfig);\n\n        this.closeSubscription = this.closingActions()\n            .subscribe(() => this.close(this.restoreFocus()));\n    }\n\n    private restoreFocus(): boolean {\n        return this.document.activeElement === this.document.body;\n    }\n\n    private closingActions() {\n        return merge(\n            this.popupRef!.backdropClick(),\n            this.popupRef!.outsidePointerEvents(),\n            this.popupRef!.detachments()\n        );\n    }\n\n    /** Create the popup PositionStrategy. */\n    private createPopupPositionStrategy(): PositionStrategy {\n        return this.overlay.position()\n            .flexibleConnectedTo(this.datepickerInput.elementRef)\n            .withTransformOriginOn('.mc-datepicker__content')\n            .withFlexibleDimensions(false)\n            .withViewportMargin(8)\n            .withLockedPosition()\n            .withPositions([\n                {\n                    originX: 'start',\n                    originY: 'bottom',\n                    overlayX: 'start',\n                    overlayY: 'top'\n                },\n                {\n                    originX: 'start',\n                    originY: 'top',\n                    overlayX: 'start',\n                    overlayY: 'bottom'\n                },\n                {\n                    originX: 'end',\n                    originY: 'bottom',\n                    overlayX: 'end',\n                    overlayY: 'top'\n                },\n                {\n                    originX: 'end',\n                    originY: 'top',\n                    overlayX: 'end',\n                    overlayY: 'bottom'\n                }\n            ]);\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n}\n","// @ts-nocheck\n\n// tslint:disable:no-empty\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n    Directive,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    Inject,\n    Input,\n    OnDestroy,\n    Optional,\n    Output,\n    Renderer2\n} from '@angular/core';\nimport {\n    AbstractControl,\n    ControlValueAccessor,\n    NG_VALIDATORS,\n    NG_VALUE_ACCESSOR,\n    ValidationErrors,\n    Validator,\n    ValidatorFn,\n    Validators\n} from '@angular/forms';\nimport { DateAdapter, MC_DATE_FORMATS, McDateFormats } from '@ptsecurity/cdk/datetime';\nimport {\n    BACKSPACE,\n    DELETE,\n    UP_ARROW,\n    RIGHT_ARROW,\n    DOWN_ARROW,\n    LEFT_ARROW,\n    END,\n    PAGE_DOWN,\n    HOME,\n    PAGE_UP,\n    SPACE,\n    TAB,\n    ESCAPE,\n    hasModifierKey,\n    isHorizontalMovement,\n    isLetterKey,\n    isVerticalMovement\n} from '@ptsecurity/cdk/keycodes';\nimport { validationTooltipHideDelay, validationTooltipShowDelay } from '@ptsecurity/mosaic/core';\nimport { McFormFieldControl } from '@ptsecurity/mosaic/form-field';\nimport { McTooltip } from '@ptsecurity/mosaic/tooltip';\nimport { Subject, Subscription } from 'rxjs';\n\nimport { createMissingDateImplError } from './datepicker-errors';\nimport { McDatepicker } from './datepicker.component';\n\n\n// tslint:disable:naming-convention\nenum DateParts {\n    year = 'y',\n    month = 'm',\n    day = 'd'\n}\n\nexport const MAX_YEAR = 9999;\n\nclass DateDigit {\n    maxDays = 31;\n    maxMonth = 12;\n\n    parse: (value: string) => number;\n\n    constructor(public value: DateParts, public start: number, public length: number) {\n        if (value === DateParts.day) {\n            this.parse = this.parseDay;\n        } else if (value === DateParts.month) {\n            this.parse = this.parseMonth;\n        } else if (value === DateParts.year) {\n            this.parse = this.parseYear;\n        }\n    }\n\n    get end(): number {\n        return this.start + this.length;\n    }\n\n    get isDay(): boolean {\n        return this.value === DateParts.day;\n    }\n\n    get isMonth(): boolean {\n        return this.value === DateParts.month;\n    }\n\n    get isYear(): boolean {\n        return this.value === DateParts.year;\n    }\n\n    get fullName(): string {\n        if (this.isDay) { return 'date'; }\n\n        if (this.isMonth) { return 'month'; }\n\n        if (this.isYear) { return 'year'; }\n    }\n\n    private parseDay(value: string): number {\n        const parsedValue: number = parseInt(value);\n\n        if (parsedValue === 0) { return 1; }\n\n        if (parsedValue > this.maxDays) { return this.maxDays; }\n\n        return parsedValue;\n    }\n\n    private parseMonth(value: string): number {\n        const parsedValue: number = parseInt(value);\n\n        if (parsedValue === 0) { return 1; }\n\n        if (parsedValue > this.maxMonth) { return this.maxMonth; }\n\n        return parsedValue;\n    }\n\n    private parseYear(value: string): number {\n        const parsedValue: number = parseInt(value);\n\n        if (parsedValue === 0) { return 1; }\n\n        if (parsedValue > MAX_YEAR) { return MAX_YEAR; }\n\n        return parsedValue;\n    }\n}\n\n/** @docs-private */\nexport const MC_DATEPICKER_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => McDatepickerInput),\n    multi: true\n};\n\n/** @docs-private */\nexport const MC_DATEPICKER_VALIDATORS: any = {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef(() => McDatepickerInput),\n    multi: true\n};\n\n\n/**\n * An event used for datepicker input and change events. We don't always have access to a native\n * input or change event because the event may have been triggered by the user clicking on the\n * calendar popup. For consistency, we always use McDatepickerInputEvent instead.\n */\nexport class McDatepickerInputEvent<D> {\n    /** The new value for the target datepicker input. */\n    value: D | null;\n\n    constructor(\n        /** Reference to the datepicker input component that emitted the event. */\n        public target: McDatepickerInput<D>,\n        /** Reference to the native input element associated with the datepicker input. */\n        public targetElement: HTMLElement\n    ) {\n        this.value = this.target.value;\n    }\n}\n\nlet uniqueComponentIdSuffix = 0;\n\n\n/** Directive used to connect an input to a McDatepicker. */\n@Directive({\n    selector: 'input[mcDatepicker]',\n    exportAs: 'mcDatepickerInput',\n    providers: [\n        MC_DATEPICKER_VALUE_ACCESSOR,\n        MC_DATEPICKER_VALIDATORS,\n        { provide: McFormFieldControl, useExisting: McDatepickerInput }\n    ],\n    host: {\n        class: 'mc-input mc-datepicker',\n        '[attr.placeholder]': 'placeholder',\n        '[attr.required]': 'required',\n        '[attr.disabled]': 'disabled || null',\n        '[attr.min]': 'min ? toISO8601(min) : null',\n        '[attr.max]': 'max ? toISO8601(max) : null',\n        '[attr.autocomplete]': '\"off\"',\n\n        '(paste)': 'onPaste($event)',\n        '(change)': 'onChange()',\n\n        '(focus)': 'focusChanged(true)',\n        '(blur)': 'onBlur()',\n\n        '(keydown)': 'onKeyDown($event)'\n    }\n})\nexport class McDatepickerInput<D> implements McFormFieldControl<D>, ControlValueAccessor, Validator, OnDestroy {\n    readonly stateChanges: Subject<void> = new Subject<void>();\n\n    readonly errorState: boolean;\n\n    controlType: string = 'datepicker';\n\n    focused: boolean = false;\n\n    datepicker: McDatepicker<D>;\n\n    dateFilter: (date: D | null) => boolean;\n\n    /** Emits when the value changes (either due to user input or programmatic change). */\n    valueChange = new EventEmitter<D | null>();\n\n    /** Emits when the disabled state has changed */\n    disabledChange = new EventEmitter<boolean>();\n\n    @Input() placeholder: string;\n\n    @Input()\n    get required(): boolean {\n        return this._required;\n    }\n\n    set required(value: boolean) {\n        this._required = coerceBooleanProperty(value);\n    }\n\n    private _required: boolean;\n\n    /** The datepicker that this input is associated with. */\n    @Input()\n    set mcDatepicker(value: McDatepicker<D>) {\n        if (!value) { return; }\n\n        this.datepicker = value;\n        this.datepicker.registerInput(this);\n        this.datepickerSubscription.unsubscribe();\n\n        this.datepickerSubscription = this.datepicker.selectedChanged\n            .subscribe((selected: D) => {\n                this.value = selected;\n                this.cvaOnChange(selected);\n                this.onTouched();\n                this.dateChange.emit(new McDatepickerInputEvent(this, this.elementRef.nativeElement));\n            });\n    }\n\n    /** Function that can be used to filter out dates within the datepicker. */\n    @Input()\n    set mcDatepickerFilter(value: (date: D | null) => boolean) {\n        this.dateFilter = value;\n        this.validatorOnChange();\n    }\n\n    /** The value of the input. */\n    @Input()\n    get value(): D | null {\n        return this._value;\n    }\n\n    set value(value: D | null) {\n        let newValue = this.dateAdapter.deserialize(value);\n\n        this.lastValueValid = !newValue || this.dateAdapter.isValid(newValue);\n\n        newValue = this.getValidDateOrNull(newValue);\n\n        const oldDate = this.value;\n        this._value = newValue;\n        this.formatValue(newValue);\n\n        if (!this.dateAdapter.sameDate(oldDate, newValue)) {\n            this.valueChange.emit(newValue);\n        }\n    }\n\n    private _value: D | null;\n\n    /** The minimum valid date. */\n    @Input()\n    get min(): D | null {\n        return this._min;\n    }\n\n    set min(value: D | null) {\n        this._min = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.validatorOnChange();\n    }\n\n    private _min: D | null;\n\n    /** The maximum valid date. */\n    @Input()\n    get max(): D | null {\n        return this._max;\n    }\n\n    set max(value: D | null) {\n        this._max = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.validatorOnChange();\n    }\n\n    private _max: D | null;\n\n    /** Whether the datepicker-input is disabled. */\n    @Input()\n    get disabled(): boolean {\n        return this._disabled;\n    }\n\n    set disabled(value: boolean) {\n        const newValue = coerceBooleanProperty(value);\n        const element = this.elementRef.nativeElement;\n\n        if (this._disabled !== newValue) {\n            this._disabled = newValue;\n            this.disabledChange.emit(newValue);\n        }\n\n        // We need to null check the `blur` method, because it's undefined during SSR.\n        if (newValue && element.blur) {\n            // Normally, native input elements automatically blur if they turn disabled. This behavior\n            // is problematic, because it would mean that it triggers another change detection cycle,\n            // which then causes a changed after checked error if the input element was focused before.\n            element.blur();\n        }\n    }\n\n    private _disabled: boolean = false;\n\n    @Input()\n    get id(): string {\n        return this._id;\n    }\n\n    set id(value: string) {\n        this._id = value || this.uid;\n    }\n\n    private _id: string;\n\n    @Input()\n    set mcValidationTooltip(tooltip: McTooltip) {\n        if (!tooltip) { return; }\n\n        tooltip.mcMouseEnterDelay = validationTooltipShowDelay;\n        tooltip.mcTrigger = 'manual';\n        tooltip.mcTooltipClass = 'mc-tooltip_warning';\n\n        tooltip.initElementRefListeners();\n\n        this.incorrectInput.subscribe(() => {\n            if (tooltip.isTooltipOpen) { return; }\n\n            tooltip.show();\n\n            setTimeout(() => tooltip.hide(), validationTooltipHideDelay);\n        });\n    }\n\n    @Output() incorrectInput = new EventEmitter<void>();\n\n    /** Emits when a `change` event is fired on this `<input>`. */\n    @Output() readonly dateChange = new EventEmitter<McDatepickerInputEvent<D>>();\n\n    /** Emits when an `input` event is fired on this `<input>`. */\n    @Output() readonly dateInput = new EventEmitter<McDatepickerInputEvent<D>>();\n\n    get empty(): boolean {\n        return !this.viewValue && !this.isBadInput();\n    }\n\n    get viewValue(): string {\n        return this.elementRef.nativeElement.value;\n    }\n\n    get ngControl(): any {\n        return this.control;\n    }\n\n    get isReadOnly(): boolean {\n        return this.elementRef.nativeElement.readOnly;\n    }\n\n    private get selectionStart(): number | null {\n        return this.elementRef.nativeElement.selectionStart;\n    }\n\n    private set selectionStart(value: number | null) {\n        this.elementRef.nativeElement.selectionStart = value;\n    }\n\n    private get selectionEnd(): number | null {\n        return this.elementRef.nativeElement.selectionEnd;\n    }\n\n    private set selectionEnd(value: number | null) {\n        this.elementRef.nativeElement.selectionEnd = value;\n    }\n\n    private control: AbstractControl;\n    private readonly uid = `mc-datepicker-${uniqueComponentIdSuffix++}`;\n\n    private datepickerSubscription = Subscription.EMPTY;\n\n    private localeSubscription = Subscription.EMPTY;\n\n    /** Whether the last value set on the input was valid. */\n    private lastValueValid = false;\n\n    /** The combined form control validator for this input. */\n    private readonly validator: ValidatorFn | null;\n\n    private separator: string;\n\n    private firstDigit: DateDigit;\n    private secondDigit: DateDigit;\n    private thirdDigit: DateDigit;\n\n    private separatorPositions: number[];\n\n    constructor(\n        public elementRef: ElementRef<HTMLInputElement>,\n        private readonly renderer: Renderer2,\n        @Optional() private readonly dateAdapter: DateAdapter<D>,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats\n    ) {\n        this.validator = Validators.compose([\n            this.parseValidator,\n            this.minValidator,\n            this.maxValidator,\n            this.filterValidator\n        ]);\n\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        if (!this.dateFormats) {\n            throw createMissingDateImplError('MC_DATE_FORMATS');\n        }\n\n        this.setFormat(dateFormats.dateInput);\n\n        this.localeSubscription = dateAdapter.localeChanges\n            .subscribe(this.updateLocaleParams);\n    }\n\n    onContainerClick() {\n        this.focus();\n    }\n\n    focus(): void {\n        this.elementRef.nativeElement.focus();\n    }\n\n    focusChanged(isFocused: boolean): void {\n        if (isFocused !== this.focused) {\n            this.focused = isFocused;\n            this.onTouched();\n            this.stateChanges.next();\n        }\n    }\n\n    onTouched = () => {};\n\n    ngOnDestroy() {\n        this.datepickerSubscription.unsubscribe();\n        this.localeSubscription.unsubscribe();\n        this.valueChange.complete();\n        this.disabledChange.complete();\n    }\n\n    /** @docs-private */\n    registerOnValidatorChange(fn: () => void): void {\n        this.validatorOnChange = fn;\n    }\n\n    /** @docs-private */\n    validate(control: AbstractControl): ValidationErrors | null {\n        this.setControl(control);\n\n        return this.validator ? this.validator(control) : null;\n    }\n\n    // Implemented as part of ControlValueAccessor.\n    writeValue(value: D): void {\n        this.value = value;\n    }\n\n    // Implemented as part of ControlValueAccessor.\n    registerOnChange(fn: (value: any) => void): void {\n        this.cvaOnChange = fn;\n    }\n\n    // Implemented as part of ControlValueAccessor.\n    registerOnTouched(fn: () => void): void {\n        this.onTouched = fn;\n    }\n\n    // Implemented as part of ControlValueAccessor.\n    setDisabledState(isDisabled: boolean): void {\n        this.disabled = isDisabled;\n    }\n\n    onKeyDown(event: KeyboardEvent): void {\n        if (this.isReadOnly) { return; }\n\n        // tslint:disable-next-line: deprecation\n        const keyCode = event.keyCode;\n\n        if (this.isLetterKey(event)) {\n            event.preventDefault();\n\n            this.incorrectInput.emit();\n        } else if (this.isKeyForOpen(event)) {\n            event.preventDefault();\n\n            this.datepicker.open();\n        } else if (this.isKeyForClose(event)) {\n            event.preventDefault();\n\n            this.datepicker.close();\n        } else if (keyCode === TAB) {\n            this.datepicker.close(false);\n        } else if (this.isKeyForByPass(event)) {\n            return;\n        } else if (keyCode === SPACE) {\n            this.spaceKeyHandler(event);\n        } else if ([UP_ARROW, DOWN_ARROW].includes(keyCode)) {\n            event.preventDefault();\n\n            this.verticalArrowKeyHandler(keyCode);\n        } else if ([LEFT_ARROW, RIGHT_ARROW, HOME, PAGE_UP, END, PAGE_DOWN].includes(keyCode)) {\n            event.preventDefault();\n\n            this.changeCaretPosition(keyCode);\n        } else if (/^\\D$/.test(event.key)) {\n            event.preventDefault();\n\n            const newValue = this.getNewValue(event.key, this.selectionStart as number);\n            const formattedValue = this.replaceSymbols(newValue);\n\n            if (newValue !== formattedValue) {\n                this.setViewValue(formattedValue, true);\n\n                setTimeout(this.onInput);\n            } else {\n                this.incorrectInput.emit();\n            }\n        } else {\n            setTimeout(this.onInput);\n        }\n    }\n\n    onInput = () => {\n        this.correctCursorPosition();\n        const formattedValue = this.replaceSymbols(this.viewValue);\n\n        const newTimeObj = this.getDateFromString(formattedValue);\n        this.lastValueValid = !!newTimeObj;\n\n        if (!newTimeObj) {\n            if (!this.viewValue) {\n                this._value = null;\n                this.cvaOnChange(null);\n            }\n            this.control.updateValueAndValidity({ emitEvent: false });\n\n            return;\n        }\n\n        this.setViewValue(this.getTimeStringFromDate(newTimeObj, this.dateFormats.dateInput), true);\n\n        this.selectNextDigitByCursor((this.selectionStart as number));\n\n        this.updateValue(newTimeObj);\n    }\n\n    parseOnBlur = () => {\n        if (!this.viewValue) { return null; }\n\n        const date = this.getDefaultValue();\n\n        const viewDigits: string[] = this.viewValue\n            .split(this.separator)\n            .map((value: string) => value)\n            .filter((value) => value);\n\n        const [firsViewDigit, secondViewDigit, thirdViewDigit] = viewDigits;\n\n        // tslint:disable-next-line:no-magic-numbers\n        if (viewDigits.length !== 3) {\n            this.lastValueValid = false;\n            this._value = null;\n\n            return setTimeout(() => this.control.updateValueAndValidity());\n        }\n\n        date[this.firstDigit.fullName] = this.firstDigit.parse(firsViewDigit);\n        date[this.secondDigit.fullName] = this.secondDigit.parse(secondViewDigit);\n        date[this.thirdDigit.fullName] = this.thirdDigit.parse(thirdViewDigit);\n\n        const [digitWithYear, viewDigitWithYear] = [this.firstDigit, this.secondDigit, this.thirdDigit]\n            .reduce((acc, digit, index) => digit.value === DateParts.year ? [digit, viewDigits[index]] : acc, []);\n\n        // tslint:disable-next-line:no-magic-numbers\n        if (viewDigitWithYear.length < 3) {\n            // tslint:disable-next-line:no-magic-numbers\n            date.year += date.year < 30 ? 2000 : 1900;\n        } else if (viewDigitWithYear.length < digitWithYear.length) {\n            this.lastValueValid = false;\n            this._value = null;\n\n            return setTimeout(() => this.control.updateValueAndValidity());\n        }\n\n        const newTimeObj = this.getValidDateOrNull(this.dateAdapter.createDateTime(\n            date.year, date.month - 1, date.date, date.hours, date.minutes, date.seconds, date.milliseconds\n        ));\n\n        this.lastValueValid = !!newTimeObj;\n\n        this.setViewValue(this.getTimeStringFromDate(newTimeObj, this.dateFormats.dateInput), true);\n\n        this.updateValue(newTimeObj);\n    }\n\n    onChange() {\n        this.dateChange.emit(new McDatepickerInputEvent(this, this.elementRef.nativeElement));\n    }\n\n    /** Handles blur events on the input. */\n    onBlur() {\n        // Reformat the input only if we have a valid value.\n        this.parseOnBlur();\n\n        this.focusChanged(false);\n    }\n\n    onPaste($event) {\n        $event.preventDefault();\n\n        const rawValue = $event.clipboardData.getData('text');\n\n        const match: RegExpMatchArray | null = rawValue.match(/^(?<first>\\d+)\\W(?<second>\\d+)\\W(?<third>\\d+)$/);\n\n        if (!match?.groups?.first || !match?.groups?.second || !match?.groups?.third) {\n            this.setViewValue(rawValue);\n\n            return rawValue;\n        }\n\n        const value = [match.groups.first, match.groups.second, match.groups.third].join(this.separator);\n\n        const newTimeObj = this.getDateFromString(value);\n\n        if (!newTimeObj) {\n            this.setViewValue(value);\n\n            return value;\n        }\n\n        this.setViewValue(this.getTimeStringFromDate(newTimeObj, this.dateFormats.dateInput));\n\n        this.updateValue(newTimeObj);\n    }\n\n    toISO8601(value: D): string {\n        return this.dateAdapter.toIso8601(value);\n    }\n\n    private updateLocaleParams = () => {\n        this.setFormat(this.dateFormats.dateInput);\n\n        this.value = this.value;\n    }\n\n    private setFormat(format: string): void {\n        this.separator = format.match(/[aA-zZ]+(?<separator>\\W|\\D)[aA-zZ]+/)!.groups.separator;\n        this.separatorPositions = format\n            .split('')\n            .reduce((acc, item, index: number) => this.separator === item ? [...acc, index + 1] : acc, []);\n\n        this.getDigitPositions(format);\n    }\n\n    private updateValue(newValue: D) {\n        if (!this.dateAdapter.sameDate(newValue, this.value)) {\n            this._value = newValue;\n            this.cvaOnChange(newValue);\n            this.valueChange.emit(newValue);\n            this.dateInput.emit(new McDatepickerInputEvent(this, this.elementRef.nativeElement));\n        }\n\n        this.control.updateValueAndValidity({ emitEvent: false });\n    }\n\n    private isKeyForClose(event: KeyboardEvent): boolean {\n        // tslint:disable-next-line: deprecation\n        return (event.altKey && event.keyCode === UP_ARROW) || event.keyCode === ESCAPE;\n    }\n\n    private isKeyForOpen(event: KeyboardEvent): boolean {\n        // tslint:disable-next-line: deprecation\n        return event.altKey && event.keyCode === DOWN_ARROW;\n    }\n\n    private isLetterKey(event: KeyboardEvent): boolean {\n        return isLetterKey(event) && !event.ctrlKey && !event.metaKey;\n    }\n\n    private isKeyForByPass(event: KeyboardEvent): boolean {\n        // tslint:disable-next-line: deprecation\n        return (hasModifierKey(event) && (isVerticalMovement(event.keyCode) || isHorizontalMovement(event.keyCode))) ||\n            event.ctrlKey ||\n            event.metaKey;\n    }\n\n    private spaceKeyHandler(event: KeyboardEvent) {\n        event.preventDefault();\n\n        if (this.selectionStart === this.selectionEnd) {\n            const value = this.getNewValue(event.key, this.selectionStart as number);\n            this.setViewValue(value);\n\n            setTimeout(this.onInput);\n        } else if (this.selectionStart !== this.selectionEnd) {\n            this.selectNextDigit(this.selectionStart as number, true);\n        }\n    }\n\n    private getNewValue(key: string, position: number) {\n        return [this.viewValue.slice(0, position), key, this.viewValue.slice(position)].join('');\n    }\n\n    private setViewValue(value: string, savePosition: boolean = false) {\n        if (savePosition) {\n            const selectionStart = this.selectionStart;\n            const selectionEnd = this.selectionEnd;\n\n            this.renderer.setProperty(this.elementRef.nativeElement, 'value', value);\n\n            this.selectionStart = selectionStart;\n            this.selectionEnd = selectionEnd;\n        } else {\n            this.renderer.setProperty(this.elementRef.nativeElement, 'value', value);\n        }\n    }\n\n    private replaceSymbols(value: string): string {\n        return value\n            .split(this.separator)\n            .map((part: string) => part.replace(/^([0-9]+)\\W$/, '0$1'))\n            .join(this.separator);\n    }\n\n    private getDateFromString(timeString: string): D | null {\n        if (!timeString || timeString.length < this.firstDigit.length) { return null; }\n\n        const date = this.getDefaultValue();\n\n        const viewDigits: string[] = timeString\n            .split(this.separator)\n            .map((value: string) => value);\n\n        const [firsViewDigit, secondViewDigit, thirdViewDigit] = viewDigits;\n\n        if (viewDigits.length === 1) {\n            if (firsViewDigit.length < this.firstDigit.length) { return null; }\n\n\n            date[this.firstDigit.fullName] = this.firstDigit.parse(firsViewDigit);\n            date.month = 1;\n        // tslint:disable-next-line:no-magic-numbers\n        } else if (viewDigits.length === 2) {\n            if (firsViewDigit.length < this.firstDigit.length || secondViewDigit.length < this.secondDigit.length) {\n                return null;\n            }\n\n            date[this.firstDigit.fullName] = this.firstDigit.parse(firsViewDigit);\n            date[this.secondDigit.fullName] = this.secondDigit.parse(secondViewDigit);\n        // tslint:disable-next-line:no-magic-numbers\n        } else if (viewDigits.length === 3) {\n            if (\n                firsViewDigit.length < this.firstDigit.length ||\n                secondViewDigit.length < this.secondDigit.length ||\n                thirdViewDigit.length < this.thirdDigit.length\n            ) { return null; }\n\n            date[this.firstDigit.fullName] = this.firstDigit.parse(firsViewDigit);\n            date[this.secondDigit.fullName] = this.secondDigit.parse(secondViewDigit);\n            date[this.thirdDigit.fullName] = this.thirdDigit.parse(thirdViewDigit);\n        } else {\n            return null;\n        }\n\n        return this.getValidDateOrNull(this.dateAdapter.createDateTime(\n            date.year, date.month - 1, date.date, date.hours, date.minutes, date.seconds, date.milliseconds\n        ));\n    }\n\n    private getDefaultValue() {\n        const defaultValue = this.value || this.dateAdapter.today();\n\n        return {\n            year: this.dateAdapter.getYear(defaultValue),\n            month: this.dateAdapter.getMonth(defaultValue),\n            date: this.dateAdapter.getDate(defaultValue),\n            hours: this.dateAdapter.getHours(defaultValue),\n            minutes: this.dateAdapter.getMinutes(defaultValue),\n            seconds: this.dateAdapter.getSeconds(defaultValue),\n            milliseconds: this.dateAdapter.getMilliseconds(defaultValue)\n        };\n    }\n\n    private getTimeStringFromDate(value: D | null, timeFormat: string): string {\n        if (!value || !this.dateAdapter.isValid(value)) { return ''; }\n\n        return this.dateAdapter.format(value, timeFormat);\n    }\n\n    private getDateEditMetrics(cursorPosition: number): [\n        modifiedTimePart: DateParts,\n        cursorStartPosition: number,\n        cursorEndPosition: number\n    ] {\n        for (const digit of [this.firstDigit, this.secondDigit, this.thirdDigit]) {\n            if (cursorPosition >= digit.start && cursorPosition <= digit.end) {\n                return [digit.value, digit.start, digit.end];\n            }\n        }\n\n        return [this.thirdDigit.value, this.thirdDigit.start, this.thirdDigit.end];\n    }\n\n    private incrementDate(dateVal: D, whatToIncrement: DateParts): D {\n        let year = this.dateAdapter.getYear(dateVal);\n        let month = this.dateAdapter.getMonth(dateVal);\n        let day = this.dateAdapter.getDate(dateVal);\n\n        switch (whatToIncrement) {\n            case DateParts.day:\n                day++;\n\n                if (day > this.dateAdapter.getNumDaysInMonth(dateVal)) {\n                    day = 1;\n                }\n\n                break;\n            case DateParts.month:\n                month++;\n\n                // tslint:disable-next-line:no-magic-numbers\n                if (month > 11) {\n                    month = 0;\n                }\n\n                const lastDay = this.getLastDayFor(year, month);\n\n                if (day > lastDay) {\n                    day = lastDay;\n                }\n\n                break;\n            case DateParts.year:\n                year++;\n\n                if (year > MAX_YEAR) {\n                    year = 1;\n                }\n\n                break;\n            default:\n        }\n\n        return this.createDate(year, month, day);\n    }\n\n    private getLastDayFor(year: number, month: number): number {\n        return this.dateAdapter.getNumDaysInMonth(this.createDate(year, month, 1));\n    }\n\n    private decrementDate(dateVal: D, whatToDecrement: DateParts): D {\n        let year = this.dateAdapter.getYear(dateVal);\n        let month = this.dateAdapter.getMonth(dateVal);\n        let day = this.dateAdapter.getDate(dateVal);\n\n        switch (whatToDecrement) {\n            case DateParts.day:\n                day--;\n\n                if (day < 1) {\n                    day = this.dateAdapter.getNumDaysInMonth(dateVal);\n                }\n\n                break;\n            case DateParts.month:\n                month--;\n\n                if (month < 0) {\n                    // tslint:disable-next-line:no-magic-numbers\n                    month = 11;\n                }\n\n                const lastDay = this.getLastDayFor(year, month);\n\n                if (day > lastDay) {\n                    day = lastDay;\n                }\n\n                break;\n            case DateParts.year:\n                year--;\n\n                if (year < 1) {\n                    year = MAX_YEAR;\n                }\n\n                break;\n            default:\n        }\n\n        return this.createDate(year, month, day);\n    }\n\n    private verticalArrowKeyHandler(keyCode: number): void {\n        if (!this.value) { return; }\n\n        let changedTime;\n\n        const [modifiedTimePart, selectionStart, selectionEnd] = this.getDateEditMetrics(this.selectionStart as number);\n\n        if (keyCode === UP_ARROW) {\n            changedTime = this.incrementDate(this.value, modifiedTimePart);\n        }\n\n        if (keyCode === DOWN_ARROW) {\n            changedTime = this.decrementDate(this.value, modifiedTimePart);\n        }\n\n        this.value = changedTime;\n\n        this.selectionStart = selectionStart;\n        this.selectionEnd = selectionEnd;\n\n        this.cvaOnChange(changedTime);\n\n        this.onChange();\n        this.stateChanges.next();\n    }\n\n    private changeCaretPosition(keyCode: number): void {\n        if (!this.value) { return; }\n\n        let cursorPos = this.selectionStart as number;\n\n        if ([HOME, PAGE_UP].includes(keyCode)) {\n            cursorPos = 0;\n        } else if ([END, PAGE_DOWN].includes(keyCode)) {\n            cursorPos = this.viewValue.length;\n        } else if (keyCode === LEFT_ARROW) {\n            cursorPos = cursorPos === 0 ? this.viewValue.length : cursorPos - 1;\n        } else if (keyCode === RIGHT_ARROW) {\n            const nextSeparatorPos: number = this.viewValue.indexOf(this.separator, cursorPos);\n\n            cursorPos = nextSeparatorPos ? nextSeparatorPos + 1 : 0;\n        }\n\n        this.selectDigitByCursor(cursorPos);\n    }\n\n    private selectDigitByCursor(cursorPos: number): void {\n        setTimeout(() => {\n            const [, selectionStart, selectionEnd] = this.getDateEditMetrics(cursorPos);\n\n            this.selectionStart = selectionStart;\n            this.selectionEnd = selectionEnd;\n        });\n    }\n\n    private selectNextDigitByCursor(cursorPos: number): void {\n        setTimeout(() => {\n            const [, , endPositionOfCurrentDigit] = this.getDateEditMetrics(cursorPos);\n            const [, selectionStart, selectionEnd] = this.getDateEditMetrics(endPositionOfCurrentDigit + 1);\n\n            this.selectionStart = selectionStart;\n            this.selectionEnd = selectionEnd;\n        });\n    }\n\n    private selectNextDigit(cursorPos: number, cycle: boolean = false): void {\n        setTimeout(() => {\n            const lastValue = cycle ? 0 : cursorPos;\n            const nextSeparatorPos: number = this.viewValue.indexOf(this.separator, cursorPos);\n\n            const newCursorPos = nextSeparatorPos > 0 ? nextSeparatorPos + 1 : lastValue;\n\n            const [, selectionStart, selectionEnd] = this.getDateEditMetrics(newCursorPos);\n\n            this.selectionStart = selectionStart;\n            this.selectionEnd = selectionEnd;\n        });\n    }\n\n    /** Checks whether the input is invalid based on the native validation. */\n    private isBadInput(): boolean {\n        const validity = (<HTMLInputElement> this.elementRef.nativeElement).validity;\n\n        return validity && validity.badInput;\n    }\n\n    private cvaOnChange: (value: any) => void = () => {};\n\n    private validatorOnChange = () => {};\n\n    /** The form control validator for whether the input parses. */\n    private parseValidator: ValidatorFn = (): ValidationErrors | null => {\n        return this.focused ||\n            this.empty ||\n            this.lastValueValid ? null : { mcDatepickerParse: { text: this.elementRef.nativeElement.value } };\n    }\n\n    /** The form control validator for the min date. */\n    private minValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n        const controlValue = this.getValidDateOrNull(this.dateAdapter.deserialize(control.value));\n\n        return (!this.min || !controlValue ||\n            this.dateAdapter.compareDate(this.min, controlValue) <= 0) ?\n            null : { mcDatepickerMin: { min: this.min, actual: controlValue } };\n    }\n\n    /** The form control validator for the max date. */\n    private maxValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n        const controlValue = this.getValidDateOrNull(this.dateAdapter.deserialize(control.value));\n\n        return (!this.max || !controlValue ||\n            this.dateAdapter.compareDate(this.max, controlValue) >= 0) ?\n            null : { mcDatepickerMax: { max: this.max, actual: controlValue } };\n    }\n\n    /** The form control validator for the date filter. */\n    private filterValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n        const controlValue = this.getValidDateOrNull(this.dateAdapter.deserialize(control.value));\n\n        return !this.dateFilter || !controlValue || this.dateFilter(controlValue) ?\n            null : { mcDatepickerFilter: true };\n    }\n\n    /** Formats a value and sets it on the input element. */\n    private formatValue(value: D | null) {\n        const formattedValue = value ? this.dateAdapter.format(value, this.dateFormats.dateInput) : '';\n\n        this.setViewValue(formattedValue);\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    private setControl(control: AbstractControl) {\n        if (!this.control) {\n            this.control = control;\n        }\n    }\n\n    private getDigitPositions(format: string) {\n        const formatInLowerCase = format.toLowerCase();\n\n        formatInLowerCase\n            .split('')\n            .reduce(\n                ({ prev, length, start }, value: string, index: number, arr) => {\n                    if (value === this.separator || (arr.length - 1) === index) {\n                        if (!this.firstDigit) {\n                            this.firstDigit = new DateDigit(prev, start, length);\n                        } else if (!this.secondDigit) {\n                            this.secondDigit = new DateDigit(prev, start, length);\n                        } else if (!this.thirdDigit) {\n                            this.thirdDigit = new DateDigit(prev, start, arr.length - start);\n                        }\n\n                        // tslint:disable:no-parameter-reassignment\n                        length = 0;\n                        start = index + 1;\n                    } else {\n                        length++;\n                    }\n\n                    return { prev: value, length, start };\n                },\n                { length: 0, start: 0 }\n            );\n\n        if (!this.firstDigit || !this.secondDigit || !this.thirdDigit) {\n            Error(`Can' t use this format: ${format}`);\n        }\n    }\n\n    private createDate(year: number, month: number, day: number): D {\n        return this.dateAdapter.createDateTime(\n            year,\n            month,\n            day,\n            this.dateAdapter.getHours(this.value as D),\n            this.dateAdapter.getMinutes(this.value as D),\n            this.dateAdapter.getSeconds(this.value as D),\n            this.dateAdapter.getMilliseconds(this.value as D)\n        );\n    }\n\n    private correctCursorPosition() {\n        if (this.selectionStart && this.separatorPositions.includes(this.selectionStart)) {\n            this.selectionStart = this.selectionStart - 1;\n        }\n    }\n}\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ContentChild,\n    Directive,\n    Input,\n    OnChanges,\n    OnDestroy,\n    SimpleChanges,\n    ViewEncapsulation,\n    ViewChild\n} from '@angular/core';\nimport { McButton } from '@ptsecurity/mosaic/button';\nimport { merge, of as observableOf, Subscription } from 'rxjs';\n\nimport { McDatepickerIntl } from './datepicker-intl';\nimport { McDatepicker } from './datepicker.component';\n\n\n/** Can be used to override the icon of a `mcDatepickerToggle`. */\n@Directive({\n    selector: '[mcDatepickerToggleIcon]'\n})\nexport class McDatepickerToggleIcon {}\n\n\n@Component({\n    selector: 'mc-datepicker-toggle',\n    templateUrl: 'datepicker-toggle.html',\n    styleUrls: ['datepicker-toggle.scss'],\n    host: {\n        class: 'mc-datepicker-toggle',\n        '[class.mc-active]': 'datepicker && datepicker.opened'\n    },\n    exportAs: 'mcDatepickerToggle',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McDatepickerToggle<D> implements AfterContentInit, OnChanges, OnDestroy {\n    /** Whether the toggle button is disabled. */\n    @Input()\n    get disabled(): boolean {\n        return this._disabled === undefined ? this.datepicker.disabled : this._disabled;\n    }\n\n    set disabled(value: boolean) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n\n    /** Datepicker instance that the button will toggle. */\n    @Input('for') datepicker: McDatepicker<D>;\n\n    /** Tabindex for the toggle. */\n    @Input() tabIndex: number | null;\n\n    /** Custom icon set by the consumer. */\n    @ContentChild(McDatepickerToggleIcon, { static: false }) customIcon: McDatepickerToggleIcon;\n\n    /** Underlying button element. */\n    @ViewChild('button', { static: false }) button: McButton;\n    private stateChanges = Subscription.EMPTY;\n\n    private _disabled: boolean;\n\n    constructor(public intl: McDatepickerIntl, private changeDetectorRef: ChangeDetectorRef) {}\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.datepicker) {\n            this.watchStateChanges();\n        }\n    }\n\n    ngOnDestroy() {\n        this.stateChanges.unsubscribe();\n    }\n\n    ngAfterContentInit() {\n        this.watchStateChanges();\n    }\n\n    open(event: Event): void {\n        if (this.datepicker && !this.disabled) {\n            this.datepicker.open();\n            event.stopPropagation();\n        }\n    }\n\n    private watchStateChanges() {\n        const datepickerDisabled = this.datepicker ? this.datepicker.disabledChange : observableOf();\n\n        const inputDisabled = this.datepicker && this.datepicker.datepickerInput ?\n            this.datepicker.datepickerInput.disabledChange : observableOf();\n\n        const datepickerToggled = this.datepicker ?\n            merge(this.datepicker.openedStream, this.datepicker.closedStream) :\n            observableOf();\n\n        this.stateChanges.unsubscribe();\n\n        this.stateChanges = merge(\n            this.intl.changes,\n            datepickerDisabled,\n            inputDisabled,\n            datepickerToggled\n        ).subscribe(() => this.changeDetectorRef.markForCheck());\n    }\n}\n","import { A11yModule } from '@angular/cdk/a11y';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { McButtonModule } from '@ptsecurity/mosaic/button';\nimport { McIconModule } from '@ptsecurity/mosaic/icon';\n\nimport { McCalendarBody } from './calendar-body.component';\nimport { McCalendar, McCalendarHeader } from './calendar.component';\nimport { McDatepickerInput } from './datepicker-input.directive';\nimport { McDatepickerIntl } from './datepicker-intl';\nimport { McDatepickerToggle, McDatepickerToggleIcon } from './datepicker-toggle.component';\nimport {\n    McDatepicker,\n    McDatepickerContent,\n    MC_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER\n} from './datepicker.component';\nimport { McMonthView } from './month-view.component';\nimport { McMultiYearView } from './multi-year-view.component';\nimport { McYearView } from './year-view.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        McButtonModule,\n        OverlayModule,\n        A11yModule,\n        PortalModule,\n        McIconModule\n    ],\n    exports: [\n        McCalendar,\n        McCalendarBody,\n        McDatepicker,\n        McDatepickerContent,\n        McDatepickerInput,\n        McDatepickerToggle,\n        McDatepickerToggleIcon,\n        McMonthView,\n        McYearView,\n        McMultiYearView,\n        McCalendarHeader,\n        McButtonModule\n    ],\n    declarations: [\n        McCalendar,\n        McCalendarBody,\n        McDatepicker,\n        McDatepickerContent,\n        McDatepickerInput,\n        McDatepickerToggle,\n        McDatepickerToggleIcon,\n        McMonthView,\n        McYearView,\n        McMultiYearView,\n        McCalendarHeader\n    ],\n    providers: [\n        McDatepickerIntl,\n        MC_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER\n    ],\n    entryComponents: [\n        McDatepickerContent,\n        McCalendarHeader\n    ]\n})\nexport class McDatepickerModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n","import * as i3 from '@angular/common';\nimport { registerLocaleData, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Component, Inject, NgModule } from '@angular/core';\nimport * as i6 from '@angular/forms';\nimport { FormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MC_LUXON_DATE_FORMATS, LuxonDateAdapter, McLuxonDateModule } from '@ptsecurity/mosaic-luxon-adapter/adapter';\nimport * as i7 from '@ptsecurity/mosaic/datepicker';\nimport { McDatepickerModule } from '@ptsecurity/mosaic/datepicker';\nimport * as i4 from '@ptsecurity/mosaic/form-field';\nimport { McFormFieldModule } from '@ptsecurity/mosaic/form-field';\nimport * as i8 from '@ptsecurity/mosaic/icon';\nimport { McIconModule } from '@ptsecurity/mosaic/icon';\nimport { McInputModule } from '@ptsecurity/mosaic/input';\nimport * as i2 from '@ptsecurity/mosaic/radio';\nimport { McRadioModule } from '@ptsecurity/mosaic/radio';\nimport * as i5 from '@ptsecurity/mosaic/tooltip';\nimport { McToolTipModule } from '@ptsecurity/mosaic/tooltip';\nimport de from '@angular/common/locales/de';\nimport * as i1 from '@ptsecurity/cdk/datetime';\nimport { MC_DATE_FORMATS, MC_DATE_LOCALE, DateAdapter } from '@ptsecurity/cdk/datetime';\n\n/* tslint:disable:no-magic-numbers */\nfunction DatepickerLanguageExample_mc_radio_button_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mc-radio-button\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const language_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", language_r3)(\"checked\", language_r3.name === ctx_r0.selectedLanguage.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", language_r3.name, \" \");\n} }\nfunction mcDateFormatsFactory() {\n    const dateFormats = Object.assign({}, MC_LUXON_DATE_FORMATS);\n    dateFormats.dateInput = 'dd.MM.yyyy';\n    return dateFormats;\n}\nregisterLocaleData(de);\n/**\n * @title Multy language datepicker\n */\nclass DatepickerLanguageExample {\n    constructor(adapter, dateFormats) {\n        this.adapter = adapter;\n        this.dateFormats = dateFormats;\n        this.languageList = [\n            { name: 'en', format: 'dd/MM/yyyy', placeholder: 'дд/мм/гггг' },\n            { name: 'de', format: 'dd-MM-yyyy', placeholder: 'дд-мм-гггг' },\n            { name: 'ru', format: 'dd.MM.yyyy', placeholder: 'дд.мм.гггг' }\n        ];\n        this.selectedLanguage = this.languageList[0];\n        this.selectedDate = new FormControl(null);\n    }\n    ngOnInit() {\n        this.adapter.setLocale(this.languageList[0].name);\n    }\n    setFormat($event) {\n        this.dateFormats.dateInput = $event.value.format;\n        this.selectedLanguage = this.languageList.find(({ name }) => name === $event.value.name);\n        this.selectedDate.setValue(this.selectedDate.value);\n        this.adapter.setLocale($event.value.name);\n    }\n}\nDatepickerLanguageExample.ɵfac = function DatepickerLanguageExample_Factory(t) { return new (t || DatepickerLanguageExample)(i0.ɵɵdirectiveInject(i1.DateAdapter), i0.ɵɵdirectiveInject(MC_DATE_FORMATS)); };\nDatepickerLanguageExample.ɵcmp = i0.ɵɵdefineComponent({ type: DatepickerLanguageExample, selectors: [[\"datepicker-language-example\"]], features: [i0.ɵɵProvidersFeature([{\n                provide: MC_DATE_FORMATS,\n                useFactory: mcDateFormatsFactory\n            }])], decls: 14, vars: 7, consts: [[1, \"example-radio-group\", 3, \"change\"], [\"class\", \"example-radio-button\", 3, \"value\", \"checked\", 4, \"ngFor\", \"ngForOf\"], [\"mcTooltip\", \"\", 3, \"mcTitle\", \"click\"], [\"tooltip\", \"mcTooltip\"], [3, \"formControl\", \"placeholder\", \"mcDatepicker\", \"mcValidationTooltip\"], [\"mc-icon\", \"mc-calendar_16\", \"mcSuffix\", \"\"], [\"picker\", \"\"], [1, \"example-radio-button\", 3, \"value\", \"checked\"]], template: function DatepickerLanguageExample_Template(rf, ctx) { if (rf & 1) {\n        const _r4 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"mc-radio-group\", 0);\n        i0.ɵɵlistener(\"change\", function DatepickerLanguageExample_Template_mc_radio_group_change_0_listener($event) { return ctx.setFormat($event); });\n        i0.ɵɵtemplate(1, DatepickerLanguageExample_mc_radio_button_1_Template, 2, 3, \"mc-radio-button\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"br\");\n        i0.ɵɵelementStart(3, \"mc-form-field\", 2, 3);\n        i0.ɵɵlistener(\"click\", function DatepickerLanguageExample_Template_mc_form_field_click_3_listener() { i0.ɵɵrestoreView(_r4); const _r2 = i0.ɵɵreference(8); return _r2.toggle(); });\n        i0.ɵɵelement(5, \"input\", 4);\n        i0.ɵɵelement(6, \"i\", 5);\n        i0.ɵɵelement(7, \"mc-datepicker\", null, 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\");\n        i0.ɵɵelementStart(10, \"h3\");\n        i0.ɵɵtext(11, \"Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"p\");\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r1 = i0.ɵɵreference(4);\n        const _r2 = i0.ɵɵreference(8);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.languageList);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"mcTitle\", \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0446\\u0438\\u0444\\u0440\\u044B\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formControl\", ctx.selectedDate)(\"placeholder\", ctx.selectedLanguage.placeholder)(\"mcDatepicker\", _r2)(\"mcValidationTooltip\", _r1);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(ctx.selectedDate.value);\n    } }, directives: [i2.McRadioGroup, i3.NgForOf, i4.McFormField, i5.McTooltip, i6.DefaultValueAccessor, i7.McDatepickerInput, i6.NgControlStatus, i6.FormControlDirective, i8.McIcon, i8.McIconCSSStyler, i4.McSuffix, i7.McDatepicker, i2.McRadioButton], styles: [\".example-radio-group[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.example-radio-button[_ngcontent-%COMP%]{margin-bottom:10px}\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerLanguageExample, [{\n        type: Component,\n        args: [{\n                selector: 'datepicker-language-example',\n                templateUrl: 'datepicker-language-example.html',\n                styleUrls: ['datepicker-language-example.css'],\n                providers: [{\n                        provide: MC_DATE_FORMATS,\n                        useFactory: mcDateFormatsFactory\n                    }]\n            }]\n    }], function () { return [{ type: i1.DateAdapter }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MC_DATE_FORMATS]\n            }] }]; }, null); })();\n\n/**\n * @title Datepicker\n */\nclass DatepickerNotEmptyExample {\n    constructor(adapter) {\n        this.date = adapter.today();\n    }\n}\nDatepickerNotEmptyExample.ɵfac = function DatepickerNotEmptyExample_Factory(t) { return new (t || DatepickerNotEmptyExample)(i0.ɵɵdirectiveInject(i1.DateAdapter)); };\nDatepickerNotEmptyExample.ɵcmp = i0.ɵɵdefineComponent({ type: DatepickerNotEmptyExample, selectors: [[\"datepicker-not-empty-example\"]], features: [i0.ɵɵProvidersFeature([\n            { provide: MC_DATE_LOCALE, useValue: 'ru' },\n            {\n                provide: DateAdapter,\n                useFactory: (locale) => new LuxonDateAdapter(locale),\n                deps: [MC_DATE_LOCALE]\n            }\n        ])], decls: 6, vars: 5, consts: [[\"mcTooltip\", \"\", 3, \"mcTitle\", \"click\"], [\"tooltip\", \"mcTooltip\"], [3, \"ngModel\", \"placeholder\", \"mcDatepicker\", \"mcValidationTooltip\", \"ngModelChange\"], [\"mc-icon\", \"mc-calendar_16\", \"mcSuffix\", \"\"], [\"myDatepicker\", \"\"]], template: function DatepickerNotEmptyExample_Template(rf, ctx) { if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"mc-form-field\", 0, 1);\n        i0.ɵɵlistener(\"click\", function DatepickerNotEmptyExample_Template_mc_form_field_click_0_listener() { i0.ɵɵrestoreView(_r2); const _r1 = i0.ɵɵreference(5); return _r1.toggle(); });\n        i0.ɵɵelementStart(2, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function DatepickerNotEmptyExample_Template_input_ngModelChange_2_listener($event) { return ctx.date = $event; });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵelement(4, \"mc-datepicker\", null, 4);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r0 = i0.ɵɵreference(1);\n        const _r1 = i0.ɵɵreference(5);\n        i0.ɵɵproperty(\"mcTitle\", \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0446\\u0438\\u0444\\u0440\\u044B\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"placeholder\", \"\\u0434\\u0434.\\u043C\\u043C.\\u0433\\u0433\\u0433\\u0433\")(\"mcDatepicker\", _r1)(\"mcValidationTooltip\", _r0);\n    } }, directives: [i4.McFormField, i5.McTooltip, i6.DefaultValueAccessor, i7.McDatepickerInput, i6.NgControlStatus, i6.NgModel, i8.McIcon, i8.McIconCSSStyler, i4.McSuffix, i7.McDatepicker], styles: [\"\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerNotEmptyExample, [{\n        type: Component,\n        args: [{\n                selector: 'datepicker-not-empty-example',\n                templateUrl: 'datepicker-not-empty-example.html',\n                styleUrls: ['datepicker-not-empty-example.css'],\n                providers: [\n                    { provide: MC_DATE_LOCALE, useValue: 'ru' },\n                    {\n                        provide: DateAdapter,\n                        useFactory: (locale) => new LuxonDateAdapter(locale),\n                        deps: [MC_DATE_LOCALE]\n                    }\n                ]\n            }]\n    }], function () { return [{ type: i1.DateAdapter }]; }, null); })();\n\n/**\n * @title Datepicker\n */\nclass DatepickerOverviewExample {\n}\nDatepickerOverviewExample.ɵfac = function DatepickerOverviewExample_Factory(t) { return new (t || DatepickerOverviewExample)(); };\nDatepickerOverviewExample.ɵcmp = i0.ɵɵdefineComponent({ type: DatepickerOverviewExample, selectors: [[\"datepicker-overview-example\"]], features: [i0.ɵɵProvidersFeature([\n            { provide: MC_DATE_LOCALE, useValue: 'ru' },\n            {\n                provide: DateAdapter,\n                useFactory: (locale) => new LuxonDateAdapter(locale),\n                deps: [MC_DATE_LOCALE]\n            }\n        ])], decls: 6, vars: 5, consts: [[\"mcTooltip\", \"\", 3, \"mcTitle\", \"click\"], [\"tooltip\", \"mcTooltip\"], [3, \"ngModel\", \"placeholder\", \"mcDatepicker\", \"mcValidationTooltip\", \"ngModelChange\"], [\"mc-icon\", \"mc-calendar_16\", \"mcSuffix\", \"\"], [\"myDatepicker\", \"\"]], template: function DatepickerOverviewExample_Template(rf, ctx) { if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"mc-form-field\", 0, 1);\n        i0.ɵɵlistener(\"click\", function DatepickerOverviewExample_Template_mc_form_field_click_0_listener() { i0.ɵɵrestoreView(_r2); const _r1 = i0.ɵɵreference(5); return _r1.toggle(); });\n        i0.ɵɵelementStart(2, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function DatepickerOverviewExample_Template_input_ngModelChange_2_listener($event) { return ctx.date = $event; });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵelement(4, \"mc-datepicker\", null, 4);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r0 = i0.ɵɵreference(1);\n        const _r1 = i0.ɵɵreference(5);\n        i0.ɵɵproperty(\"mcTitle\", \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0446\\u0438\\u0444\\u0440\\u044B\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"placeholder\", \"\\u0434\\u0434.\\u043C\\u043C.\\u0433\\u0433\\u0433\\u0433\")(\"mcDatepicker\", _r1)(\"mcValidationTooltip\", _r0);\n    } }, directives: [i4.McFormField, i5.McTooltip, i6.DefaultValueAccessor, i7.McDatepickerInput, i6.NgControlStatus, i6.NgModel, i8.McIcon, i8.McIconCSSStyler, i4.McSuffix, i7.McDatepicker], styles: [\"\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerOverviewExample, [{\n        type: Component,\n        args: [{\n                selector: 'datepicker-overview-example',\n                templateUrl: 'datepicker-overview-example.html',\n                styleUrls: ['datepicker-overview-example.css'],\n                providers: [\n                    { provide: MC_DATE_LOCALE, useValue: 'ru' },\n                    {\n                        provide: DateAdapter,\n                        useFactory: (locale) => new LuxonDateAdapter(locale),\n                        deps: [MC_DATE_LOCALE]\n                    }\n                ]\n            }]\n    }], null, null); })();\n\nconst EXAMPLES = [\n    DatepickerLanguageExample,\n    DatepickerOverviewExample,\n    DatepickerNotEmptyExample\n];\nclass DatepickerExamplesModule {\n}\nDatepickerExamplesModule.ɵfac = function DatepickerExamplesModule_Factory(t) { return new (t || DatepickerExamplesModule)(); };\nDatepickerExamplesModule.ɵmod = i0.ɵɵdefineNgModule({ type: DatepickerExamplesModule });\nDatepickerExamplesModule.ɵinj = i0.ɵɵdefineInjector({ imports: [[\n            CommonModule,\n            FormsModule,\n            ReactiveFormsModule,\n            McLuxonDateModule,\n            McDatepickerModule,\n            McInputModule,\n            McFormFieldModule,\n            McIconModule,\n            McRadioModule,\n            McToolTipModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(DatepickerExamplesModule, { declarations: [DatepickerLanguageExample,\n        DatepickerOverviewExample,\n        DatepickerNotEmptyExample], imports: [CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        McLuxonDateModule,\n        McDatepickerModule,\n        McInputModule,\n        McFormFieldModule,\n        McIconModule,\n        McRadioModule,\n        McToolTipModule], exports: [DatepickerLanguageExample,\n        DatepickerOverviewExample,\n        DatepickerNotEmptyExample] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerExamplesModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    FormsModule,\n                    ReactiveFormsModule,\n                    McLuxonDateModule,\n                    McDatepickerModule,\n                    McInputModule,\n                    McFormFieldModule,\n                    McIconModule,\n                    McRadioModule,\n                    McToolTipModule\n                ],\n                declarations: EXAMPLES,\n                exports: EXAMPLES\n            }]\n    }], null, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DatepickerExamplesModule, DatepickerLanguageExample, DatepickerNotEmptyExample, DatepickerOverviewExample };\n//# sourceMappingURL=ptsecurity-mosaic-examples-mosaic-datepicker.js.map\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(null, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define(\"@angular/common/locales/de\", [\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    // THIS CODE IS GENERATED - DO NOT MODIFY\n    // See angular/tools/gulp-tasks/cldr/extract.js\n    var u = undefined;\n    function plural(n) {\n        var i = Math.floor(Math.abs(n)), v = n.toString().replace(/^[^.]*\\.?/, '').length;\n        if (i === 1 && v === 0)\n            return 1;\n        return 5;\n    }\n    exports.default = [\n        'de',\n        [['AM', 'PM'], u, u],\n        u,\n        [\n            ['S', 'M', 'D', 'M', 'D', 'F', 'S'], ['So.', 'Mo.', 'Di.', 'Mi.', 'Do.', 'Fr.', 'Sa.'],\n            ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],\n            ['So.', 'Mo.', 'Di.', 'Mi.', 'Do.', 'Fr.', 'Sa.']\n        ],\n        [\n            ['S', 'M', 'D', 'M', 'D', 'F', 'S'], ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],\n            ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],\n            ['So.', 'Mo.', 'Di.', 'Mi.', 'Do.', 'Fr.', 'Sa.']\n        ],\n        [\n            ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n            [\n                'Jan.', 'Feb.', 'März', 'Apr.', 'Mai', 'Juni', 'Juli', 'Aug.', 'Sept.', 'Okt.', 'Nov.', 'Dez.'\n            ],\n            [\n                'Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober',\n                'November', 'Dezember'\n            ]\n        ],\n        [\n            ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n            ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],\n            [\n                'Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober',\n                'November', 'Dezember'\n            ]\n        ],\n        [['v. Chr.', 'n. Chr.'], u, u],\n        1,\n        [6, 0],\n        ['dd.MM.yy', 'dd.MM.y', 'd. MMMM y', 'EEEE, d. MMMM y'],\n        ['HH:mm', 'HH:mm:ss', 'HH:mm:ss z', 'HH:mm:ss zzzz'],\n        ['{1}, {0}', u, '{1} \\'um\\' {0}', u],\n        [',', '.', ';', '%', '+', '-', 'E', '·', '‰', '∞', 'NaN', ':'],\n        ['#,##0.###', '#,##0 %', '#,##0.00 ¤', '#E0'],\n        'EUR',\n        '€',\n        'Euro',\n        {\n            'ATS': ['öS'],\n            'AUD': ['AU$', '$'],\n            'BGM': ['BGK'],\n            'BGO': ['BGJ'],\n            'CUC': [u, 'Cub$'],\n            'DEM': ['DM'],\n            'FKP': [u, 'Fl£'],\n            'GNF': [u, 'F.G.'],\n            'KMF': [u, 'FC'],\n            'RON': [u, 'L'],\n            'RWF': [u, 'F.Rw'],\n            'SYP': [],\n            'THB': ['฿'],\n            'TWD': ['NT$'],\n            'XXX': [],\n            'ZMW': [u, 'K']\n        },\n        'ltr',\n        plural\n    ];\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb21tb24vbG9jYWxlcy9kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7Ozs7Ozs7Ozs7OztJQUVILHlDQUF5QztJQUN6QywrQ0FBK0M7SUFFL0MsSUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDO0lBRXBCLFNBQVMsTUFBTSxDQUFDLENBQVM7UUFDdkIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNsRixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7WUFBRSxPQUFPLENBQUMsQ0FBQztRQUNqQyxPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFRCxrQkFBZTtRQUNiLElBQUk7UUFDSixDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEIsQ0FBQztRQUNEO1lBQ0UsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQztZQUN0RixDQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQztZQUNqRixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxF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RSxNQUFNLENBQUM7WUFDbEIsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDO1lBQ2IsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztZQUNqQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDO1lBQ2xCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUM7WUFDaEIsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUM7WUFDbEIsS0FBSyxFQUFFLEVBQUU7WUFDVCxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUM7WUFDWixLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDZCxLQUFLLEVBQUUsRUFBRTtZQUNULEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7U0FDaEI7UUFDRCxLQUFLO1FBQ0wsTUFBTTtLQUNQLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLy8gVEhJUyBDT0RFIElTIEdFTkVSQVRFRCAtIERPIE5PVCBNT0RJRllcbi8vIFNlZSBhbmd1bGFyL3Rvb2xzL2d1bHAtdGFza3MvY2xkci9leHRyYWN0LmpzXG5cbmNvbnN0IHUgPSB1bmRlZmluZWQ7XG5cbmZ1bmN0aW9uIHBsdXJhbChuOiBudW1iZXIpOiBudW1iZXIge1xuICBsZXQgaSA9IE1hdGguZmxvb3IoTWF0aC5hYnMobikpLCB2ID0gbi50b1N0cmluZygpLnJlcGxhY2UoL15bXi5dKlxcLj8vLCAnJykubGVuZ3RoO1xuICBpZiAoaSA9PT0gMSAmJiB2ID09PSAwKSByZXR1cm4gMTtcbiAgcmV0dXJuIDU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFtcbiAgJ2RlJyxcbiAgW1snQU0nLCAnUE0nXSwgdSwgdV0sXG4gIHUsXG4gIFtcbiAgICBbJ1MnLCAnTScsICdEJywgJ00nLCAnRCcsICdGJywgJ1MnXSwgWydTby4nLCAnTW8uJywgJ0RpLicsICdNaS4nLCAnRG8uJywgJ0ZyLicsICdTYS4nXSxcbiAgICBbJ1Nvbm50YWcnLCAnTW9udGFnJywgJ0RpZW5zdGFnJywgJ01pdHR3b2NoJywgJ0Rvbm5lcnN0YWcnLCAnRnJlaXRhZycsICdTYW1zdGFnJ10sXG4gICAgWydTby4nLCAnTW8uJywgJ0RpLicsICdNaS4nLCAnRG8uJywgJ0ZyLicsICdTYS4nXVxuICBdLFxuICBbXG4gICAgWydTJywgJ00nLCAnRCcsICdNJywgJ0QnLCAnRicsICdTJ10sIFsnU28nLCAnTW8nLCAnRGknLCAnTWknLCAnRG8nLCAnRnInLCAnU2EnXSxcbiAgICBbJ1Nvbm50YWcnLCAnTW9udGFnJywgJ0RpZW5zdGFnJywgJ01pdHR3b2NoJywgJ0Rvbm5lcnN0YWcnLCAnRnJlaXRhZycsICdTYW1zdGFnJ10sXG4gICAgWydTby4nLCAnTW8uJywgJ0RpLicsICdNaS4nLCAnRG8uJywgJ0ZyLicsICdTYS4nXVxuICBdLFxuICBbXG4gICAgWydKJywgJ0YnLCAnTScsICdBJywgJ00nLCAnSicsICdKJywgJ0EnLCAnUycsICdPJywgJ04nLCAnRCddLFxuICAgIFtcbiAgICAgICdKYW4uJywgJ0ZlYi4nLCAnTcOkcnonLCAnQXByLicsICdNYWknLCAnSnVuaScsICdKdWxpJywgJ0F1Zy4nLCAnU2VwdC4nLCAnT2t0LicsICdOb3YuJywgJ0Rlei4nXG4gICAgXSxcbiAgICBbXG4gICAgICAnSmFudWFyJywgJ0ZlYnJ1YXInLCAnTcOkcnonLCAnQXByaWwnLCAnTWFpJywgJ0p1bmknLCAnSnVsaScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09rdG9iZXInLFxuICAgICAgJ05vdmVtYmVyJywgJ0RlemVtYmVyJ1xuICAgIF1cbiAgXSxcbiAgW1xuICAgIFsnSicsICdGJywgJ00nLCAnQScsICdNJywgJ0onLCAnSicsICdBJywgJ1MnLCAnTycsICdOJywgJ0QnXSxcbiAgICBbJ0phbicsICdGZWInLCAnTcOkcicsICdBcHInLCAnTWFpJywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPa3QnLCAnTm92JywgJ0RleiddLFxuICAgIFtcbiAgICAgICdKYW51YXInLCAnRmVicnVhcicsICdNw6RyeicsICdBcHJpbCcsICdNYWknLCAnSnVuaScsICdKdWxpJywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2t0b2JlcicsXG4gICAgICAnTm92ZW1iZXInLCAnRGV6ZW1iZXInXG4gICAgXVxuICBdLFxuICBbWyd2LiBDaHIuJywgJ24uIENoci4nXSwgdSwgdV0sXG4gIDEsXG4gIFs2LCAwXSxcbiAgWydkZC5NTS55eScsICdkZC5NTS55JywgJ2QuIE1NTU0geScsICdFRUVFLCBkLiBNTU1NIHknXSxcbiAgWydISDptbScsICdISDptbTpzcycsICdISDptbTpzcyB6JywgJ0hIOm1tOnNzIHp6enonXSxcbiAgWyd7MX0sIHswfScsIHUsICd7MX0gXFwndW1cXCcgezB9JywgdV0sXG4gIFsnLCcsICcuJywgJzsnLCAnJScsICcrJywgJy0nLCAnRScsICfCtycsICfigLAnLCAn4oieJywgJ05hTicsICc6J10sXG4gIFsnIywjIzAuIyMjJywgJyMsIyMwwqAlJywgJyMsIyMwLjAwwqDCpCcsICcjRTAnXSxcbiAgJ0VVUicsXG4gICfigqwnLFxuICAnRXVybycsXG4gIHtcbiAgICAnQVRTJzogWyfDtlMnXSxcbiAgICAnQVVEJzogWydBVSQnLCAnJCddLFxuICAgICdCR00nOiBbJ0JHSyddLFxuICAgICdCR08nOiBbJ0JHSiddLFxuICAgICdDVUMnOiBbdSwgJ0N1YiQnXSxcbiAgICAnREVNJzogWydETSddLFxuICAgICdGS1AnOiBbdSwgJ0ZswqMnXSxcbiAgICAnR05GJzogW3UsICdGLkcuJ10sXG4gICAgJ0tNRic6IFt1LCAnRkMnXSxcbiAgICAnUk9OJzogW3UsICdMJ10sXG4gICAgJ1JXRic6IFt1LCAnRi5SdyddLFxuICAgICdTWVAnOiBbXSxcbiAgICAnVEhCJzogWyfguL8nXSxcbiAgICAnVFdEJzogWydOVCQnXSxcbiAgICAnWFhYJzogW10sXG4gICAgJ1pNVyc6IFt1LCAnSyddXG4gIH0sXG4gICdsdHInLFxuICBwbHVyYWxcbl07XG4iXX0="]}