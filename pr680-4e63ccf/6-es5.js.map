{"version":3,"sources":["webpack:///node_modules/@ptsecurity/mosaic-examples/fesm2015/ptsecurity-mosaic-examples-mosaic-datepicker.js","webpack:///node_modules/@angular/common/locales/de.js","webpack:///dist/packages/mosaic/datepicker/calendar-body.component.ts","webpack:///dist/packages/mosaic/datepicker/datepicker-errors.ts","webpack:///dist/packages/mosaic/datepicker/datepicker-intl.ts","webpack:///dist/packages/mosaic/datepicker/month-view.component.ts","webpack:///dist/packages/mosaic/datepicker/multi-year-view.component.ts","webpack:///dist/packages/mosaic/datepicker/year-view.component.ts","webpack:///dist/packages/mosaic/datepicker/calendar.component.ts","webpack:///dist/packages/mosaic/datepicker/datepicker-animations.ts","webpack:///dist/packages/mosaic/datepicker/datepicker.component.ts","webpack:///dist/packages/mosaic/datepicker/datepicker-input.directive.ts","webpack:///dist/packages/mosaic/datepicker/datepicker-toggle.component.ts","webpack:///dist/packages/mosaic/datepicker/datepicker-module.ts","webpack:///dist/packages/mosaic/datepicker/ptsecurity-mosaic-datepicker.ts"],"names":["mcDateAdapterFactory","locale","dateAdapter","updateLocaleData","firstDayOfWeek","mcDateFormatsFactory$1","dateFormats","Object","assign","dateInput","DatepickerCustomExample","adapter","sunday","date","today","minDate","minus","year","maxDate","plus","ɵfac","DatepickerCustomExample_Factory","t","ɵcmp","type","selectors","features","provide","useValue","useFactory","deps","decls","vars","consts","template","DatepickerCustomExample_Template","rf","ctx","_r2","DatepickerCustomExample_Template_mc_form_field_click_1_listener","_r1","toggle","_r0","directives","styles","ngDevMode","args","selector","templateUrl","styleUrls","providers","DatepickerDisabledExample","day","DatepickerDisabledExample_Factory","DatepickerDisabledExample_Template","_r6","DatepickerDisabledExample_Template_mc_form_field_click_5_listener","DatepickerDisabledExample_Template_mc_form_field_click_15_listener","DatepickerDisabledExample_Template_mc_form_field_click_24_listener","_r3","DatepickerDisabledExample_Template_mc_form_field_click_33_listener","_r5","_r4","myFilter","DatepickerLanguageExample_mc_radio_button_1_Template","language_r3","$implicit","ctx_r0","name","selectedLanguage","mcDateFormatsFactory","DatepickerLanguageExample","languageList","format","placeholder","selectedDate","createDateTime","setLocale","$event","value","find","setValue","DatepickerLanguageExample_Factory","DatepickerLanguageExample_Template","DatepickerLanguageExample_Template_mc_radio_group_change_0_listener","setFormat","DatepickerLanguageExample_Template_mc_form_field_click_3_listener","undefined","decorators","DatepickerOverviewExample","DatepickerOverviewExample_Factory","DatepickerOverviewExample_Template","DatepickerOverviewExample_Template_mc_form_field_click_0_listener","DatepickerOverviewExample_Template_input_ngModelChange_2_listener","DatepickerYearExample","DatepickerYearExample_Factory","DatepickerYearExample_Template","DatepickerYearExample_Template_mc_form_field_click_0_listener","DatepickerYearExample_Template_input_ngModelChange_2_listener","EXAMPLES","DatepickerExamplesModule","DatepickerExamplesModule_Factory","ɵmod","ɵinj","imports","ngJitMode","declarations","exports","factory","module","v","require","defineProperty","u","plural","n","i","Math","floor","abs","toString","replace","length","McCalendarCell","displayValue","ariaLabel","enabled","cssClasses","McCalendarBody","elementRef","ngZone","numCols","activeCell","cellAspectRatio","selectedValueChange","cell","emit","changes","columnChanges","rows","firstRowOffset","cellPadding","cellWidth","rowIndex","colIndex","cellNumber","runOutsideAngular","onStable","asObservable","pipe","subscribe","nativeElement","querySelector","focus","createMissingDateImplError","provider","Error","McDatepickerIntl","calendarLabel","openCalendarLabel","prevMonthLabel","nextMonthLabel","prevYearLabel","nextYearLabel","prevMultiYearLabel","nextMultiYearLabel","switchToMonthViewLabel","switchToMultiYearViewLabel","DAYS_PER_WEEK","McMonthView","changeDetectorRef","dir","selectedChange","userSelection","activeDateChange","getFirstDayOfWeek","narrowWeekdays","getDayOfWeekNames","longWeekdays","weekdays","map","long","narrow","slice","concat","_activeDate","oldActiveDate","validDate","getValidDateOrNull","deserialize","clampDate","hasSameMonthAndYear","init","_selected","getDateInCurrentMonth","_minDate","_maxDate","selectedYear","getYear","activeDate","selectedMonth","getMonth","createDate","event","isRtl","keyCode","addCalendarDays","getDate","getNumDaysInMonth","altKey","addCalendarYears","addCalendarMonths","dateFilter","dateSelected","preventDefault","compareDate","focusActiveCell","selected","todayDate","monthLabel","getMonthNames","toLocaleUpperCase","substr","firstOfMonth","firstWeekOffset","getDayOfWeek","createWeekCells","markForCheck","mcCalendarBody","daysInMonth","dateNames","getDateNames","weeks","push","shouldEnableDate","dateA11yLabel","cellClasses","dateClass","d1","d2","obj","isDateInstance","isValid","yearsPerPage","yearsPerRow","McMultiYearView","yearSelected","todayYear","activeYear","activeOffset","years","row","createCellForYear","month","min","onYearSelected","yearName","getYearName","shouldEnableYear","firstOfYear","McYearView","monthSelected","getMonthInCurrentYear","normalizedDate","VERTICAL_SHIFT","PAGE_SHIFT","MAX_MONTH_INDEX","onMonthSelected","todayMonth","yearLabel","monthNames","months","createCellForMonth","monthName","monthYearA11yLabel","newMonthName","shouldEnableMonth","isYearAndMonthAfterMaxDate","isYearAndMonthBeforeMinDate","maxYear","maxMonth","minYear","minMonth","McCalendarView","McCalendarHeader","intl","calendar","stateChanges","currentView","Month","label","monthYearLabel","Year","firstYearInView","lastYearInView","MultiYear","includes","isSameView","firstDate","secondDate","firstYear","secondYear","firstMonth","secondMonth","McCalendar","startView","moveFocusOnNextTick","intlChanges","next","_startAt","clampedActiveDate","_currentView","calendarHeaderPortal","headerComponent","startAt","unsubscribe","complete","change","firstChange","view","getCurrentViewComponent","detectChanges","monthView","yearView","multiYearView","ngAfterContentInit","sameDate","normalizedYear","normalizedMonth","mcDatepickerAnimations","transformPanel","opacity","transform","fadeInCalendar","Element","prototype","matches","msMatchesSelector","datepickerUid","MC_DATEPICKER_SCROLL_STRATEGY","MC_DATEPICKER_SCROLL_STRATEGY_FACTORY","overlay","scrollStrategies","reposition","MC_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER","McDatepickerContent","animationDone","subscriptions","add","datepicker","animationState","McDatepicker","viewContainerRef","scrollStrategy","document","_hasBackdrop","_opened","backdropClass","openedStream","closedStream","id","disabledChange","selectedChanged","validSelected","focusedElementBeforeOpen","inputSubscription","EMPTY","closeSubscription","datepickerInput","_disabled","disabled","newValue","open","close","max","destroyOverlay","oldValue","input","valueChange","popupComponentRef","instance","activeElement","openAsPopup","restoreFocus","startExitAnimation","isReadOnly","popupRef","dispose","calendarPortal","createPopup","hasAttached","attach","updatePosition","overlayConfig","positionStrategy","createPopupPositionStrategy","hasBackdrop","direction","panelClass","create","closingActions","body","backdropClick","outsidePointerEvents","detachments","position","flexibleConnectedTo","withTransformOriginOn","withFlexibleDimensions","withViewportMargin","withLockedPosition","withPositions","originX","originY","overlayX","overlayY","DateParts","DateDigit","start","maxDays","parse","parseDay","parseMonth","parseYear","isDay","isMonth","isYear","parsedValue","parseInt","MC_DATEPICKER_VALUE_ACCESSOR","useExisting","McDatepickerInput","multi","MC_DATEPICKER_VALIDATORS","McDatepickerInputEvent","target","targetElement","uniqueComponentIdSuffix","renderer","controlType","focused","incorrectInput","dateChange","uid","datepickerSubscription","localeSubscription","lastValueValid","onTouched","onInput","correctCursorPosition","formattedValue","replaceSymbols","viewValue","newTimeObj","getDateFromString","control","updateValueAndValidity","_value","setViewValue","getTimeStringFromDate","selectNextDigitByCursor","selectionStart","updateValue","parseOnBlur","getDefaultValue","viewDigits","split","separator","filter","firsViewDigit","secondViewDigit","thirdViewDigit","setTimeout","firstDigit","fullName","secondDigit","thirdDigit","reduce","acc","digit","index","digitWithYear","viewDigitWithYear","hours","minutes","seconds","milliseconds","updateLocaleParams","cvaOnChange","validatorOnChange","parseValidator","empty","mcDatepickerParse","text","minValidator","controlValue","mcDatepickerMin","actual","maxValidator","mcDatepickerMax","filterValidator","mcDatepickerFilter","validator","compose","localeChanges","_required","registerInput","oldDate","formatValue","_min","_max","element","blur","_id","tooltip","enterDelay","trigger","initListeners","isOpen","show","hide","isBadInput","readOnly","selectionEnd","isFocused","fn","setControl","isDisabled","isLetterKey","isKeyForOpen","isKeyForClose","isKeyForByPass","spaceKeyHandler","verticalArrowKeyHandler","changeCaretPosition","test","key","getNewValue","focusChanged","rawValue","clipboardData","getData","match","groups","first","second","third","join","toIso8601","separatorPositions","item","getDigitPositions","ctrlKey","metaKey","selectNextDigit","savePosition","setProperty","part","timeString","defaultValue","getHours","getMinutes","getSeconds","getMilliseconds","timeFormat","cursorPosition","end","dateVal","whatToIncrement","lastDay","getLastDayFor","whatToDecrement","changedTime","getDateEditMetrics","modifiedTimePart","incrementDate","decrementDate","onChange","cursorPos","nextSeparatorPos","indexOf","selectDigitByCursor","endPositionOfCurrentDigit","cycle","lastValue","newCursorPos","validity","badInput","formatInLowerCase","toLowerCase","arr","prev","McDatepickerToggleIcon","McDatepickerToggle","watchStateChanges","stopPropagation","datepickerDisabled","observableOf","inputDisabled","datepickerToggled","McDatepickerModule"],"mappings":"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","file":"6-es5.js","sourcesContent":["import * as i3$2 from '@angular/common';\nimport { registerLocaleData, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Component, Inject, NgModule } from '@angular/core';\nimport * as i3$1 from '@angular/forms';\nimport { FormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { LuxonDateAdapter, MC_LUXON_DATE_FORMATS, McLuxonDateModule } from '@ptsecurity/mosaic-luxon-adapter/adapter';\nimport * as i4 from '@ptsecurity/mosaic/datepicker';\nimport { McDatepickerModule } from '@ptsecurity/mosaic/datepicker';\nimport * as i2 from '@ptsecurity/mosaic/form-field';\nimport { McFormFieldModule } from '@ptsecurity/mosaic/form-field';\nimport * as i5 from '@ptsecurity/mosaic/icon';\nimport { McIconModule } from '@ptsecurity/mosaic/icon';\nimport * as i7 from '@ptsecurity/mosaic/input';\nimport { McInputModule } from '@ptsecurity/mosaic/input';\nimport * as i2$1 from '@ptsecurity/mosaic/radio';\nimport { McRadioModule } from '@ptsecurity/mosaic/radio';\nimport * as i3 from '@ptsecurity/mosaic/tooltip';\nimport { McToolTipModule } from '@ptsecurity/mosaic/tooltip';\nimport * as i1 from '@ptsecurity/cdk/datetime';\nimport { MC_DATE_LOCALE, MC_DATE_FORMATS, DateAdapter } from '@ptsecurity/cdk/datetime';\nimport de from '@angular/common/locales/de';\n\n// @dynamic\nfunction mcDateAdapterFactory(locale) {\n    const dateAdapter = new LuxonDateAdapter(locale);\n    dateAdapter.updateLocaleData({ firstDayOfWeek: 1 });\n    return dateAdapter;\n}\n// @dynamic\nfunction mcDateFormatsFactory$1() {\n    const dateFormats = Object.assign({}, MC_LUXON_DATE_FORMATS);\n    dateFormats.dateInput = 'dd.MM.yyyy';\n    return dateFormats;\n}\n/**\n * @title Custom localeData and format datepicker\n */\nclass DatepickerCustomExample {\n    constructor(adapter) {\n        this.adapter = adapter;\n        this.sunday = 6;\n        this.date = this.adapter.today();\n        this.minDate = this.adapter.today().minus({ year: 1 });\n        this.maxDate = this.adapter.today().plus({ year: 1 });\n    }\n}\nDatepickerCustomExample.ɵfac = function DatepickerCustomExample_Factory(t) { return new (t || DatepickerCustomExample)(i0.ɵɵdirectiveInject(i1.DateAdapter)); };\nDatepickerCustomExample.ɵcmp = i0.ɵɵdefineComponent({ type: DatepickerCustomExample, selectors: [[\"datepicker-custom-example\"]], features: [i0.ɵɵProvidersFeature([\n            { provide: MC_DATE_LOCALE, useValue: 'en' },\n            {\n                provide: MC_DATE_FORMATS,\n                useFactory: mcDateFormatsFactory$1\n            },\n            {\n                provide: DateAdapter,\n                useFactory: mcDateAdapterFactory,\n                deps: [MC_DATE_LOCALE]\n            }\n        ])], decls: 7, vars: 3, consts: [[1, \"example-datepicker-group\"], [\"mcWarningTooltip\", \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0446\\u0438\\u0444\\u0440\\u044B\", 1, \"example-datepicker\", 3, \"click\"], [\"tooltip\", \"mcWarningTooltip\"], [3, \"mcDatepicker\", \"placeholder\", \"mcValidationTooltip\"], [\"mc-icon\", \"mc-calendar_16\", \"mcSuffix\", \"\"], [\"datepicker\", \"\"]], template: function DatepickerCustomExample_Template(rf, ctx) { if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"mc-form-field\", 1, 2);\n        i0.ɵɵlistener(\"click\", function DatepickerCustomExample_Template_mc_form_field_click_1_listener() { i0.ɵɵrestoreView(_r2); const _r1 = i0.ɵɵreference(6); return _r1.toggle(); });\n        i0.ɵɵelement(3, \"input\", 3);\n        i0.ɵɵelement(4, \"i\", 4);\n        i0.ɵɵelement(5, \"mc-datepicker\", null, 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r0 = i0.ɵɵreference(2);\n        const _r1 = i0.ɵɵreference(6);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"mcDatepicker\", _r1)(\"placeholder\", \"\\u0434\\u0434.\\u043C\\u043C.\\u0433\\u0433\\u0433\\u0433\")(\"mcValidationTooltip\", _r0);\n    } }, directives: [i2.McFormField, i3.McWarningTooltipTrigger, i4.McDatepickerInput, i5.McIcon, i5.McIconCSSStyler, i2.McSuffix, i4.McDatepicker], styles: [\".example-datepicker-group[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.example-datepicker[_ngcontent-%COMP%]{margin-bottom:10px}\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerCustomExample, [{\n        type: Component,\n        args: [{\n                selector: 'datepicker-custom-example',\n                templateUrl: 'datepicker-custom-example.html',\n                styleUrls: ['datepicker-custom-example.css'],\n                providers: [\n                    { provide: MC_DATE_LOCALE, useValue: 'en' },\n                    {\n                        provide: MC_DATE_FORMATS,\n                        useFactory: mcDateFormatsFactory$1\n                    },\n                    {\n                        provide: DateAdapter,\n                        useFactory: mcDateAdapterFactory,\n                        deps: [MC_DATE_LOCALE]\n                    }\n                ]\n            }]\n    }], function () { return [{ type: i1.DateAdapter }]; }, null); })();\n\n/**\n * @title Disabled datepicker\n */\nclass DatepickerDisabledExample {\n    constructor(adapter) {\n        this.adapter = adapter;\n        this.sunday = 6;\n        this.date = this.adapter.today();\n        this.minDate = this.adapter.today().minus({ year: 1 });\n        this.maxDate = this.adapter.today().plus({ year: 1 });\n    }\n    myFilter(date) {\n        return date.day !== 0 && date.day !== this.sunday;\n    }\n}\nDatepickerDisabledExample.ɵfac = function DatepickerDisabledExample_Factory(t) { return new (t || DatepickerDisabledExample)(i0.ɵɵdirectiveInject(i1.DateAdapter)); };\nDatepickerDisabledExample.ɵcmp = i0.ɵɵdefineComponent({ type: DatepickerDisabledExample, selectors: [[\"datepicker-disabled-example\"]], decls: 39, vars: 17, consts: [[1, \".example-datepicker-group\"], [\"mcWarningTooltip\", \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0446\\u0438\\u0444\\u0440\\u044B\", 1, \"example-datepicker\", 3, \"click\"], [\"tooltip1\", \"mcWarningTooltip\"], [3, \"ngModel\", \"placeholder\", \"mcDatepicker\", \"mcValidationTooltip\"], [\"mc-icon\", \"mc-calendar_16\", \"mcSuffix\", \"\"], [\"disabled\", \"\", \"startView\", \"multi-year\"], [\"myDatepicker1\", \"\"], [1, \"example-datepicker\", 3, \"click\"], [\"disabled\", \"\", 3, \"ngModel\", \"placeholder\", \"mcDatepicker\"], [\"myDatepicker2\", \"\"], [\"readonly\", \"\", 3, \"ngModel\", \"placeholder\", \"mcDatepicker\"], [\"myDatepicker3\", \"\"], [\"tooltip4\", \"mcWarningTooltip\"], [3, \"ngModel\", \"placeholder\", \"mcDatepicker\", \"mcDatepickerFilter\", \"mcValidationTooltip\", \"min\", \"max\"], [\"myDatepicker4\", \"\"]], template: function DatepickerDisabledExample_Template(rf, ctx) { if (rf & 1) {\n        const _r6 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\");\n        i0.ɵɵelementStart(2, \"label\");\n        i0.ɵɵtext(3, \"Datepicker disabled\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"br\");\n        i0.ɵɵelementStart(5, \"mc-form-field\", 1, 2);\n        i0.ɵɵlistener(\"click\", function DatepickerDisabledExample_Template_mc_form_field_click_5_listener() { i0.ɵɵrestoreView(_r6); const _r1 = i0.ɵɵreference(10); return _r1.toggle(); });\n        i0.ɵɵelement(7, \"input\", 3);\n        i0.ɵɵelement(8, \"i\", 4);\n        i0.ɵɵelement(9, \"mc-datepicker\", 5, 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\");\n        i0.ɵɵelementStart(12, \"label\");\n        i0.ɵɵtext(13, \"Datepicker with disabled input\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"br\");\n        i0.ɵɵelementStart(15, \"mc-form-field\", 7);\n        i0.ɵɵlistener(\"click\", function DatepickerDisabledExample_Template_mc_form_field_click_15_listener() { i0.ɵɵrestoreView(_r6); const _r1 = i0.ɵɵreference(10); return _r1.toggle(); });\n        i0.ɵɵelement(16, \"input\", 8);\n        i0.ɵɵelement(17, \"i\", 4);\n        i0.ɵɵelement(18, \"mc-datepicker\", null, 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\");\n        i0.ɵɵelementStart(21, \"label\");\n        i0.ɵɵtext(22, \"Datepicker with readonly input\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"br\");\n        i0.ɵɵelementStart(24, \"mc-form-field\", 7);\n        i0.ɵɵlistener(\"click\", function DatepickerDisabledExample_Template_mc_form_field_click_24_listener() { i0.ɵɵrestoreView(_r6); const _r3 = i0.ɵɵreference(28); return _r3.toggle(); });\n        i0.ɵɵelement(25, \"input\", 10);\n        i0.ɵɵelement(26, \"i\", 4);\n        i0.ɵɵelement(27, \"mc-datepicker\", null, 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\");\n        i0.ɵɵelementStart(30, \"label\");\n        i0.ɵɵtext(31, \"Datepicker with some dates disabled\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(32, \"br\");\n        i0.ɵɵelementStart(33, \"mc-form-field\", 1, 12);\n        i0.ɵɵlistener(\"click\", function DatepickerDisabledExample_Template_mc_form_field_click_33_listener() { i0.ɵɵrestoreView(_r6); const _r5 = i0.ɵɵreference(38); return _r5.toggle(); });\n        i0.ɵɵelement(35, \"input\", 13);\n        i0.ɵɵelement(36, \"i\", 4);\n        i0.ɵɵelement(37, \"mc-datepicker\", null, 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r0 = i0.ɵɵreference(6);\n        const _r1 = i0.ɵɵreference(10);\n        const _r2 = i0.ɵɵreference(19);\n        const _r3 = i0.ɵɵreference(28);\n        const _r4 = i0.ɵɵreference(34);\n        const _r5 = i0.ɵɵreference(38);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"placeholder\", \"\\u0434\\u0434.\\u043C\\u043C.\\u0433\\u0433\\u0433\\u0433\")(\"mcDatepicker\", _r1)(\"mcValidationTooltip\", _r0);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"placeholder\", \"\\u0434\\u0434.\\u043C\\u043C.\\u0433\\u0433\\u0433\\u0433\")(\"mcDatepicker\", _r2);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"placeholder\", \"\\u0434\\u0434.\\u043C\\u043C.\\u0433\\u0433\\u0433\\u0433\")(\"mcDatepicker\", _r3);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"placeholder\", \"\\u0434\\u0434.\\u043C\\u043C.\\u0433\\u0433\\u0433\\u0433\")(\"mcDatepicker\", _r5)(\"mcDatepickerFilter\", ctx.myFilter)(\"mcValidationTooltip\", _r4)(\"min\", ctx.minDate)(\"max\", ctx.maxDate);\n    } }, directives: [i2.McFormField, i3.McWarningTooltipTrigger, i3$1.DefaultValueAccessor, i4.McDatepickerInput, i3$1.NgControlStatus, i3$1.NgModel, i5.McIcon, i5.McIconCSSStyler, i2.McSuffix, i4.McDatepicker, i7.MinValidator, i7.MaxValidator], styles: [\".example-datepicker-group[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.example-datepicker[_ngcontent-%COMP%]{margin-bottom:10px}\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerDisabledExample, [{\n        type: Component,\n        args: [{\n                selector: 'datepicker-disabled-example',\n                templateUrl: 'datepicker-disabled-example.html',\n                styleUrls: ['datepicker-disabled-example.css']\n            }]\n    }], function () { return [{ type: i1.DateAdapter }]; }, null); })();\n\n/* tslint:disable:no-magic-numbers */\nfunction DatepickerLanguageExample_mc_radio_button_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mc-radio-button\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const language_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", language_r3)(\"checked\", language_r3.name === ctx_r0.selectedLanguage.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", language_r3.name, \" \");\n} }\nfunction mcDateFormatsFactory() {\n    const dateFormats = Object.assign({}, MC_LUXON_DATE_FORMATS);\n    dateFormats.dateInput = 'dd.MM.yyyy';\n    return dateFormats;\n}\nregisterLocaleData(de);\n/**\n * @title Multy language datepicker\n */\nclass DatepickerLanguageExample {\n    constructor(adapter, dateFormats) {\n        this.adapter = adapter;\n        this.dateFormats = dateFormats;\n        this.languageList = [\n            { name: 'en', format: 'dd/MM/yyyy', placeholder: 'дд/мм/гггг' },\n            { name: 'de', format: 'dd-MM-yyyy', placeholder: 'дд-мм-гггг' },\n            { name: 'ru', format: 'dd.MM.yyyy', placeholder: 'дд.мм.гггг' }\n        ];\n        this.selectedLanguage = this.languageList[0];\n        this.selectedDate = new FormControl(this.adapter.createDateTime(2020, 5, 6, 12, 0, 0, 0));\n    }\n    ngOnInit() {\n        this.adapter.setLocale(this.languageList[0].name);\n    }\n    setFormat($event) {\n        this.dateFormats.dateInput = $event.value.format;\n        this.selectedLanguage = this.languageList.find(({ name }) => name === $event.value.name);\n        this.selectedDate.setValue(this.selectedDate.value);\n        this.adapter.setLocale($event.value.name);\n    }\n}\nDatepickerLanguageExample.ɵfac = function DatepickerLanguageExample_Factory(t) { return new (t || DatepickerLanguageExample)(i0.ɵɵdirectiveInject(i1.DateAdapter), i0.ɵɵdirectiveInject(MC_DATE_FORMATS)); };\nDatepickerLanguageExample.ɵcmp = i0.ɵɵdefineComponent({ type: DatepickerLanguageExample, selectors: [[\"datepicker-language-example\"]], features: [i0.ɵɵProvidersFeature([{\n                provide: MC_DATE_FORMATS,\n                useFactory: mcDateFormatsFactory\n            }])], decls: 14, vars: 6, consts: [[1, \"example-radio-group\", 3, \"change\"], [\"class\", \"example-radio-button\", 3, \"value\", \"checked\", 4, \"ngFor\", \"ngForOf\"], [\"mcWarningTooltip\", \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0446\\u0438\\u0444\\u0440\\u044B\", 3, \"click\"], [\"tooltip\", \"mcWarningTooltip\"], [3, \"formControl\", \"placeholder\", \"mcDatepicker\", \"mcValidationTooltip\"], [\"mc-icon\", \"mc-calendar_16\", \"mcSuffix\", \"\"], [\"picker\", \"\"], [1, \"example-radio-button\", 3, \"value\", \"checked\"]], template: function DatepickerLanguageExample_Template(rf, ctx) { if (rf & 1) {\n        const _r4 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"mc-radio-group\", 0);\n        i0.ɵɵlistener(\"change\", function DatepickerLanguageExample_Template_mc_radio_group_change_0_listener($event) { return ctx.setFormat($event); });\n        i0.ɵɵtemplate(1, DatepickerLanguageExample_mc_radio_button_1_Template, 2, 3, \"mc-radio-button\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"br\");\n        i0.ɵɵelementStart(3, \"mc-form-field\", 2, 3);\n        i0.ɵɵlistener(\"click\", function DatepickerLanguageExample_Template_mc_form_field_click_3_listener() { i0.ɵɵrestoreView(_r4); const _r2 = i0.ɵɵreference(8); return _r2.toggle(); });\n        i0.ɵɵelement(5, \"input\", 4);\n        i0.ɵɵelement(6, \"i\", 5);\n        i0.ɵɵelement(7, \"mc-datepicker\", null, 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\");\n        i0.ɵɵelementStart(10, \"h3\");\n        i0.ɵɵtext(11, \"Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"p\");\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r1 = i0.ɵɵreference(4);\n        const _r2 = i0.ɵɵreference(8);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.languageList);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.selectedDate)(\"placeholder\", ctx.selectedLanguage.placeholder)(\"mcDatepicker\", _r2)(\"mcValidationTooltip\", _r1);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(ctx.selectedDate.value);\n    } }, directives: [i2$1.McRadioGroup, i3$2.NgForOf, i2.McFormField, i3.McWarningTooltipTrigger, i3$1.DefaultValueAccessor, i4.McDatepickerInput, i3$1.NgControlStatus, i3$1.FormControlDirective, i5.McIcon, i5.McIconCSSStyler, i2.McSuffix, i4.McDatepicker, i2$1.McRadioButton], styles: [\".example-radio-group[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.example-radio-button[_ngcontent-%COMP%]{margin-bottom:10px}\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerLanguageExample, [{\n        type: Component,\n        args: [{\n                selector: 'datepicker-language-example',\n                templateUrl: 'datepicker-language-example.html',\n                styleUrls: ['datepicker-language-example.css'],\n                providers: [{\n                        provide: MC_DATE_FORMATS,\n                        useFactory: mcDateFormatsFactory\n                    }]\n            }]\n    }], function () { return [{ type: i1.DateAdapter }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MC_DATE_FORMATS]\n            }] }]; }, null); })();\n\n/**\n * @title Datepicker\n */\nclass DatepickerOverviewExample {\n}\nDatepickerOverviewExample.ɵfac = function DatepickerOverviewExample_Factory(t) { return new (t || DatepickerOverviewExample)(); };\nDatepickerOverviewExample.ɵcmp = i0.ɵɵdefineComponent({ type: DatepickerOverviewExample, selectors: [[\"datepicker-overview-example\"]], decls: 6, vars: 4, consts: [[\"mcWarningTooltip\", \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0446\\u0438\\u0444\\u0440\\u044B\", 3, \"click\"], [\"tooltip\", \"mcWarningTooltip\"], [3, \"ngModel\", \"placeholder\", \"mcDatepicker\", \"mcValidationTooltip\", \"ngModelChange\"], [\"mc-icon\", \"mc-calendar_16\", \"mcSuffix\", \"\"], [\"myDatepicker\", \"\"]], template: function DatepickerOverviewExample_Template(rf, ctx) { if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"mc-form-field\", 0, 1);\n        i0.ɵɵlistener(\"click\", function DatepickerOverviewExample_Template_mc_form_field_click_0_listener() { i0.ɵɵrestoreView(_r2); const _r1 = i0.ɵɵreference(5); return _r1.toggle(); });\n        i0.ɵɵelementStart(2, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function DatepickerOverviewExample_Template_input_ngModelChange_2_listener($event) { return ctx.date = $event; });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵelement(4, \"mc-datepicker\", null, 4);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r0 = i0.ɵɵreference(1);\n        const _r1 = i0.ɵɵreference(5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"placeholder\", \"\\u0434\\u0434.\\u043C\\u043C.\\u0433\\u0433\\u0433\\u0433\")(\"mcDatepicker\", _r1)(\"mcValidationTooltip\", _r0);\n    } }, directives: [i2.McFormField, i3.McWarningTooltipTrigger, i3$1.DefaultValueAccessor, i4.McDatepickerInput, i3$1.NgControlStatus, i3$1.NgModel, i5.McIcon, i5.McIconCSSStyler, i2.McSuffix, i4.McDatepicker], styles: [\"\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerOverviewExample, [{\n        type: Component,\n        args: [{\n                selector: 'datepicker-overview-example',\n                templateUrl: 'datepicker-overview-example.html',\n                styleUrls: ['datepicker-overview-example.css']\n            }]\n    }], null, null); })();\n\n/**\n * @title Datepicker starts with year\n */\nclass DatepickerYearExample {\n}\nDatepickerYearExample.ɵfac = function DatepickerYearExample_Factory(t) { return new (t || DatepickerYearExample)(); };\nDatepickerYearExample.ɵcmp = i0.ɵɵdefineComponent({ type: DatepickerYearExample, selectors: [[\"datepicker-year-example\"]], decls: 6, vars: 5, consts: [[\"mcWarningTooltip\", \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0446\\u0438\\u0444\\u0440\\u044B\", 3, \"click\"], [\"tooltip\", \"mcWarningTooltip\"], [3, \"ngModel\", \"placeholder\", \"mcDatepicker\", \"mcValidationTooltip\", \"ngModelChange\"], [\"mc-icon\", \"mc-calendar_16\", \"mcSuffix\", \"\"], [3, \"startView\"], [\"myDatepicker\", \"\"]], template: function DatepickerYearExample_Template(rf, ctx) { if (rf & 1) {\n        const _r2 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"mc-form-field\", 0, 1);\n        i0.ɵɵlistener(\"click\", function DatepickerYearExample_Template_mc_form_field_click_0_listener() { i0.ɵɵrestoreView(_r2); const _r1 = i0.ɵɵreference(5); return _r1.toggle(); });\n        i0.ɵɵelementStart(2, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function DatepickerYearExample_Template_input_ngModelChange_2_listener($event) { return ctx.date = $event; });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵelement(4, \"mc-datepicker\", 4, 5);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r0 = i0.ɵɵreference(1);\n        const _r1 = i0.ɵɵreference(5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.date)(\"placeholder\", \"\\u0434\\u0434.\\u043C\\u043C.\\u0433\\u0433\\u0433\\u0433\")(\"mcDatepicker\", _r1)(\"mcValidationTooltip\", _r0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"startView\", \"multi-year\");\n    } }, directives: [i2.McFormField, i3.McWarningTooltipTrigger, i3$1.DefaultValueAccessor, i4.McDatepickerInput, i3$1.NgControlStatus, i3$1.NgModel, i5.McIcon, i5.McIconCSSStyler, i2.McSuffix, i4.McDatepicker], styles: [\"\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerYearExample, [{\n        type: Component,\n        args: [{\n                selector: 'datepicker-year-example',\n                templateUrl: 'datepicker-year-example.html',\n                styleUrls: ['datepicker-year-example.css']\n            }]\n    }], null, null); })();\n\nconst EXAMPLES = [\n    DatepickerDisabledExample,\n    DatepickerLanguageExample,\n    DatepickerOverviewExample,\n    DatepickerYearExample,\n    DatepickerCustomExample\n];\nclass DatepickerExamplesModule {\n}\nDatepickerExamplesModule.ɵfac = function DatepickerExamplesModule_Factory(t) { return new (t || DatepickerExamplesModule)(); };\nDatepickerExamplesModule.ɵmod = i0.ɵɵdefineNgModule({ type: DatepickerExamplesModule });\nDatepickerExamplesModule.ɵinj = i0.ɵɵdefineInjector({ imports: [[\n            CommonModule,\n            FormsModule,\n            ReactiveFormsModule,\n            McLuxonDateModule,\n            McDatepickerModule,\n            McInputModule,\n            McFormFieldModule,\n            McIconModule,\n            McRadioModule,\n            McToolTipModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(DatepickerExamplesModule, { declarations: [DatepickerDisabledExample,\n        DatepickerLanguageExample,\n        DatepickerOverviewExample,\n        DatepickerYearExample,\n        DatepickerCustomExample], imports: [CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        McLuxonDateModule,\n        McDatepickerModule,\n        McInputModule,\n        McFormFieldModule,\n        McIconModule,\n        McRadioModule,\n        McToolTipModule], exports: [DatepickerDisabledExample,\n        DatepickerLanguageExample,\n        DatepickerOverviewExample,\n        DatepickerYearExample,\n        DatepickerCustomExample] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DatepickerExamplesModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    FormsModule,\n                    ReactiveFormsModule,\n                    McLuxonDateModule,\n                    McDatepickerModule,\n                    McInputModule,\n                    McFormFieldModule,\n                    McIconModule,\n                    McRadioModule,\n                    McToolTipModule\n                ],\n                declarations: EXAMPLES,\n                exports: EXAMPLES\n            }]\n    }], null, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DatepickerCustomExample, DatepickerDisabledExample, DatepickerExamplesModule, DatepickerLanguageExample, DatepickerOverviewExample, DatepickerYearExample };\n//# sourceMappingURL=ptsecurity-mosaic-examples-mosaic-datepicker.js.map\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(null, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define(\"@angular/common/locales/de\", [\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    // THIS CODE IS GENERATED - DO NOT MODIFY\n    // See angular/tools/gulp-tasks/cldr/extract.js\n    var u = undefined;\n    function plural(n) {\n        var i = Math.floor(Math.abs(n)), v = n.toString().replace(/^[^.]*\\.?/, '').length;\n        if (i === 1 && v === 0)\n            return 1;\n        return 5;\n    }\n    exports.default = [\n        'de',\n        [['AM', 'PM'], u, u],\n        u,\n        [\n            ['S', 'M', 'D', 'M', 'D', 'F', 'S'], ['So.', 'Mo.', 'Di.', 'Mi.', 'Do.', 'Fr.', 'Sa.'],\n            ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],\n            ['So.', 'Mo.', 'Di.', 'Mi.', 'Do.', 'Fr.', 'Sa.']\n        ],\n        [\n            ['S', 'M', 'D', 'M', 'D', 'F', 'S'], ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],\n            ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],\n            ['So.', 'Mo.', 'Di.', 'Mi.', 'Do.', 'Fr.', 'Sa.']\n        ],\n        [\n            ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n            [\n                'Jan.', 'Feb.', 'März', 'Apr.', 'Mai', 'Juni', 'Juli', 'Aug.', 'Sept.', 'Okt.', 'Nov.', 'Dez.'\n            ],\n            [\n                'Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober',\n                'November', 'Dezember'\n            ]\n        ],\n        [\n            ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n            ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],\n            [\n                'Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober',\n                'November', 'Dezember'\n            ]\n        ],\n        [['v. Chr.', 'n. Chr.'], u, u],\n        1,\n        [6, 0],\n        ['dd.MM.yy', 'dd.MM.y', 'd. MMMM y', 'EEEE, d. MMMM y'],\n        ['HH:mm', 'HH:mm:ss', 'HH:mm:ss z', 'HH:mm:ss zzzz'],\n        ['{1}, {0}', u, '{1} \\'um\\' {0}', u],\n        [',', '.', ';', '%', '+', '-', 'E', '·', '‰', '∞', 'NaN', ':'],\n        ['#,##0.###', '#,##0 %', '#,##0.00 ¤', '#E0'],\n        'EUR',\n        '€',\n        'Euro',\n        {\n            'ATS': ['öS'],\n            'AUD': ['AU$', '$'],\n            'BGM': ['BGK'],\n            'BGO': ['BGJ'],\n            'CUC': [u, 'Cub$'],\n            'DEM': ['DM'],\n            'FKP': [u, 'Fl£'],\n            'GNF': [u, 'F.G.'],\n            'KMF': [u, 'FC'],\n            'RON': [u, 'L'],\n            'RWF': [u, 'F.Rw'],\n            'SYP': [],\n            'THB': ['฿'],\n            'TWD': ['NT$'],\n            'XXX': [],\n            'ZMW': [u, 'K']\n        },\n        'ltr',\n        plural\n    ];\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb21tb24vbG9jYWxlcy9kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7Ozs7Ozs7Ozs7OztJQUVILHlDQUF5QztJQUN6QywrQ0FBK0M7SUFFL0MsSUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDO0lBRXBCLFNBQVMsTUFBTSxDQUFDLENBQVM7UUFDdkIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNsRixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7WUFBRSxPQUFPLENBQUMsQ0FBQztRQUNqQyxPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFRCxrQkFBZTtRQUNiLElBQUk7UUFDSixDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEIsQ0FBQztRQUNEO1lBQ0UsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQztZQUN0RixDQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQztZQUNqRixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxF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RSxNQUFNLENBQUM7WUFDbEIsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDO1lBQ2IsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztZQUNqQixLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDO1lBQ2xCLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUM7WUFDaEIsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztZQUNmLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUM7WUFDbEIsS0FBSyxFQUFFLEVBQUU7WUFDVCxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUM7WUFDWixLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDZCxLQUFLLEVBQUUsRUFBRTtZQUNULEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7U0FDaEI7UUFDRCxLQUFLO1FBQ0wsTUFBTTtLQUNQLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLy8gVEhJUyBDT0RFIElTIEdFTkVSQVRFRCAtIERPIE5PVCBNT0RJRllcbi8vIFNlZSBhbmd1bGFyL3Rvb2xzL2d1bHAtdGFza3MvY2xkci9leHRyYWN0LmpzXG5cbmNvbnN0IHUgPSB1bmRlZmluZWQ7XG5cbmZ1bmN0aW9uIHBsdXJhbChuOiBudW1iZXIpOiBudW1iZXIge1xuICBsZXQgaSA9IE1hdGguZmxvb3IoTWF0aC5hYnMobikpLCB2ID0gbi50b1N0cmluZygpLnJlcGxhY2UoL15bXi5dKlxcLj8vLCAnJykubGVuZ3RoO1xuICBpZiAoaSA9PT0gMSAmJiB2ID09PSAwKSByZXR1cm4gMTtcbiAgcmV0dXJuIDU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFtcbiAgJ2RlJyxcbiAgW1snQU0nLCAnUE0nXSwgdSwgdV0sXG4gIHUsXG4gIFtcbiAgICBbJ1MnLCAnTScsICdEJywgJ00nLCAnRCcsICdGJywgJ1MnXSwgWydTby4nLCAnTW8uJywgJ0RpLicsICdNaS4nLCAnRG8uJywgJ0ZyLicsICdTYS4nXSxcbiAgICBbJ1Nvbm50YWcnLCAnTW9udGFnJywgJ0RpZW5zdGFnJywgJ01pdHR3b2NoJywgJ0Rvbm5lcnN0YWcnLCAnRnJlaXRhZycsICdTYW1zdGFnJ10sXG4gICAgWydTby4nLCAnTW8uJywgJ0RpLicsICdNaS4nLCAnRG8uJywgJ0ZyLicsICdTYS4nXVxuICBdLFxuICBbXG4gICAgWydTJywgJ00nLCAnRCcsICdNJywgJ0QnLCAnRicsICdTJ10sIFsnU28nLCAnTW8nLCAnRGknLCAnTWknLCAnRG8nLCAnRnInLCAnU2EnXSxcbiAgICBbJ1Nvbm50YWcnLCAnTW9udGFnJywgJ0RpZW5zdGFnJywgJ01pdHR3b2NoJywgJ0Rvbm5lcnN0YWcnLCAnRnJlaXRhZycsICdTYW1zdGFnJ10sXG4gICAgWydTby4nLCAnTW8uJywgJ0RpLicsICdNaS4nLCAnRG8uJywgJ0ZyLicsICdTYS4nXVxuICBdLFxuICBbXG4gICAgWydKJywgJ0YnLCAnTScsICdBJywgJ00nLCAnSicsICdKJywgJ0EnLCAnUycsICdPJywgJ04nLCAnRCddLFxuICAgIFtcbiAgICAgICdKYW4uJywgJ0ZlYi4nLCAnTcOkcnonLCAnQXByLicsICdNYWknLCAnSnVuaScsICdKdWxpJywgJ0F1Zy4nLCAnU2VwdC4nLCAnT2t0LicsICdOb3YuJywgJ0Rlei4nXG4gICAgXSxcbiAgICBbXG4gICAgICAnSmFudWFyJywgJ0ZlYnJ1YXInLCAnTcOkcnonLCAnQXByaWwnLCAnTWFpJywgJ0p1bmknLCAnSnVsaScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09rdG9iZXInLFxuICAgICAgJ05vdmVtYmVyJywgJ0RlemVtYmVyJ1xuICAgIF1cbiAgXSxcbiAgW1xuICAgIFsnSicsICdGJywgJ00nLCAnQScsICdNJywgJ0onLCAnSicsICdBJywgJ1MnLCAnTycsICdOJywgJ0QnXSxcbiAgICBbJ0phbicsICdGZWInLCAnTcOkcicsICdBcHInLCAnTWFpJywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPa3QnLCAnTm92JywgJ0RleiddLFxuICAgIFtcbiAgICAgICdKYW51YXInLCAnRmVicnVhcicsICdNw6RyeicsICdBcHJpbCcsICdNYWknLCAnSnVuaScsICdKdWxpJywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2t0b2JlcicsXG4gICAgICAnTm92ZW1iZXInLCAnRGV6ZW1iZXInXG4gICAgXVxuICBdLFxuICBbWyd2LiBDaHIuJywgJ24uIENoci4nXSwgdSwgdV0sXG4gIDEsXG4gIFs2LCAwXSxcbiAgWydkZC5NTS55eScsICdkZC5NTS55JywgJ2QuIE1NTU0geScsICdFRUVFLCBkLiBNTU1NIHknXSxcbiAgWydISDptbScsICdISDptbTpzcycsICdISDptbTpzcyB6JywgJ0hIOm1tOnNzIHp6enonXSxcbiAgWyd7MX0sIHswfScsIHUsICd7MX0gXFwndW1cXCcgezB9JywgdV0sXG4gIFsnLCcsICcuJywgJzsnLCAnJScsICcrJywgJy0nLCAnRScsICfCtycsICfigLAnLCAn4oieJywgJ05hTicsICc6J10sXG4gIFsnIywjIzAuIyMjJywgJyMsIyMwwqAlJywgJyMsIyMwLjAwwqDCpCcsICcjRTAnXSxcbiAgJ0VVUicsXG4gICfigqwnLFxuICAnRXVybycsXG4gIHtcbiAgICAnQVRTJzogWyfDtlMnXSxcbiAgICAnQVVEJzogWydBVSQnLCAnJCddLFxuICAgICdCR00nOiBbJ0JHSyddLFxuICAgICdCR08nOiBbJ0JHSiddLFxuICAgICdDVUMnOiBbdSwgJ0N1YiQnXSxcbiAgICAnREVNJzogWydETSddLFxuICAgICdGS1AnOiBbdSwgJ0ZswqMnXSxcbiAgICAnR05GJzogW3UsICdGLkcuJ10sXG4gICAgJ0tNRic6IFt1LCAnRkMnXSxcbiAgICAnUk9OJzogW3UsICdMJ10sXG4gICAgJ1JXRic6IFt1LCAnRi5SdyddLFxuICAgICdTWVAnOiBbXSxcbiAgICAnVEhCJzogWyfguL8nXSxcbiAgICAnVFdEJzogWydOVCQnXSxcbiAgICAnWFhYJzogW10sXG4gICAgJ1pNVyc6IFt1LCAnSyddXG4gIH0sXG4gICdsdHInLFxuICBwbHVyYWxcbl07XG4iXX0=","// tslint:disable:no-magic-numbers\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    EventEmitter,\n    Input,\n    Output,\n    ViewEncapsulation,\n    NgZone,\n    OnChanges,\n    SimpleChanges\n} from '@angular/core';\nimport { take } from 'rxjs/operators';\n\n\n/**\n * Extra CSS classes that can be associated with a calendar cell.\n */\nexport type McCalendarCellCssClasses = string | string[] | Set<string> | { [key: string]: any };\n\n/**\n * An internal class that represents the data corresponding to a single calendar cell.\n * @docs-private\n */\nexport class McCalendarCell {\n    constructor(\n        public value: number,\n        public displayValue: string,\n        public ariaLabel: string,\n        public enabled: boolean,\n        public cssClasses?: McCalendarCellCssClasses\n    ) {}\n}\n\n\n/**\n * An internal component used to display calendar data in a table.\n * @docs-private\n */\n@Component({\n    selector: '[mc-calendar-body]',\n    exportAs: 'mcCalendarBody',\n    templateUrl: 'calendar-body.html',\n    styleUrls: ['calendar-body.scss'],\n    host: {\n        class: 'mc-calendar__body',\n        role: 'grid',\n        'aria-readonly': 'true'\n    },\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McCalendarBody implements OnChanges {\n    /** The label for the table. (e.g. \"Jan 2017\"). */\n    @Input() label: string;\n\n    /** The cells to display in the table. */\n    @Input() rows: McCalendarCell[][];\n\n    /** The value in the table that corresponds to today. */\n    @Input() todayValue: number;\n\n    /** The value in the table that is currently selected. */\n    @Input() selectedValue: number;\n\n    /** The minimum number of free cells needed to fit the label in the first row. */\n    @Input() labelMinRequiredCells: number;\n\n    /** The number of columns in the table. */\n    @Input() numCols = 7;\n\n    /** The cell number of the active cell in the table. */\n    @Input() activeCell = 0;\n\n    /**\n     * The aspect ratio (width / height) to use for the cells in the table. This aspect ratio will be\n     * maintained even as the table resizes.\n     */\n    @Input() cellAspectRatio = 1;\n\n    /** Emits when a new value is selected. */\n    @Output() readonly selectedValueChange: EventEmitter<number> = new EventEmitter<number>();\n\n    /** The number of blank cells to put at the beginning for the first row. */\n    firstRowOffset: number;\n\n    /** Padding for the individual date cells. */\n    cellPadding: string;\n\n    /** Width of an individual cell. */\n    cellWidth: string;\n\n    constructor(private readonly elementRef: ElementRef<HTMLElement>, private readonly ngZone: NgZone) {}\n\n    cellClicked(cell: McCalendarCell): void {\n        if (cell.enabled) {\n            this.selectedValueChange.emit(cell.value);\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const columnChanges = changes.numCols;\n        // tslint:disable-next-line:no-this-assignment\n        const { rows, numCols } = this;\n\n        if (changes.rows || columnChanges) {\n            this.firstRowOffset = rows && rows.length && rows[0].length ? numCols - rows[0].length : 0;\n        }\n\n        if (changes.cellAspectRatio || columnChanges || !this.cellPadding) {\n            this.cellPadding = `${this.cellAspectRatio * 50 / numCols}%`;\n        }\n\n        if (columnChanges || !this.cellWidth) {\n            this.cellWidth = `${100 / numCols}%`;\n        }\n    }\n\n    isActiveCell(rowIndex: number, colIndex: number): boolean {\n        let cellNumber = rowIndex * this.numCols + colIndex;\n\n        // Account for the fact that the first row may not have as many cells.\n        if (rowIndex) {\n            cellNumber -= this.firstRowOffset;\n        }\n\n        return cellNumber === this.activeCell;\n    }\n\n    /** Focuses the active cell after the microtask queue is empty. */\n    focusActiveCell() {\n        this.ngZone.runOutsideAngular(() => {\n            this.ngZone.onStable.asObservable().pipe(take(1)).subscribe(() => {\n                const activeCell: HTMLElement | null =\n                    this.elementRef.nativeElement.querySelector('.mc-calendar__body_active');\n\n                if (activeCell) {\n                    activeCell.focus();\n                }\n            });\n        });\n    }\n}\n","/** @docs-private */\nexport function createMissingDateImplError(provider: string) {\n    return Error(\n        `McDatepicker: No provider found for ${provider}. You must import one of the existing ` +\n        `modules at your application root or provide a custom implementation or use exists ones.`);\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n\n/** Datepicker data that requires internationalization. */\n@Injectable({ providedIn: 'root' })\nexport class McDatepickerIntl {\n    /**\n     * Stream that emits whenever the labels here are changed. Use this to notify\n     * components if the labels have changed after initialization.\n     */\n    readonly changes: Subject<void> = new Subject<void>();\n\n    /** A label for the calendar popup (used by screen readers). */\n    calendarLabel: string = 'Calendar';\n\n    /** A label for the button used to open the calendar popup (used by screen readers). */\n    openCalendarLabel: string = 'Open calendar';\n\n    /** A label for the previous month button (used by screen readers). */\n    prevMonthLabel: string = 'Previous month';\n\n    /** A label for the next month button (used by screen readers). */\n    nextMonthLabel: string = 'Next month';\n\n    /** A label for the previous year button (used by screen readers). */\n    prevYearLabel: string = 'Previous year';\n\n    /** A label for the next year button (used by screen readers). */\n    nextYearLabel: string = 'Next year';\n\n    /** A label for the previous multi-year button (used by screen readers). */\n    prevMultiYearLabel: string = 'Previous 20 years';\n\n    /** A label for the next multi-year button (used by screen readers). */\n    nextMultiYearLabel: string = 'Next 20 years';\n\n    /** A label for the 'switch to month view' button (used by screen readers). */\n    switchToMonthViewLabel: string = 'Choose date';\n\n    /** A label for the 'switch to year view' button (used by screen readers). */\n    switchToMultiYearViewLabel: string = 'Choose month and year';\n}\n","// tslint:disable:no-magic-numbers\nimport { Directionality } from '@angular/cdk/bidi';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    Inject,\n    Input,\n    Optional,\n    Output,\n    ViewEncapsulation,\n    ViewChild\n} from '@angular/core';\nimport { DateAdapter, MC_DATE_FORMATS, McDateFormats } from '@ptsecurity/cdk/datetime';\nimport {\n    DOWN_ARROW,\n    END,\n    ENTER,\n    HOME,\n    LEFT_ARROW,\n    PAGE_DOWN,\n    PAGE_UP,\n    RIGHT_ARROW,\n    UP_ARROW,\n    SPACE\n} from '@ptsecurity/cdk/keycodes';\n\nimport { McCalendarBody, McCalendarCell, McCalendarCellCssClasses } from './calendar-body.component';\nimport { createMissingDateImplError } from './datepicker-errors';\n\n\nconst DAYS_PER_WEEK = 7;\n\n\n/**\n * An internal component used to display a single month in the datepicker.\n * @docs-private\n */\n@Component({\n    selector: 'mc-month-view',\n    exportAs: 'mcMonthView',\n    templateUrl: 'month-view.html',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McMonthView<D> implements AfterContentInit {\n    /**\n     * The date to display in this month view (everything other than the month and year is ignored).\n     */\n    @Input()\n    get activeDate(): D {\n        return this._activeDate;\n    }\n\n    set activeDate(value: D) {\n        const oldActiveDate = this._activeDate;\n        const validDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value)) || this.dateAdapter.today();\n        this._activeDate = this.dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n\n        if (!this.hasSameMonthAndYear(oldActiveDate, this._activeDate)) {\n            this.init();\n        }\n    }\n\n    /** The currently selected date. */\n    @Input()\n    get selected(): D | null {\n        return this._selected;\n    }\n\n    set selected(value: D | null) {\n        this._selected = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.selectedDate = this.getDateInCurrentMonth(this._selected);\n    }\n\n    /** The minimum selectable date. */\n    @Input()\n    get minDate(): D | null {\n        return this._minDate;\n    }\n\n    set minDate(value: D | null) {\n        this._minDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The maximum selectable date. */\n    @Input()\n    get maxDate(): D | null {\n        return this._maxDate;\n    }\n\n    set maxDate(value: D | null) {\n        this._maxDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** Function used to filter which dates are selectable. */\n    @Input() dateFilter: (date: D) => boolean;\n\n    /** Function that can be used to add custom CSS classes to dates. */\n    @Input() dateClass: (date: D) => McCalendarCellCssClasses;\n\n    /** Emits when a new date is selected. */\n    @Output() readonly selectedChange: EventEmitter<D | null> = new EventEmitter<D | null>();\n\n    /** Emits when any date is selected. */\n    @Output() readonly userSelection: EventEmitter<void> = new EventEmitter<void>();\n\n    /** Emits when any date is activated. */\n    @Output() readonly activeDateChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** The body of calendar table */\n    @ViewChild(McCalendarBody, {static: false}) mcCalendarBody: McCalendarBody;\n\n    /** The label for this month (e.g. \"January 2017\"). */\n    monthLabel: string;\n\n    /** Grid of calendar cells representing the dates of the month. */\n    weeks: McCalendarCell[][];\n\n    /** The number of blank cells in the first row before the 1st of the month. */\n    firstWeekOffset: number;\n\n    /**\n     * The date of the month that the currently selected Date falls on.\n     * Null if the currently selected Date is in another month.\n     */\n    selectedDate: number | null;\n\n    /** The date of the month that today falls on. Null if today is in another month. */\n    todayDate: number | null;\n\n    /** The names of the weekdays. */\n    weekdays: { long: string; narrow: string }[];\n    private _activeDate: D;\n    private _selected: D | null;\n    private _minDate: D | null;\n    private _maxDate: D | null;\n\n    constructor(\n        private changeDetectorRef: ChangeDetectorRef,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats,\n        @Optional() public dateAdapter: DateAdapter<D>,\n        @Optional() private dir?: Directionality\n    ) {\n\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        if (!this.dateFormats) {\n            throw createMissingDateImplError('MC_DATE_FORMATS');\n        }\n\n        const firstDayOfWeek = this.dateAdapter.getFirstDayOfWeek();\n        const narrowWeekdays = this.dateAdapter.getDayOfWeekNames('short');\n        const longWeekdays = this.dateAdapter.getDayOfWeekNames('long');\n\n        // Rotate the labels for days of the week based on the configured first day of the week.\n        const weekdays = longWeekdays.map((long, i) => {\n            return { long, narrow: narrowWeekdays[i] };\n        });\n        this.weekdays = weekdays\n            .slice(firstDayOfWeek)\n            .concat(weekdays.slice(0, firstDayOfWeek));\n\n        this._activeDate = this.dateAdapter.today();\n    }\n\n    ngAfterContentInit() {\n        this.init();\n    }\n\n    /** Handles when a new date is selected. */\n    dateSelected(date: number) {\n        if (this.selectedDate !== date) {\n            const selectedYear = this.dateAdapter.getYear(this.activeDate);\n            const selectedMonth = this.dateAdapter.getMonth(this.activeDate);\n            const selectedDate = this.dateAdapter.createDate(selectedYear, selectedMonth, date);\n\n            this.selectedChange.emit(selectedDate);\n        }\n\n        this.userSelection.emit();\n    }\n\n    /** Handles keydown events on the calendar body when calendar is in month view. */\n    handleCalendarBodyKeydown(event: KeyboardEvent): void {\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n\n        const oldActiveDate = this._activeDate;\n        const isRtl = this.isRtl();\n\n        // tslint:disable-next-line:deprecation\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarDays(this._activeDate, isRtl ? 1 : -1);\n                break;\n            case RIGHT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarDays(this._activeDate, isRtl ? -1 : 1);\n                break;\n            case UP_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarDays(this._activeDate, -7);\n                break;\n            case DOWN_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarDays(this._activeDate, 7);\n                break;\n            case HOME:\n                this.activeDate = this.dateAdapter.addCalendarDays(\n                    this._activeDate,\n                    1 - this.dateAdapter.getDate(this._activeDate)\n                );\n                break;\n            case END:\n                this.activeDate = this.dateAdapter.addCalendarDays(\n                    this._activeDate,\n                    (this.dateAdapter.getNumDaysInMonth(this._activeDate) - this.dateAdapter.getDate(this._activeDate))\n                );\n                break;\n            case PAGE_UP:\n                this.activeDate = event.altKey ?\n                    this.dateAdapter.addCalendarYears(this._activeDate, -1) :\n                    this.dateAdapter.addCalendarMonths(this._activeDate, -1);\n                break;\n            case PAGE_DOWN:\n                this.activeDate = event.altKey ?\n                    this.dateAdapter.addCalendarYears(this._activeDate, 1) :\n                    this.dateAdapter.addCalendarMonths(this._activeDate, 1);\n                break;\n            case ENTER:\n            case SPACE:\n                if (!this.dateFilter || this.dateFilter(this._activeDate)) {\n                    this.dateSelected(this.dateAdapter.getDate(this._activeDate));\n                    this.userSelection.emit();\n                    // Prevent unexpected default actions such as form submission.\n                    event.preventDefault();\n                }\n\n                return;\n            default:\n                // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n                return;\n        }\n\n        if (this.dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n            this.activeDateChange.emit(this.activeDate);\n        }\n\n        this.focusActiveCell();\n        // Prevent unexpected default actions such as form submission.\n        event.preventDefault();\n    }\n\n    /** Initializes this month view. */\n    init() {\n        this.selectedDate = this.getDateInCurrentMonth(this.selected);\n        this.todayDate = this.getDateInCurrentMonth(this.dateAdapter.today());\n        this.monthLabel = this.dateAdapter.getMonthNames('short')[this.dateAdapter.getMonth(this.activeDate)];\n\n        this.monthLabel = this.monthLabel[0].toLocaleUpperCase() + this.monthLabel.substr(1);\n\n        const firstOfMonth = this.dateAdapter.createDate(\n            this.dateAdapter.getYear(this.activeDate),\n            this.dateAdapter.getMonth(this.activeDate)\n        );\n\n        this.firstWeekOffset =\n            (DAYS_PER_WEEK + this.dateAdapter.getDayOfWeek(firstOfMonth) -\n                this.dateAdapter.getFirstDayOfWeek()) % DAYS_PER_WEEK;\n\n        this.createWeekCells();\n        this.changeDetectorRef.markForCheck();\n    }\n\n    /** Focuses the active cell after the microtask queue is empty. */\n    focusActiveCell() {\n        this.mcCalendarBody.focusActiveCell();\n    }\n\n    /** Creates McCalendarCells for the dates in this month. */\n    private createWeekCells() {\n        const daysInMonth = this.dateAdapter.getNumDaysInMonth(this.activeDate);\n        const dateNames = this.dateAdapter.getDateNames();\n\n        this.weeks = [[]];\n\n        for (let i = 0, cell = this.firstWeekOffset; i < daysInMonth; i++, cell++) {\n            if (cell === DAYS_PER_WEEK) {\n                this.weeks.push([]);\n                cell = 0;\n            }\n\n            const date = this.dateAdapter.createDate(\n                this.dateAdapter.getYear(this.activeDate),\n                this.dateAdapter.getMonth(this.activeDate),\n                i + 1\n            );\n            const enabled = this.shouldEnableDate(date);\n            const ariaLabel = this.dateAdapter.format(date, this.dateFormats.dateA11yLabel);\n            const cellClasses = this.dateClass ? this.dateClass(date) : undefined;\n\n            this.weeks[this.weeks.length - 1]\n                .push(new McCalendarCell(i + 1, dateNames[i], ariaLabel, enabled, cellClasses));\n        }\n    }\n\n    /** Date filter for the month */\n    private shouldEnableDate(date: D): boolean {\n        return !!date &&\n            (!this.dateFilter || this.dateFilter(date)) &&\n            (!this.minDate || this.dateAdapter.compareDate(date, this.minDate) >= 0) &&\n            (!this.maxDate || this.dateAdapter.compareDate(date, this.maxDate) <= 0);\n    }\n\n    /**\n     * Gets the date in this month that the given Date falls on.\n     * Returns null if the given Date is in another month.\n     */\n    private getDateInCurrentMonth(date: D | null): number | null {\n        return date && this.hasSameMonthAndYear(date, this.activeDate) ?\n            this.dateAdapter.getDate(date) : null;\n    }\n\n    /** Checks whether the 2 dates are non-null and fall within the same month of the same year. */\n    private hasSameMonthAndYear(d1: D | null, d2: D | null): boolean {\n        return !!(d1 && d2 && this.dateAdapter.getMonth(d1) === this.dateAdapter.getMonth(d2) &&\n            this.dateAdapter.getYear(d1) === this.dateAdapter.getYear(d2));\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    /** Determines whether the user has the RTL layout direction. */\n    private isRtl() {\n        return this.dir && this.dir.value === 'rtl';\n    }\n}\n","// tslint:disable:no-magic-numbers\nimport { Directionality } from '@angular/cdk/bidi';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    Input,\n    Optional,\n    Output,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { DateAdapter } from '@ptsecurity/cdk/datetime';\nimport {\n    DOWN_ARROW,\n    END,\n    ENTER,\n    HOME,\n    LEFT_ARROW,\n    PAGE_DOWN,\n    PAGE_UP,\n    RIGHT_ARROW,\n    UP_ARROW,\n    SPACE\n} from '@ptsecurity/cdk/keycodes';\n\nimport { McCalendarBody, McCalendarCell } from './calendar-body.component';\nimport { createMissingDateImplError } from './datepicker-errors';\n\n\nexport const yearsPerPage = 24;\n\nexport const yearsPerRow = 4;\n\n\n/**\n * An internal component used to display a year selector in the datepicker.\n * @docs-private\n */\n@Component({\n    selector: 'mc-multi-year-view',\n    exportAs: 'mcMultiYearView',\n    templateUrl: 'multi-year-view.html',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McMultiYearView<D> implements AfterContentInit {\n    /** The date to display in this multi-year view (everything other than the year is ignored). */\n    @Input()\n    get activeDate(): D {\n        return this._activeDate;\n    }\n\n    set activeDate(value: D) {\n        const oldActiveDate = this._activeDate;\n        const validDate =\n            this.getValidDateOrNull(this.dateAdapter.deserialize(value)) || this.dateAdapter.today();\n        this._activeDate = this.dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n\n        if (Math.floor(this.dateAdapter.getYear(oldActiveDate) / yearsPerPage) !==\n            Math.floor(this.dateAdapter.getYear(this._activeDate) / yearsPerPage)) {\n            this.init();\n        }\n    }\n\n    /** The currently selected date. */\n    @Input()\n    get selected(): D | null {\n        return this._selected;\n    }\n\n    set selected(value: D | null) {\n        this._selected = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.selectedYear = this._selected && this.dateAdapter.getYear(this._selected);\n    }\n\n    /** The minimum selectable date. */\n    @Input()\n    get minDate(): D | null {\n        return this._minDate;\n    }\n\n    set minDate(value: D | null) {\n        this._minDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The maximum selectable date. */\n    @Input()\n    get maxDate(): D | null {\n        return this._maxDate;\n    }\n\n    set maxDate(value: D | null) {\n        this._maxDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** A function used to filter which dates are selectable. */\n    @Input() dateFilter: (date: D) => boolean;\n\n    /** Emits when a new year is selected. */\n    @Output() readonly selectedChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits the selected year. This doesn't imply a change on the selected date */\n    @Output() readonly yearSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits when any date is activated. */\n    @Output() readonly activeDateChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** The body of calendar table */\n    @ViewChild(McCalendarBody, {static: false}) mcCalendarBody: McCalendarBody;\n\n    /** Grid of calendar cells representing the currently displayed years. */\n    years: McCalendarCell[][];\n\n    /** The year that today falls on. */\n    todayYear: number;\n\n    /** The year of the selected date. Null if the selected date is null. */\n    selectedYear: number | null;\n    private _activeDate: D;\n    private _selected: D | null;\n    private _minDate: D | null;\n    private _maxDate: D | null;\n\n    constructor(\n        private readonly changeDetectorRef: ChangeDetectorRef,\n        @Optional() public dateAdapter: DateAdapter<D>,\n        @Optional() private dir?: Directionality\n    ) {\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        this._activeDate = this.dateAdapter.today();\n    }\n\n    ngAfterContentInit() {\n        this.init();\n    }\n\n    /** Initializes this multi-year view. */\n    init() {\n        this.todayYear = this.dateAdapter.getYear(this.dateAdapter.today());\n        const activeYear = this.dateAdapter.getYear(this._activeDate);\n        const activeOffset = activeYear % yearsPerPage;\n        this.years = [];\n        for (let i = 0, row: number[] = []; i < yearsPerPage; i++) {\n            row.push(activeYear - activeOffset + i);\n            if (row.length === yearsPerRow) {\n                this.years.push(row.map((year) => this.createCellForYear(year)));\n                row = [];\n            }\n        }\n        this.changeDetectorRef.markForCheck();\n    }\n\n    /** Handles when a new year is selected. */\n    onYearSelected(year: number) {\n        this.yearSelected.emit(this.dateAdapter.createDate(year));\n        const month = this.dateAdapter.getMonth(this.activeDate);\n        const daysInMonth =\n            this.dateAdapter.getNumDaysInMonth(this.dateAdapter.createDate(year, month));\n        this.selectedChange.emit(\n            this.dateAdapter.createDate(year, month, Math.min(this.dateAdapter.getDate(this.activeDate), daysInMonth))\n        );\n    }\n\n    /** Handles keydown events on the calendar body when calendar is in multi-year view. */\n    handleCalendarBodyKeydown(event: KeyboardEvent): void {\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n\n        const oldActiveDate = this._activeDate;\n        const isRtl = this.isRtl();\n\n        // tslint:disable-next-line:deprecation\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarYears(this._activeDate, isRtl ? 1 : -1);\n                break;\n            case RIGHT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarYears(this._activeDate, isRtl ? -1 : 1);\n                break;\n            case UP_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarYears(this._activeDate, -yearsPerRow);\n                break;\n            case DOWN_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarYears(this._activeDate, yearsPerRow);\n                break;\n            case HOME:\n                this.activeDate = this.dateAdapter.addCalendarYears(\n                    this._activeDate,\n                    -this.dateAdapter.getYear(this._activeDate) % yearsPerPage\n                );\n                break;\n            case END:\n                this.activeDate = this.dateAdapter.addCalendarYears(\n                    this._activeDate,\n                    yearsPerPage - this.dateAdapter.getYear(this._activeDate) % yearsPerPage - 1\n                );\n                break;\n            case PAGE_UP:\n                this.activeDate =\n                    this.dateAdapter.addCalendarYears(\n                        this._activeDate, event.altKey ? -yearsPerPage * 10 : -yearsPerPage);\n                break;\n            case PAGE_DOWN:\n                this.activeDate =\n                    this.dateAdapter.addCalendarYears(\n                        this._activeDate, event.altKey ? yearsPerPage * 10 : yearsPerPage);\n                break;\n            case ENTER:\n            case SPACE:\n                this.onYearSelected(this.dateAdapter.getYear(this._activeDate));\n                break;\n            default:\n                // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n                return;\n        }\n\n        if (this.dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n            this.activeDateChange.emit(this.activeDate);\n        }\n\n        this.focusActiveCell();\n        // Prevent unexpected default actions such as form submission.\n        event.preventDefault();\n    }\n\n    getActiveCell(): number {\n        return this.dateAdapter.getYear(this.activeDate) % yearsPerPage;\n    }\n\n    /** Focuses the active cell after the microtask queue is empty. */\n    focusActiveCell() {\n        this.mcCalendarBody.focusActiveCell();\n    }\n\n    /** Creates an McCalendarCell for the given year. */\n    private createCellForYear(year: number) {\n        const yearName = this.dateAdapter.getYearName(this.dateAdapter.createDate(year));\n\n        return new McCalendarCell(year, yearName, yearName, this.shouldEnableYear(year));\n    }\n\n    /** Whether the given year is enabled. */\n    private shouldEnableYear(year: number) {\n        // disable if the year is greater than maxDate lower than minDate\n        if (year === undefined || year === null ||\n            (this.maxDate && year > this.dateAdapter.getYear(this.maxDate)) ||\n            (this.minDate && year < this.dateAdapter.getYear(this.minDate))) {\n            return false;\n        }\n\n        // enable if it reaches here and there's no filter defined\n        if (!this.dateFilter) {\n            return true;\n        }\n\n        const firstOfYear = this.dateAdapter.createDate(year);\n\n        // If any date in the year is enabled count the year as enabled.\n        for (let date = firstOfYear; this.dateAdapter.getYear(date) === year;\n             date = this.dateAdapter.addCalendarDays(date, 1)) {\n            if (this.dateFilter(date)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    /** Determines whether the user has the RTL layout direction. */\n    private isRtl() {\n        return this.dir && this.dir.value === 'rtl';\n    }\n}\n","import { Directionality } from '@angular/cdk/bidi';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    Inject,\n    Input,\n    Optional,\n    Output,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { DateAdapter, MC_DATE_FORMATS, McDateFormats } from '@ptsecurity/cdk/datetime';\nimport {\n    DOWN_ARROW,\n    END,\n    ENTER,\n    HOME,\n    LEFT_ARROW,\n    PAGE_DOWN,\n    PAGE_UP,\n    RIGHT_ARROW,\n    UP_ARROW,\n    SPACE\n} from '@ptsecurity/cdk/keycodes';\n\nimport { McCalendarBody, McCalendarCell } from './calendar-body.component';\nimport { createMissingDateImplError } from './datepicker-errors';\n\n\n/**\n * An internal component used to display a single year in the datepicker.\n * @docs-private\n */\n@Component({\n    selector: 'mc-year-view',\n    exportAs: 'mcYearView',\n    templateUrl: 'year-view.html',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McYearView<D> implements AfterContentInit {\n    /** The date to display in this year view (everything other than the year is ignored). */\n    @Input()\n    get activeDate(): D {\n        return this._activeDate;\n    }\n\n    set activeDate(value: D) {\n        const oldActiveDate = this._activeDate;\n        const validDate =\n            this.getValidDateOrNull(this.dateAdapter.deserialize(value)) || this.dateAdapter.today();\n        this._activeDate = this.dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n\n        if (this.dateAdapter.getYear(oldActiveDate) !== this.dateAdapter.getYear(this._activeDate)) {\n            this.init();\n        }\n    }\n\n    /** The currently selected date. */\n    @Input()\n    get selected(): D | null {\n        return this._selected;\n    }\n\n    set selected(value: D | null) {\n        this._selected = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.selectedMonth = this.getMonthInCurrentYear(this._selected);\n    }\n\n    /** The minimum selectable date. */\n    @Input()\n    get minDate(): D | null {\n        return this._minDate;\n    }\n\n    set minDate(value: D | null) {\n        this._minDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The maximum selectable date. */\n    @Input()\n    get maxDate(): D | null {\n        return this._maxDate;\n    }\n\n    set maxDate(value: D | null) {\n        this._maxDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** A function used to filter which dates are selectable. */\n    @Input() dateFilter: (date: D) => boolean;\n\n    /** Emits when a new month is selected. */\n    @Output() readonly selectedChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits the selected month. This doesn't imply a change on the selected date */\n    @Output() readonly monthSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits when any date is activated. */\n    @Output() readonly activeDateChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /** The body of calendar table */\n    @ViewChild(McCalendarBody, {static: false}) mcCalendarBody: McCalendarBody;\n\n    /** Grid of calendar cells representing the months of the year. */\n    months: McCalendarCell[][];\n\n    /** The label for this year (e.g. \"2017\"). */\n    yearLabel: string;\n\n    /** The month in this year that today falls on. Null if today is in a different year. */\n    todayMonth: number | null;\n\n    /**\n     * The month in this year that the selected Date falls on.\n     * Null if the selected Date is in a different year.\n     */\n    selectedMonth: number | null;\n    private _activeDate: D;\n    private _selected: D | null;\n    private _minDate: D | null;\n    private _maxDate: D | null;\n\n    constructor(\n        private changeDetectorRef: ChangeDetectorRef,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats,\n        @Optional() public dateAdapter: DateAdapter<D>,\n        @Optional() private dir?: Directionality\n    ) {\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        if (!this.dateFormats) {\n            throw createMissingDateImplError('MC_DATE_FORMATS');\n        }\n\n        this._activeDate = this.dateAdapter.today();\n    }\n\n    ngAfterContentInit() {\n        this.init();\n    }\n\n    /** Handles when a new month is selected. */\n    onMonthSelected(month: number) {\n        const year = this.dateAdapter.getYear(this.activeDate);\n\n        const normalizedDate = this.dateAdapter.createDate(year, month);\n\n        this.monthSelected.emit(normalizedDate);\n\n        const daysInMonth = this.dateAdapter.getNumDaysInMonth(normalizedDate);\n\n        this.selectedChange.emit(\n            this.dateAdapter.createDate(\n                year,\n                month,\n                Math.min(this.dateAdapter.getDate(this.activeDate), daysInMonth)\n            )\n        );\n    }\n\n    /** Handles keydown events on the calendar body when calendar is in year view. */\n    handleCalendarBodyKeydown(event: KeyboardEvent): void {\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n\n        const oldActiveDate = this._activeDate;\n        const isRtl = this.isRtl();\n\n        const VERTICAL_SHIFT = 4;\n        const PAGE_SHIFT = 10;\n        const MAX_MONTH_INDEX = 11;\n\n        // tslint:disable-next-line:deprecation\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarMonths(this._activeDate, isRtl ? 1 : -1);\n                break;\n            case RIGHT_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarMonths(this._activeDate, isRtl ? -1 : 1);\n                break;\n            case UP_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarMonths(this._activeDate, -VERTICAL_SHIFT);\n                break;\n            case DOWN_ARROW:\n                this.activeDate = this.dateAdapter.addCalendarMonths(this._activeDate, VERTICAL_SHIFT);\n                break;\n            case HOME:\n                this.activeDate = this.dateAdapter.addCalendarMonths(\n                    this._activeDate,\n                    -this.dateAdapter.getMonth(this._activeDate)\n                );\n                break;\n            case END:\n                this.activeDate = this.dateAdapter.addCalendarMonths(\n                    this._activeDate,\n                    MAX_MONTH_INDEX - this.dateAdapter.getMonth(this._activeDate)\n                );\n                break;\n            case PAGE_UP:\n                this.activeDate =\n                    this.dateAdapter.addCalendarYears(this._activeDate, event.altKey ? -PAGE_SHIFT : -1);\n                break;\n            case PAGE_DOWN:\n                this.activeDate =\n                    this.dateAdapter.addCalendarYears(this._activeDate, event.altKey ? PAGE_SHIFT : 1);\n                break;\n            case ENTER:\n            case SPACE:\n                this.onMonthSelected(this.dateAdapter.getMonth(this._activeDate));\n                break;\n            default:\n                // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n                return;\n        }\n\n        if (this.dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n            this.activeDateChange.emit(this.activeDate);\n        }\n\n        this.focusActiveCell();\n        // Prevent unexpected default actions such as form submission.\n        event.preventDefault();\n    }\n\n    /** Initializes this year view. */\n    init() {\n        this.selectedMonth = this.getMonthInCurrentYear(this.selected);\n        this.todayMonth = this.getMonthInCurrentYear(this.dateAdapter.today());\n        this.yearLabel = this.dateAdapter.getYearName(this.activeDate);\n\n        const monthNames = this.dateAdapter.getMonthNames('short');\n\n        // First row of months only contains 5 elements so we can fit the year label on the same row.\n        // tslint:disable-next-line:no-magic-numbers\n        this.months = [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]]\n            .map((row) => row.map((month) => this.createCellForMonth(month, monthNames[month])));\n\n        this.changeDetectorRef.markForCheck();\n    }\n\n    /** Focuses the active cell after the microtask queue is empty. */\n    focusActiveCell() {\n        this.mcCalendarBody.focusActiveCell();\n    }\n\n    /**\n     * Gets the month in this year that the given Date falls on.\n     * Returns null if the given Date is in another year.\n     */\n    private getMonthInCurrentYear(date: D | null) {\n        return date && this.dateAdapter.getYear(date) === this.dateAdapter.getYear(this.activeDate) ?\n            this.dateAdapter.getMonth(date) : null;\n    }\n\n    /** Creates an McCalendarCell for the given month. */\n    private createCellForMonth(month: number, monthName: string) {\n        const ariaLabel = this.dateAdapter.format(\n            this.dateAdapter.createDate(this.dateAdapter.getYear(this.activeDate), month),\n            this.dateFormats.monthYearA11yLabel\n        );\n\n        const newMonthName = monthName[0].toLocaleUpperCase() + monthName.substr(1);\n\n        return new McCalendarCell(\n            month, newMonthName, ariaLabel, this.shouldEnableMonth(month));\n    }\n\n    /** Whether the given month is enabled. */\n    private shouldEnableMonth(month: number) {\n\n        const activeYear = this.dateAdapter.getYear(this.activeDate);\n\n        if (month === undefined || month === null ||\n            this.isYearAndMonthAfterMaxDate(activeYear, month) ||\n            this.isYearAndMonthBeforeMinDate(activeYear, month)) {\n            return false;\n        }\n\n        if (!this.dateFilter) {\n            return true;\n        }\n\n        const firstOfMonth = this.dateAdapter.createDate(activeYear, month);\n\n        // If any date in the month is enabled count the month as enabled.\n        for (let date = firstOfMonth; this.dateAdapter.getMonth(date) === month;\n             date = this.dateAdapter.addCalendarDays(date, 1)) {\n            if (this.dateFilter(date)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Tests whether the combination month/year is after this.maxDate, considering\n     * just the month and year of this.maxDate\n     */\n    private isYearAndMonthAfterMaxDate(year: number, month: number) {\n        if (this.maxDate) {\n            const maxYear = this.dateAdapter.getYear(this.maxDate);\n            const maxMonth = this.dateAdapter.getMonth(this.maxDate);\n\n            return year > maxYear || (year === maxYear && month > maxMonth);\n        }\n\n        return false;\n    }\n\n    /**\n     * Tests whether the combination month/year is before this.minDate, considering\n     * just the month and year of this.minDate\n     */\n    private isYearAndMonthBeforeMinDate(year: number, month: number) {\n        if (this.minDate) {\n            const minYear = this.dateAdapter.getYear(this.minDate);\n            const minMonth = this.dateAdapter.getMonth(this.minDate);\n\n            return year < minYear || (year === minYear && month < minMonth);\n        }\n\n        return false;\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    /** Determines whether the user has the RTL layout direction. */\n    private isRtl() {\n        return this.dir && this.dir.value === 'rtl';\n    }\n}\n","import { ComponentPortal, ComponentType, Portal } from '@angular/cdk/portal';\nimport {\n    AfterContentInit,\n    AfterViewChecked,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    forwardRef,\n    Inject,\n    Input,\n    OnChanges,\n    OnDestroy,\n    Optional,\n    Output,\n    SimpleChanges,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { DateAdapter, MC_DATE_FORMATS, McDateFormats } from '@ptsecurity/cdk/datetime';\nimport { Subject, Subscription } from 'rxjs';\n\nimport { McCalendarCellCssClasses } from './calendar-body.component';\nimport { createMissingDateImplError } from './datepicker-errors';\nimport { McDatepickerIntl } from './datepicker-intl';\nimport { McMonthView } from './month-view.component';\nimport { McMultiYearView, yearsPerPage } from './multi-year-view.component';\nimport { McYearView } from './year-view.component';\n\n\n/**\n * Possible views for the calendar.\n * @docs-private\n */\nexport enum McCalendarView {\n    Month = 'month',\n    Year = 'year',\n    MultiYear = 'multi-year'\n}\n\n/** Default header for McCalendar */\n@Component({\n    selector: 'mc-calendar-header',\n    templateUrl: 'calendar-header.html',\n    exportAs: 'mcCalendarHeader',\n    host: {\n        class: 'mc-calendar-header'\n    },\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McCalendarHeader<D> {\n    constructor(\n        private readonly intl: McDatepickerIntl,\n        @Inject(forwardRef(() => McCalendar)) public calendar: McCalendar<D>,\n        @Optional() private readonly dateAdapter: DateAdapter<D>,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats,\n        changeDetectorRef: ChangeDetectorRef\n    ) {\n        this.calendar.stateChanges.subscribe(() => changeDetectorRef.markForCheck());\n    }\n\n    /** The label for the current calendar view. */\n    get periodButtonText(): string {\n        if (this.calendar.currentView === McCalendarView.Month) {\n            const label = this.dateAdapter.format(this.calendar.activeDate, this.dateFormats.monthYearLabel);\n\n            return (label[0].toLocaleUpperCase() + label.substr(1)).replace('.', '');\n        }\n\n        if (this.calendar.currentView === McCalendarView.Year) {\n            return this.dateAdapter.getYearName(this.calendar.activeDate);\n        }\n\n        const activeYear = this.dateAdapter.getYear(this.calendar.activeDate);\n        const firstYearInView = this.dateAdapter.getYearName(\n            // tslint:disable-next-line:no-magic-numbers\n            this.dateAdapter.createDate(activeYear - activeYear % 24)\n        );\n        const lastYearInView = this.dateAdapter.getYearName(\n            // tslint:disable-next-line:no-magic-numbers\n            this.dateAdapter.createDate(activeYear + yearsPerPage - 1 - activeYear % 24)\n        );\n\n        return `${firstYearInView} \\u2013 ${lastYearInView}`;\n    }\n\n    get periodButtonLabel(): string {\n        return this.calendar.currentView === McCalendarView.Month ?\n            this.intl.switchToMultiYearViewLabel : this.intl.switchToMonthViewLabel;\n    }\n\n    /** The label for the previous button. */\n    get prevButtonLabel(): string {\n        return {\n            [McCalendarView.Month]: this.intl.prevMonthLabel,\n            [McCalendarView.Year]: this.intl.prevYearLabel,\n            [McCalendarView.MultiYear]: this.intl.prevMultiYearLabel\n        }[this.calendar.currentView];\n    }\n\n    /** The label for the next button. */\n    get nextButtonLabel(): string {\n        return {\n            [McCalendarView.Month]: this.intl.nextMonthLabel,\n            [McCalendarView.Year]: this.intl.nextYearLabel,\n            [McCalendarView.MultiYear]: this.intl.nextMultiYearLabel\n        }[this.calendar.currentView];\n    }\n\n    /** Handles user clicks on the period label. */\n    currentPeriodClicked(): void {\n        if (([McCalendarView.Month, McCalendarView.MultiYear] as McCalendarView[]).includes(this.calendar.currentView)) {\n            this.calendar.currentView = McCalendarView.Year;\n        } else if (this.calendar.currentView === McCalendarView.Year) {\n            this.calendar.currentView = McCalendarView.Month;\n        }\n    }\n\n    /** Handles user clicks on the previous button. */\n    previousClicked(): void {\n        if (this.calendar.currentView === McCalendarView.Month) {\n            this.calendar.activeDate = this.dateAdapter.addCalendarMonths(this.calendar.activeDate, -1);\n        } else {\n            this.calendar.activeDate = this.dateAdapter.addCalendarYears(\n                this.calendar.activeDate,\n                this.calendar.currentView === McCalendarView.Year ? -1 : -yearsPerPage\n            );\n        }\n    }\n\n    /** Handles user clicks on the next button. */\n    nextClicked(): void {\n        if (this.calendar.currentView === McCalendarView.Month) {\n            this.calendar.activeDate = this.dateAdapter.addCalendarMonths(this.calendar.activeDate, 1);\n        } else {\n            this.calendar.activeDate = this.dateAdapter.addCalendarYears(\n                this.calendar.activeDate,\n                this.calendar.currentView === McCalendarView.Year ? 1 : yearsPerPage\n            );\n        }\n    }\n\n    /** Whether the previous period button is enabled. */\n    previousEnabled(): boolean {\n        if (!this.calendar.minDate) { return true; }\n\n        return !this.calendar.minDate || !this.isSameView(this.calendar.activeDate, this.calendar.minDate);\n    }\n\n    /** Whether the next period button is enabled. */\n    nextEnabled(): boolean {\n        return !this.calendar.maxDate || !this.isSameView(this.calendar.activeDate, this.calendar.maxDate);\n    }\n\n    /** Whether the two dates represent the same view in the current view mode (month or year). */\n    private isSameView(firstDate: D, secondDate: D): boolean {\n        const firstYear = this.dateAdapter.getYear(firstDate);\n        const secondYear = this.dateAdapter.getYear(secondDate);\n\n        const firstMonth = this.dateAdapter.getMonth(firstDate);\n        const secondMonth = this.dateAdapter.getMonth(secondDate);\n\n        if (this.calendar.currentView === McCalendarView.Month) {\n            return firstYear === secondYear && firstMonth === secondMonth;\n        }\n\n        if (this.calendar.currentView === McCalendarView.Year) { return firstYear === secondYear; }\n\n        // Otherwise we are in 'multi-year' view.\n        return Math.floor(firstYear / yearsPerPage) === Math.floor(secondYear / yearsPerPage);\n    }\n}\n\n/**\n * A calendar that is used as part of the datepicker.\n * @docs-private\n */\n@Component({\n    selector: 'mc-calendar',\n    exportAs: 'mcCalendar',\n    templateUrl: 'calendar.html',\n    styleUrls: ['calendar.scss'],\n    host: {\n        class: 'mc-calendar'\n    },\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McCalendar<D> implements AfterContentInit, AfterViewChecked, OnDestroy, OnChanges {\n\n    /** A date representing the period (month or year) to start the calendar in. */\n    @Input()\n    get startAt(): D | null {\n        return this._startAt;\n    }\n\n    set startAt(value: D | null) {\n        this._startAt = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The currently selected date. */\n    @Input()\n    get selected(): D | null {\n        return this._selected;\n    }\n\n    set selected(value: D | null) {\n        this._selected = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The minimum selectable date. */\n    @Input()\n    get minDate(): D | null {\n        return this._minDate;\n    }\n\n    set minDate(value: D | null) {\n        this._minDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /** The maximum selectable date. */\n    @Input()\n    get maxDate(): D | null {\n        return this._maxDate;\n    }\n\n    set maxDate(value: D | null) {\n        this._maxDate = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    /**\n     * The current active date. This determines which time period is shown and which date is\n     * highlighted when using keyboard navigation.\n     */\n    get activeDate(): D {\n        return this.clampedActiveDate;\n    }\n\n    set activeDate(value: D) {\n        this.clampedActiveDate = this.dateAdapter.clampDate(value, this.minDate, this.maxDate);\n        this.stateChanges.next();\n    }\n\n    /** Whether the calendar is in month view. */\n    get currentView(): McCalendarView {\n        return this._currentView;\n    }\n\n    set currentView(value: McCalendarView) {\n        this._currentView = value;\n        this.moveFocusOnNextTick = true;\n    }\n\n    /** An input indicating the type of the header component, if set. */\n    @Input() headerComponent: ComponentType<any>;\n\n    /** A portal containing the header component type for this calendar. */\n    calendarHeaderPortal: Portal<any>;\n\n    /** Whether the calendar should be started in month or year view. */\n    @Input() startView: McCalendarView = McCalendarView.Month;\n\n    /** Function used to filter which dates are selectable. */\n    @Input() dateFilter: (date: D) => boolean;\n\n    /** Function that can be used to add custom CSS classes to dates. */\n    @Input() dateClass: (date: D) => McCalendarCellCssClasses;\n\n    /** Emits when the currently selected date changes. */\n    @Output() readonly selectedChange: EventEmitter<D> = new EventEmitter<D>();\n\n    /**\n     * Emits the year chosen in multiyear view.\n     * This doesn't imply a change on the selected date.\n     */\n    @Output() readonly yearSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /**\n     * Emits the month chosen in year view.\n     * This doesn't imply a change on the selected date.\n     */\n    @Output() readonly monthSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Emits when any date is selected. */\n    @Output() readonly userSelection: EventEmitter<void> = new EventEmitter<void>();\n\n    /** Reference to the current month view component. */\n    @ViewChild(McMonthView, {static: false}) monthView: McMonthView<D>;\n\n    /** Reference to the current year view component. */\n    @ViewChild(McYearView, {static: false}) yearView: McYearView<D>;\n\n    /** Reference to the current multi-year view component. */\n    @ViewChild(McMultiYearView, {static: false}) multiYearView: McMultiYearView<D>;\n\n    /**\n     * Emits whenever there is a state change that the header may need to respond to.\n     */\n    stateChanges = new Subject<void>();\n\n    private readonly intlChanges: Subscription;\n\n    /**\n     * Used for scheduling that focus should be moved to the active cell on the next tick.\n     * We need to schedule it, rather than do it immediately, because we have to wait\n     * for Angular to re-evaluate the view children.\n     */\n    private moveFocusOnNextTick = false;\n    private _startAt: D | null;\n    private _selected: D | null;\n    private _minDate: D | null;\n    private _maxDate: D | null;\n    private clampedActiveDate: D;\n    private _currentView: McCalendarView;\n\n    constructor(\n        intl: McDatepickerIntl,\n        @Optional() private readonly dateAdapter: DateAdapter<D>,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats,\n        private changeDetectorRef: ChangeDetectorRef\n    ) {\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        if (!this.dateFormats) {\n            throw createMissingDateImplError('MC_DATE_FORMATS');\n        }\n\n        this.intlChanges = intl.changes.subscribe(() => {\n            changeDetectorRef.markForCheck();\n            this.stateChanges.next();\n        });\n    }\n\n    ngAfterContentInit() {\n        this.calendarHeaderPortal = new ComponentPortal(this.headerComponent || McCalendarHeader);\n        this.activeDate = this.startAt || this.dateAdapter.today();\n\n        // Assign to the private property since we don't want to move focus on init.\n        this._currentView = this.startView;\n    }\n\n    ngAfterViewChecked() {\n        if (this.moveFocusOnNextTick) {\n            this.moveFocusOnNextTick = false;\n            this.focusActiveCell();\n        }\n    }\n\n    ngOnDestroy() {\n        this.intlChanges.unsubscribe();\n        this.stateChanges.complete();\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const change = changes.minDate || changes.maxDate || changes.dateFilter;\n\n        if (change && !change.firstChange) {\n            const view = this.getCurrentViewComponent();\n\n            if (view) {\n                // We need to `detectChanges` manually here, because the `minDate`, `maxDate` etc. are\n                // passed down to the view via data bindings which won't be up-to-date when we call `init`.\n                this.changeDetectorRef.detectChanges();\n                view.init();\n            }\n        }\n\n        this.stateChanges.next();\n    }\n\n    focusActiveCell() {\n        this.getCurrentViewComponent().focusActiveCell();\n    }\n\n    /** Updates today's date after an update of the active date */\n    updateTodaysDate() {\n        const view = this.currentView === McCalendarView.Month ? this.monthView :\n            (this.currentView === McCalendarView.Year ? this.yearView : this.multiYearView);\n\n        view.ngAfterContentInit();\n    }\n\n    /** Handles date selection in the month view. */\n    dateSelected(date: D): void {\n        if (!this.dateAdapter.sameDate(date, this.selected)) {\n            this.selectedChange.emit(date);\n        }\n    }\n\n    /** Handles year selection in the multiyear view. */\n    yearSelectedInMultiYearView(normalizedYear: D) {\n        this.yearSelected.emit(normalizedYear);\n    }\n\n    /** Handles month selection in the year view. */\n    monthSelectedInYearView(normalizedMonth: D) {\n        this.monthSelected.emit(normalizedMonth);\n    }\n\n    userSelected(): void {\n        this.userSelection.emit();\n    }\n\n    /** Handles year/month selection in the multi-year/year views. */\n    goToDateInView(date: D, view: McCalendarView | string): void {\n        this.activeDate = date;\n        this.currentView = view as McCalendarView;\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    /** Returns the component instance that corresponds to the current calendar view. */\n    private getCurrentViewComponent() {\n        return this.monthView || this.yearView || this.multiYearView;\n    }\n}\n","import {\n    animate,\n    state,\n    style,\n    transition,\n    trigger,\n    AnimationTriggerMetadata\n} from '@angular/animations';\n\n\n/**\n * Animations used by the mosaic datepicker.\n * @docs-private\n */\nexport const mcDatepickerAnimations: {\n    readonly transformPanel: AnimationTriggerMetadata;\n    readonly fadeInCalendar: AnimationTriggerMetadata;\n} = {\n    /** Transforms the height of the datepicker's calendar. */\n    transformPanel: trigger('transformPanel', [\n        state('void', style({\n            opacity: 0,\n            transform: 'scale(1, 0.8)'\n        })),\n        transition('void => enter', animate('120ms cubic-bezier(0, 0, 0.2, 1)', style({\n            opacity: 1,\n            transform: 'scale(1, 1)'\n        }))),\n        transition('* => void', animate('100ms linear', style({ opacity: 0 })))\n    ]),\n\n    /** Fades in the content of the calendar. */\n    fadeInCalendar: trigger('fadeInCalendar', [\n        state('void', style({ opacity: 0 })),\n        state('enter', style({ opacity: 1 })),\n\n        // need to keep it until #12440 gets in, otherwise the exit animation will look glitchy.\n        transition('void => *', animate('120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)'))\n    ])\n};\n\n// todo should be put into polyfils\n// https://github.com/angular/angular/issues/24769\nif (!Element.prototype.matches) {\n    Element.prototype.matches = (Element.prototype as any).msMatchesSelector;\n}\n","// tslint:disable:no-unbound-method\n// tslint:disable:no-magic-numbers\nimport { Directionality } from '@angular/cdk/bidi';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n    Overlay,\n    OverlayConfig,\n    OverlayRef,\n    PositionStrategy,\n    ScrollStrategy\n} from '@angular/cdk/overlay';\nimport { ComponentPortal, ComponentType } from '@angular/cdk/portal';\nimport { DOCUMENT } from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ComponentRef,\n    EventEmitter,\n    Inject,\n    InjectionToken,\n    Input,\n    NgZone,\n    OnDestroy,\n    Optional,\n    Output,\n    ViewChild,\n    ViewContainerRef,\n    ViewEncapsulation\n} from '@angular/core';\nimport { DateAdapter } from '@ptsecurity/cdk/datetime';\nimport { McFormFieldControl } from '@ptsecurity/mosaic/form-field';\nimport { merge, Subject, Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nimport { McCalendarCellCssClasses } from './calendar-body.component';\nimport { McCalendar, McCalendarView } from './calendar.component';\nimport { mcDatepickerAnimations } from './datepicker-animations';\nimport { createMissingDateImplError } from './datepicker-errors';\nimport { McDatepickerInput } from './datepicker-input.directive';\n\n\n/** Used to generate a unique ID for each datepicker instance. */\nlet datepickerUid = 0;\n\n/** Injection token that determines the scroll handling while the calendar is open. */\nexport const MC_DATEPICKER_SCROLL_STRATEGY =\n    new InjectionToken<() => ScrollStrategy>('mc-datepicker-scroll-strategy');\n\n/** @docs-private */\n// tslint:disable-next-line:naming-convention\nexport function MC_DATEPICKER_SCROLL_STRATEGY_FACTORY(overlay: Overlay): () => ScrollStrategy {\n    return () => overlay.scrollStrategies.reposition();\n}\n\n/** @docs-private */\nexport const MC_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER = {\n    provide: MC_DATEPICKER_SCROLL_STRATEGY,\n    deps: [Overlay],\n    useFactory: MC_DATEPICKER_SCROLL_STRATEGY_FACTORY\n};\n\n/**\n * Component used as the content for the datepicker dialog and popup. We use this instead of using\n * McCalendar directly as the content so we can control the initial focus. This also gives us a\n * place to put additional features of the popup that are not part of the calendar itself in the\n * future. (e.g. confirmation buttons).\n * @docs-private\n */\n@Component({\n    selector: 'mc-datepicker__content',\n    exportAs: 'mcDatepickerContent',\n    templateUrl: 'datepicker-content.html',\n    styleUrls: ['datepicker-content.scss'],\n    host: {\n        class: 'mc-datepicker__content',\n\n        '[@transformPanel]': 'animationState',\n        '(@transformPanel.done)': 'animationDone.next()'\n    },\n    animations: [\n        mcDatepickerAnimations.transformPanel,\n        mcDatepickerAnimations.fadeInCalendar\n    ],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McDatepickerContent<D> implements OnDestroy {\n    /** Emits when an animation has finished. */\n    readonly animationDone = new Subject<void>();\n\n    /** Reference to the datepicker that created the overlay. */\n    datepicker: McDatepicker<D>;\n\n    /** Current state of the animation. */\n    animationState: 'enter' | 'void';\n\n    /** Reference to the internal calendar component. */\n    @ViewChild(McCalendar) calendar: McCalendar<D>;\n\n    private subscriptions = new Subscription();\n\n    constructor(private changeDetectorRef: ChangeDetectorRef) {}\n\n    ngAfterViewInit() {\n        this.subscriptions.add(this.datepicker.stateChanges.subscribe(() => {\n            this.changeDetectorRef.markForCheck();\n        }));\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n        this.animationDone.complete();\n    }\n\n    startExitAnimation() {\n        this.animationState = 'void';\n        this.changeDetectorRef.markForCheck();\n    }\n}\n\n\n// TODO: We use a component instead of a directive here so the user can use implicit\n// template reference variables (e.g. #d vs #d=\"mcDatepicker\"). We can change this to a directive\n// if angular adds support for `exportAs: '$implicit'` on directives.\n/** Component responsible for managing the datepicker popup/dialog. */\n@Component({\n    selector: 'mc-datepicker',\n    template: '',\n    exportAs: 'mcDatepicker',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    providers: [{ provide: McFormFieldControl, useExisting: McDatepicker }]\n})\nexport class McDatepicker<D> implements OnDestroy {\n    @Input()\n    get hasBackdrop(): boolean {\n        return this._hasBackdrop;\n    }\n\n    set hasBackdrop(value: boolean) {\n        this._hasBackdrop = coerceBooleanProperty(value);\n    }\n\n    private _hasBackdrop: boolean = false;\n\n    /** The date to open the calendar to initially. */\n    @Input()\n    get startAt(): D | null {\n        // If an explicit startAt is set we start there, otherwise we start at whatever the currently\n        // selected value is.\n        return this._startAt || (this.datepickerInput ? this.datepickerInput.value : null);\n    }\n\n    set startAt(value: D | null) {\n        this._startAt = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n    }\n\n    private _startAt: D | null;\n\n    /** Whether the datepicker pop-up should be disabled. */\n    @Input()\n    get disabled(): boolean {\n        return this._disabled === undefined && this.datepickerInput ? this.datepickerInput.disabled : this._disabled;\n    }\n\n    set disabled(value: boolean) {\n        const newValue = coerceBooleanProperty(value);\n\n        if (newValue !== this._disabled) {\n            this._disabled = newValue;\n            this.disabledChange.next(newValue);\n        }\n    }\n\n    private _disabled: boolean;\n\n    /** Whether the calendar is open. */\n    @Input()\n    get opened(): boolean {\n        return this._opened;\n    }\n\n    set opened(value: boolean) {\n        coerceBooleanProperty(value) ? this.open() : this.close();\n    }\n\n    private _opened = false;\n\n    /** The currently selected date. */\n    get selected(): D | null {\n        return this.validSelected;\n    }\n\n    set selected(value: D | null) {\n        this.validSelected = value;\n    }\n\n    /** The minimum selectable date. */\n    get minDate(): D | null {\n        return this.datepickerInput && this.datepickerInput.min;\n    }\n\n    /** The maximum selectable date. */\n    get maxDate(): D | null {\n        return this.datepickerInput && this.datepickerInput.max;\n    }\n\n    get dateFilter(): (date: D | null) => boolean {\n        return this.datepickerInput && this.datepickerInput.dateFilter;\n    }\n\n    get value(): D | null {\n        return this.selected;\n    }\n\n    /** An input indicating the type of the custom header component for the calendar, if set. */\n    @Input() calendarHeaderComponent: ComponentType<any>;\n\n    /** The view that the calendar should start in. */\n    @Input() startView: McCalendarView = McCalendarView.Month;\n\n    /**\n     * Emits selected year in multiyear view.\n     * This doesn't imply a change on the selected date.\n     */\n    @Output() readonly yearSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /**\n     * Emits selected month in year view.\n     * This doesn't imply a change on the selected date.\n     */\n    @Output() readonly monthSelected: EventEmitter<D> = new EventEmitter<D>();\n\n    /** Classes to be passed to the date picker panel. Supports the same syntax as `ngClass`. */\n    @Input() panelClass: string | string[];\n\n    /** Function that can be used to add custom CSS classes to dates. */\n    @Input() dateClass: (date: D) => McCalendarCellCssClasses;\n\n    @Input() backdropClass: string = 'cdk-overlay-transparent-backdrop';\n\n    /** Emits when the datepicker has been opened. */\n    @Output('opened') openedStream: EventEmitter<void> = new EventEmitter<void>();\n\n    /** Emits when the datepicker has been closed. */\n    @Output('closed') closedStream: EventEmitter<void> = new EventEmitter<void>();\n\n    /** The id for the datepicker calendar. */\n    id: string = `mc-datepicker-${datepickerUid++}`;\n\n    /** A reference to the overlay when the calendar is opened as a popup. */\n    popupRef: OverlayRef | null;\n\n    /** The input element this datepicker is associated with. */\n    datepickerInput: McDatepickerInput<D>;\n\n    readonly stateChanges: Subject<void> = new Subject<void>();\n\n    /** Emits when the datepicker is disabled. */\n    readonly disabledChange = new Subject<boolean>();\n\n    /** Emits new selected date when selected date changes. */\n    readonly selectedChanged = new Subject<D>();\n    private scrollStrategy: () => ScrollStrategy;\n    private validSelected: D | null = null;\n\n    /** A portal containing the calendar for this datepicker. */\n    private calendarPortal: ComponentPortal<McDatepickerContent<D>>;\n\n    /** Reference to the component instantiated in popup mode. */\n    private popupComponentRef: ComponentRef<McDatepickerContent<D>> | null;\n\n    /** The element that was focused before the datepicker was opened. */\n    private focusedElementBeforeOpen: HTMLElement | null = null;\n\n    /** Subscription to value changes in the associated input element. */\n    private inputSubscription = Subscription.EMPTY;\n\n    private closeSubscription = Subscription.EMPTY;\n\n    constructor(\n        private overlay: Overlay,\n        private ngZone: NgZone,\n        private viewContainerRef: ViewContainerRef,\n        @Inject(MC_DATEPICKER_SCROLL_STRATEGY) scrollStrategy: any,\n        @Optional() private readonly dateAdapter: DateAdapter<D>,\n        @Optional() private dir: Directionality,\n        @Optional() @Inject(DOCUMENT) private document: any\n    ) {\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        this.scrollStrategy = scrollStrategy;\n    }\n\n    ngOnDestroy() {\n        this.close();\n        this.inputSubscription.unsubscribe();\n        this.closeSubscription.unsubscribe();\n        this.disabledChange.complete();\n\n        this.destroyOverlay();\n    }\n\n    /** Selects the given date */\n    select(date: D): void {\n        const oldValue = this.selected;\n        this.selected = date;\n\n        if (!this.dateAdapter.sameDate(oldValue, this.selected)) {\n            this.selectedChanged.next(date);\n        }\n    }\n\n    /** Emits the selected year in multiyear view */\n    selectYear(normalizedYear: D): void {\n        this.yearSelected.emit(normalizedYear);\n    }\n\n    /** Emits selected month in year view */\n    selectMonth(normalizedMonth: D): void {\n        this.monthSelected.emit(normalizedMonth);\n    }\n\n    /**\n     * Register an input with this datepicker.\n     * @param input The datepicker input to register with this datepicker.\n     */\n    registerInput(input: McDatepickerInput<D>): void {\n        if (this.datepickerInput) {\n            throw Error('A McDatepicker can only be associated with a single input.');\n        }\n\n        this.datepickerInput = input;\n        this.inputSubscription = this.datepickerInput.valueChange\n            .subscribe((value: D | null) => {\n                this.selected = value;\n                // @ts-ignore\n                if (this.popupComponentRef) {\n                    this.popupComponentRef.instance.calendar.monthView?.init();\n                    this.popupComponentRef.instance.calendar.activeDate = value as D;\n                }\n            });\n    }\n\n    /** Open the calendar. */\n    open(): void {\n        if (this._opened || this.disabled) { return; }\n\n        if (!this.datepickerInput) {\n            throw Error('Attempted to open an McDatepicker with no associated input.');\n        }\n\n        if (this.document) {\n            this.focusedElementBeforeOpen = this.document.activeElement;\n        }\n\n        this.openAsPopup();\n\n        this._opened = true;\n        this.openedStream.emit();\n    }\n\n    /** Close the calendar. */\n    close(restoreFocus: boolean = true): void {\n        if (!this._opened) { return; }\n\n        if (this.popupComponentRef) {\n            const instance = this.popupComponentRef.instance;\n            instance.startExitAnimation();\n            instance.animationDone\n                .pipe(take(1))\n                .subscribe(() => this.destroyOverlay());\n        }\n\n        if (restoreFocus) {\n            this.focusedElementBeforeOpen!.focus();\n        }\n\n        this._opened = false;\n        this.closedStream.emit();\n        this.focusedElementBeforeOpen = null;\n    }\n\n    toggle(): void {\n        if (this.datepickerInput.isReadOnly) { return; }\n\n        this._opened ? this.close() : this.open();\n    }\n\n    /** Destroys the current overlay. */\n    private destroyOverlay() {\n        if (this.popupRef) {\n            this.popupRef.dispose();\n            this.popupRef = this.popupComponentRef = null;\n        }\n    }\n\n    /** Open the calendar as a popup. */\n    private openAsPopup(): void {\n        if (!this.calendarPortal) {\n            this.calendarPortal = new ComponentPortal<McDatepickerContent<D>>(\n                McDatepickerContent, this.viewContainerRef\n            );\n        }\n\n        if (!this.popupRef) {\n            this.createPopup();\n        }\n\n        if (!this.popupRef!.hasAttached()) {\n            this.popupComponentRef = this.popupRef!.attach(this.calendarPortal);\n            this.popupComponentRef.instance.datepicker = this;\n\n            // Update the position once the calendar has rendered.\n            this.ngZone.onStable.asObservable()\n                .pipe(take(1))\n                .subscribe(() => this.popupRef!.updatePosition());\n        }\n    }\n\n    /** Create the popup. */\n    private createPopup(): void {\n        const overlayConfig = new OverlayConfig({\n            positionStrategy: this.createPopupPositionStrategy(),\n            hasBackdrop: this.hasBackdrop,\n            backdropClass: this.backdropClass,\n            direction: this.dir,\n            scrollStrategy: this.scrollStrategy(),\n            panelClass: 'mc-datepicker__popup'\n        });\n\n        this.popupRef = this.overlay.create(overlayConfig);\n\n        this.closeSubscription = this.closingActions()\n            .subscribe(() => this.close(this.restoreFocus()));\n    }\n\n    private restoreFocus(): boolean {\n        return this.document.activeElement === this.document.body;\n    }\n\n    private closingActions() {\n        return merge(\n            this.popupRef!.backdropClick(),\n            this.popupRef!.outsidePointerEvents(),\n            this.popupRef!.detachments()\n        );\n    }\n\n    /** Create the popup PositionStrategy. */\n    private createPopupPositionStrategy(): PositionStrategy {\n        return this.overlay.position()\n            .flexibleConnectedTo(this.datepickerInput.elementRef)\n            .withTransformOriginOn('.mc-datepicker__content')\n            .withFlexibleDimensions(false)\n            .withViewportMargin(8)\n            .withLockedPosition()\n            .withPositions([\n                {\n                    originX: 'start',\n                    originY: 'bottom',\n                    overlayX: 'start',\n                    overlayY: 'top'\n                },\n                {\n                    originX: 'start',\n                    originY: 'top',\n                    overlayX: 'start',\n                    overlayY: 'bottom'\n                },\n                {\n                    originX: 'end',\n                    originY: 'bottom',\n                    overlayX: 'end',\n                    overlayY: 'top'\n                },\n                {\n                    originX: 'end',\n                    originY: 'top',\n                    overlayX: 'end',\n                    overlayY: 'bottom'\n                }\n            ]);\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n}\n","// @ts-nocheck\n\n// tslint:disable:no-empty\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n    Directive,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    Inject,\n    Input,\n    OnDestroy,\n    Optional,\n    Output,\n    Renderer2\n} from '@angular/core';\nimport {\n    AbstractControl,\n    ControlValueAccessor,\n    NG_VALIDATORS,\n    NG_VALUE_ACCESSOR,\n    ValidationErrors,\n    Validator,\n    ValidatorFn,\n    Validators\n} from '@angular/forms';\nimport { DateAdapter, MC_DATE_FORMATS, McDateFormats } from '@ptsecurity/cdk/datetime';\nimport {\n    BACKSPACE,\n    DELETE,\n    UP_ARROW,\n    RIGHT_ARROW,\n    DOWN_ARROW,\n    LEFT_ARROW,\n    END,\n    PAGE_DOWN,\n    HOME,\n    PAGE_UP,\n    SPACE,\n    TAB,\n    ESCAPE,\n    hasModifierKey,\n    isHorizontalMovement,\n    isLetterKey,\n    isVerticalMovement\n} from '@ptsecurity/cdk/keycodes';\nimport { validationTooltipHideDelay, validationTooltipShowDelay } from '@ptsecurity/mosaic/core';\nimport { McFormFieldControl } from '@ptsecurity/mosaic/form-field';\nimport { McWarningTooltipTrigger } from '@ptsecurity/mosaic/tooltip';\nimport { Subject, Subscription } from 'rxjs';\n\nimport { createMissingDateImplError } from './datepicker-errors';\nimport { McDatepicker } from './datepicker.component';\n\n\n// tslint:disable:naming-convention\nenum DateParts {\n    year = 'y',\n    month = 'm',\n    day = 'd'\n}\n\nclass DateDigit {\n    maxDays = 31;\n    maxMonth = 12;\n\n    parse: (value: string) => number;\n\n    constructor(public value: DateParts, public start: number, public length: number) {\n        if (value === DateParts.day) {\n            this.parse = this.parseDay;\n        } else if (value === DateParts.month) {\n            this.parse = this.parseMonth;\n        } else if (value === DateParts.year) {\n            this.parse = this.parseYear;\n        }\n    }\n\n    get end(): number {\n        return this.start + this.length;\n    }\n\n    get isDay(): boolean {\n        return this.value === DateParts.day;\n    }\n\n    get isMonth(): boolean {\n        return this.value === DateParts.month;\n    }\n\n    get isYear(): boolean {\n        return this.value === DateParts.year;\n    }\n\n    get fullName(): string {\n        if (this.isDay) { return 'date'; }\n\n        if (this.isMonth) { return 'month'; }\n\n        if (this.isYear) { return 'year'; }\n    }\n\n    private parseDay(value: string): number {\n        const parsedValue: number = parseInt(value);\n\n        if (parsedValue === 0) { return 1; }\n\n        if (parsedValue > this.maxDays) { return this.maxDays; }\n\n        return parsedValue;\n    }\n\n    private parseMonth(value: string): number {\n        const parsedValue: number = parseInt(value);\n\n        if (parsedValue === 0) { return 1; }\n\n        if (parsedValue > this.maxMonth) { return this.maxMonth; }\n\n        return parsedValue;\n    }\n\n    private parseYear(value: string): number {\n        const parsedValue: number = parseInt(value);\n\n        if (parsedValue === 0) { return 1; }\n\n        return parsedValue;\n    }\n}\n\n/** @docs-private */\nexport const MC_DATEPICKER_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => McDatepickerInput),\n    multi: true\n};\n\n/** @docs-private */\nexport const MC_DATEPICKER_VALIDATORS: any = {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef(() => McDatepickerInput),\n    multi: true\n};\n\n\n/**\n * An event used for datepicker input and change events. We don't always have access to a native\n * input or change event because the event may have been triggered by the user clicking on the\n * calendar popup. For consistency, we always use McDatepickerInputEvent instead.\n */\nexport class McDatepickerInputEvent<D> {\n    /** The new value for the target datepicker input. */\n    value: D | null;\n\n    constructor(\n        /** Reference to the datepicker input component that emitted the event. */\n        public target: McDatepickerInput<D>,\n        /** Reference to the native input element associated with the datepicker input. */\n        public targetElement: HTMLElement\n    ) {\n        this.value = this.target.value;\n    }\n}\n\nlet uniqueComponentIdSuffix = 0;\n\n\n/** Directive used to connect an input to a McDatepicker. */\n@Directive({\n    selector: 'input[mcDatepicker]',\n    exportAs: 'mcDatepickerInput',\n    providers: [\n        MC_DATEPICKER_VALUE_ACCESSOR,\n        MC_DATEPICKER_VALIDATORS,\n        { provide: McFormFieldControl, useExisting: McDatepickerInput }\n    ],\n    host: {\n        class: 'mc-input mc-datepicker',\n        '[attr.placeholder]': 'placeholder',\n        '[attr.required]': 'required',\n        '[attr.disabled]': 'disabled || null',\n        '[attr.min]': 'min ? toISO8601(min) : null',\n        '[attr.max]': 'max ? toISO8601(max) : null',\n        '[attr.autocomplete]': '\"off\"',\n\n        '(paste)': 'onPaste($event)',\n        '(change)': 'onChange()',\n\n        '(focus)': 'focusChanged(true)',\n        '(blur)': 'onBlur()',\n\n        '(keydown)': 'onKeyDown($event)'\n    }\n})\nexport class McDatepickerInput<D> implements McFormFieldControl<D>, ControlValueAccessor, Validator, OnDestroy {\n    readonly stateChanges: Subject<void> = new Subject<void>();\n\n    readonly errorState: boolean;\n\n    controlType: string = 'datepicker';\n\n    focused: boolean = false;\n\n    datepicker: McDatepicker<D>;\n\n    dateFilter: (date: D | null) => boolean;\n\n    /** Emits when the value changes (either due to user input or programmatic change). */\n    valueChange = new EventEmitter<D | null>();\n\n    /** Emits when the disabled state has changed */\n    disabledChange = new EventEmitter<boolean>();\n\n    @Input() placeholder: string;\n\n    @Input()\n    get required(): boolean {\n        return this._required;\n    }\n\n    set required(value: boolean) {\n        this._required = coerceBooleanProperty(value);\n    }\n\n    private _required: boolean;\n\n    /** The datepicker that this input is associated with. */\n    @Input()\n    set mcDatepicker(value: McDatepicker<D>) {\n        if (!value) { return; }\n\n        this.datepicker = value;\n        this.datepicker.registerInput(this);\n        this.datepickerSubscription.unsubscribe();\n\n        this.datepickerSubscription = this.datepicker.selectedChanged\n            .subscribe((selected: D) => {\n                this.value = selected;\n                this.cvaOnChange(selected);\n                this.onTouched();\n                this.dateChange.emit(new McDatepickerInputEvent(this, this.elementRef.nativeElement));\n            });\n    }\n\n    /** Function that can be used to filter out dates within the datepicker. */\n    @Input()\n    set mcDatepickerFilter(value: (date: D | null) => boolean) {\n        this.dateFilter = value;\n        this.validatorOnChange();\n    }\n\n    /** The value of the input. */\n    @Input()\n    get value(): D | null {\n        return this._value;\n    }\n\n    set value(value: D | null) {\n        let newValue = this.dateAdapter.deserialize(value);\n\n        this.lastValueValid = !newValue || this.dateAdapter.isValid(newValue);\n\n        newValue = this.getValidDateOrNull(newValue);\n\n        const oldDate = this.value;\n        this._value = newValue;\n        this.formatValue(newValue);\n\n        if (!this.dateAdapter.sameDate(oldDate, newValue)) {\n            this.valueChange.emit(newValue);\n        }\n    }\n\n    private _value: D | null;\n\n    /** The minimum valid date. */\n    @Input()\n    get min(): D | null {\n        return this._min;\n    }\n\n    set min(value: D | null) {\n        this._min = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.validatorOnChange();\n    }\n\n    private _min: D | null;\n\n    /** The maximum valid date. */\n    @Input()\n    get max(): D | null {\n        return this._max;\n    }\n\n    set max(value: D | null) {\n        this._max = this.getValidDateOrNull(this.dateAdapter.deserialize(value));\n        this.validatorOnChange();\n    }\n\n    private _max: D | null;\n\n    /** Whether the datepicker-input is disabled. */\n    @Input()\n    get disabled(): boolean {\n        return this._disabled;\n    }\n\n    set disabled(value: boolean) {\n        const newValue = coerceBooleanProperty(value);\n        const element = this.elementRef.nativeElement;\n\n        if (this._disabled !== newValue) {\n            this._disabled = newValue;\n            this.disabledChange.emit(newValue);\n        }\n\n        // We need to null check the `blur` method, because it's undefined during SSR.\n        if (newValue && element.blur) {\n            // Normally, native input elements automatically blur if they turn disabled. This behavior\n            // is problematic, because it would mean that it triggers another change detection cycle,\n            // which then causes a changed after checked error if the input element was focused before.\n            element.blur();\n        }\n    }\n\n    private _disabled: boolean = false;\n\n    @Input()\n    get id(): string {\n        return this._id;\n    }\n\n    set id(value: string) {\n        this._id = value || this.uid;\n    }\n\n    private _id: string;\n\n    @Input()\n    set mcValidationTooltip(tooltip: McWarningTooltipTrigger) {\n        if (!tooltip) { return; }\n\n        tooltip.enterDelay = validationTooltipShowDelay;\n        tooltip.trigger = 'manual';\n\n        tooltip.initListeners();\n\n        this.incorrectInput.subscribe(() => {\n            if (tooltip.isOpen) { return; }\n\n            tooltip.show();\n\n            setTimeout(() => tooltip.hide(), validationTooltipHideDelay);\n        });\n    }\n\n    @Output() incorrectInput = new EventEmitter<void>();\n\n    /** Emits when a `change` event is fired on this `<input>`. */\n    @Output() readonly dateChange = new EventEmitter<McDatepickerInputEvent<D>>();\n\n    /** Emits when an `input` event is fired on this `<input>`. */\n    @Output() readonly dateInput = new EventEmitter<McDatepickerInputEvent<D>>();\n\n    get empty(): boolean {\n        return !this.viewValue && !this.isBadInput();\n    }\n\n    get viewValue(): string {\n        return this.elementRef.nativeElement.value;\n    }\n\n    get ngControl(): any {\n        return this.control;\n    }\n\n    get isReadOnly(): boolean {\n        return this.elementRef.nativeElement.readOnly;\n    }\n\n    private get selectionStart(): number | null {\n        return this.elementRef.nativeElement.selectionStart;\n    }\n\n    private set selectionStart(value: number | null) {\n        this.elementRef.nativeElement.selectionStart = value;\n    }\n\n    private get selectionEnd(): number | null {\n        return this.elementRef.nativeElement.selectionEnd;\n    }\n\n    private set selectionEnd(value: number | null) {\n        this.elementRef.nativeElement.selectionEnd = value;\n    }\n\n    private control: AbstractControl;\n    private readonly uid = `mc-datepicker-${uniqueComponentIdSuffix++}`;\n\n    private datepickerSubscription = Subscription.EMPTY;\n\n    private localeSubscription = Subscription.EMPTY;\n\n    /** Whether the last value set on the input was valid. */\n    private lastValueValid = false;\n\n    /** The combined form control validator for this input. */\n    private readonly validator: ValidatorFn | null;\n\n    private separator: string;\n\n    private firstDigit: DateDigit;\n    private secondDigit: DateDigit;\n    private thirdDigit: DateDigit;\n\n    private separatorPositions: number[];\n\n    constructor(\n        public elementRef: ElementRef<HTMLInputElement>,\n        private readonly renderer: Renderer2,\n        @Optional() private readonly dateAdapter: DateAdapter<D>,\n        @Optional() @Inject(MC_DATE_FORMATS) private readonly dateFormats: McDateFormats\n    ) {\n        this.validator = Validators.compose([\n            this.parseValidator,\n            this.minValidator,\n            this.maxValidator,\n            this.filterValidator\n        ]);\n\n        if (!this.dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n\n        if (!this.dateFormats) {\n            throw createMissingDateImplError('MC_DATE_FORMATS');\n        }\n\n        this.setFormat(dateFormats.dateInput);\n\n        this.localeSubscription = dateAdapter.localeChanges\n            .subscribe(this.updateLocaleParams);\n    }\n\n    onContainerClick() {\n        this.focus();\n    }\n\n    focus(): void {\n        this.elementRef.nativeElement.focus();\n    }\n\n    focusChanged(isFocused: boolean): void {\n        if (isFocused !== this.focused) {\n            this.focused = isFocused;\n            this.onTouched();\n            this.stateChanges.next();\n        }\n    }\n\n    onTouched = () => {};\n\n    ngOnDestroy() {\n        this.datepickerSubscription.unsubscribe();\n        this.localeSubscription.unsubscribe();\n        this.valueChange.complete();\n        this.disabledChange.complete();\n    }\n\n    /** @docs-private */\n    registerOnValidatorChange(fn: () => void): void {\n        this.validatorOnChange = fn;\n    }\n\n    /** @docs-private */\n    validate(control: AbstractControl): ValidationErrors | null {\n        this.setControl(control);\n\n        return this.validator ? this.validator(control) : null;\n    }\n\n    // Implemented as part of ControlValueAccessor.\n    writeValue(value: D): void {\n        this.value = value;\n    }\n\n    // Implemented as part of ControlValueAccessor.\n    registerOnChange(fn: (value: any) => void): void {\n        this.cvaOnChange = fn;\n    }\n\n    // Implemented as part of ControlValueAccessor.\n    registerOnTouched(fn: () => void): void {\n        this.onTouched = fn;\n    }\n\n    // Implemented as part of ControlValueAccessor.\n    setDisabledState(isDisabled: boolean): void {\n        this.disabled = isDisabled;\n    }\n\n    onKeyDown(event: KeyboardEvent): void {\n        if (this.isReadOnly) { return; }\n\n        // tslint:disable-next-line: deprecation\n        const keyCode = event.keyCode;\n\n        if (this.isLetterKey(event)) {\n            event.preventDefault();\n\n            this.incorrectInput.emit();\n        } else if (this.isKeyForOpen(event)) {\n            event.preventDefault();\n\n            this.datepicker.open();\n        } else if (this.isKeyForClose(event)) {\n            event.preventDefault();\n\n            this.datepicker.close();\n        } else if (keyCode === TAB) {\n            this.datepicker.close(false);\n        } else if (this.isKeyForByPass(event)) {\n            return;\n        } else if (keyCode === SPACE) {\n            this.spaceKeyHandler(event);\n        } else if ([UP_ARROW, DOWN_ARROW].includes(keyCode)) {\n            event.preventDefault();\n\n            this.verticalArrowKeyHandler(keyCode);\n        } else if ([LEFT_ARROW, RIGHT_ARROW, HOME, PAGE_UP, END, PAGE_DOWN].includes(keyCode)) {\n            event.preventDefault();\n\n            this.changeCaretPosition(keyCode);\n        } else if (/^\\D$/.test(event.key)) {\n            event.preventDefault();\n\n            const newValue = this.getNewValue(event.key, this.selectionStart as number);\n            const formattedValue = this.replaceSymbols(newValue);\n\n            if (newValue !== formattedValue) {\n                this.setViewValue(formattedValue, true);\n\n                setTimeout(this.onInput);\n            } else {\n                this.incorrectInput.emit();\n            }\n        } else {\n            setTimeout(this.onInput);\n        }\n    }\n\n    onInput = () => {\n        this.correctCursorPosition();\n        const formattedValue = this.replaceSymbols(this.viewValue);\n\n        const newTimeObj = this.getDateFromString(formattedValue);\n        this.lastValueValid = !!newTimeObj;\n\n        if (!newTimeObj) {\n            this.control.updateValueAndValidity();\n            this._value = null;\n\n            return;\n        }\n\n        this.setViewValue(this.getTimeStringFromDate(newTimeObj, this.dateFormats.dateInput), true);\n\n        this.selectNextDigitByCursor((this.selectionStart as number));\n\n        this.updateValue(newTimeObj);\n    }\n\n    parseOnBlur = () => {\n        if (!this.viewValue) { return null; }\n\n        const date = this.getDefaultValue();\n\n        const viewDigits: string[] = this.viewValue\n            .split(this.separator)\n            .map((value: string) => value)\n            .filter((value) => value);\n\n        const [firsViewDigit, secondViewDigit, thirdViewDigit] = viewDigits;\n\n        // tslint:disable-next-line:no-magic-numbers\n        if (viewDigits.length !== 3) {\n            this.lastValueValid = false;\n            this._value = null;\n\n            return setTimeout(() => this.control.updateValueAndValidity());\n        }\n\n        date[this.firstDigit.fullName] = this.firstDigit.parse(firsViewDigit);\n        date[this.secondDigit.fullName] = this.secondDigit.parse(secondViewDigit);\n        date[this.thirdDigit.fullName] = this.thirdDigit.parse(thirdViewDigit);\n\n        const [digitWithYear, viewDigitWithYear] = [this.firstDigit, this.secondDigit, this.thirdDigit]\n            .reduce((acc, digit, index) => digit.value === DateParts.year ? [digit, viewDigits[index]] : acc, []);\n\n        // tslint:disable-next-line:no-magic-numbers\n        if (viewDigitWithYear.length < 3) {\n            // tslint:disable-next-line:no-magic-numbers\n            date.year += date.year < 30 ? 2000 : 1900;\n        } else if (viewDigitWithYear.length < digitWithYear.length) {\n            this.lastValueValid = false;\n            this._value = null;\n\n            return setTimeout(() => this.control.updateValueAndValidity());\n        }\n\n        const newTimeObj = this.getValidDateOrNull(this.dateAdapter.createDateTime(\n            date.year, date.month - 1, date.date, date.hours, date.minutes, date.seconds, date.milliseconds\n        ));\n\n        this.lastValueValid = !!newTimeObj;\n\n        this.setViewValue(this.getTimeStringFromDate(newTimeObj, this.dateFormats.dateInput), true);\n\n        this.updateValue(newTimeObj);\n    }\n\n    onChange() {\n        this.dateChange.emit(new McDatepickerInputEvent(this, this.elementRef.nativeElement));\n    }\n\n    /** Handles blur events on the input. */\n    onBlur() {\n        // Reformat the input only if we have a valid value.\n        this.parseOnBlur();\n\n        this.focusChanged(false);\n    }\n\n    onPaste($event) {\n        $event.preventDefault();\n\n        const rawValue = $event.clipboardData.getData('text');\n\n        const match: RegExpMatchArray | null = rawValue.match(/^(?<first>\\d+)\\W(?<second>\\d+)\\W(?<third>\\d+)$/);\n\n        if (!match?.groups?.first || !match?.groups?.second || !match?.groups?.third) {\n            this.setViewValue(rawValue);\n\n            return rawValue;\n        }\n\n        const value = [match.groups.first, match.groups.second, match.groups.third].join(this.separator);\n\n        const newTimeObj = this.getDateFromString(value);\n\n        if (!newTimeObj) {\n            this.setViewValue(value);\n\n            return value;\n        }\n\n        this.setViewValue(this.getTimeStringFromDate(newTimeObj, this.dateFormats.dateInput));\n\n        this.updateValue(newTimeObj);\n    }\n\n    toISO8601(value: D): string {\n        return this.dateAdapter.toIso8601(value);\n    }\n\n    private updateLocaleParams = () => {\n        this.setFormat(this.dateFormats.dateInput);\n\n        this.value = this.value;\n    }\n\n    private setFormat(format: string): void {\n        this.separator = format.match(/[aA-zZ]+(?<separator>\\W|\\D)[aA-zZ]+/)!.groups.separator;\n        this.separatorPositions = format\n            .split('')\n            .reduce((acc, item, index: number) => this.separator === item ? [...acc, index + 1] : acc, []);\n\n        this.getDigitPositions(format);\n    }\n\n    private updateValue(newValue: D) {\n        if (!this.dateAdapter.sameDate(newValue, this.value)) {\n            this._value = newValue;\n            this.cvaOnChange(newValue);\n            this.valueChange.emit(newValue);\n            this.dateInput.emit(new McDatepickerInputEvent(this, this.elementRef.nativeElement));\n        }\n\n        this.control.updateValueAndValidity();\n    }\n\n    private isKeyForClose(event: KeyboardEvent): boolean {\n        // tslint:disable-next-line: deprecation\n        return (event.altKey && event.keyCode === UP_ARROW) || event.keyCode === ESCAPE;\n    }\n\n    private isKeyForOpen(event: KeyboardEvent): boolean {\n        // tslint:disable-next-line: deprecation\n        return event.altKey && event.keyCode === DOWN_ARROW;\n    }\n\n    private isLetterKey(event: KeyboardEvent): boolean {\n        return isLetterKey(event) && !event.ctrlKey && !event.metaKey;\n    }\n\n    private isKeyForByPass(event: KeyboardEvent): boolean {\n        // tslint:disable-next-line: deprecation\n        return (hasModifierKey(event) && (isVerticalMovement(event.keyCode) || isHorizontalMovement(event.keyCode))) ||\n            event.ctrlKey ||\n            event.metaKey ||\n            // tslint:disable-next-line: deprecation\n            [DELETE, BACKSPACE].includes(event.keyCode);\n    }\n\n    private spaceKeyHandler(event: KeyboardEvent) {\n        event.preventDefault();\n\n        if (this.selectionStart === this.selectionEnd) {\n            const value = this.getNewValue(event.key, this.selectionStart as number);\n            this.setViewValue(value);\n\n            setTimeout(this.onInput);\n        } else if (this.selectionStart !== this.selectionEnd) {\n            this.selectNextDigit(this.selectionStart as number, true);\n        }\n    }\n\n    private getNewValue(key: string, position: number) {\n        return [this.viewValue.slice(0, position), key, this.viewValue.slice(position)].join('');\n    }\n\n    private setViewValue(value: string, savePosition: boolean = false) {\n        if (savePosition) {\n            const selectionStart = this.selectionStart;\n            const selectionEnd = this.selectionEnd;\n\n            this.renderer.setProperty(this.elementRef.nativeElement, 'value', value);\n\n            this.selectionStart = selectionStart;\n            this.selectionEnd = selectionEnd;\n        } else {\n            this.renderer.setProperty(this.elementRef.nativeElement, 'value', value);\n        }\n    }\n\n    private replaceSymbols(value: string): string {\n        return value\n            .split(this.separator)\n            .map((part: string) => part.replace(/^([0-9]+)\\W$/, '0$1'))\n            .join(this.separator);\n    }\n\n    private getDateFromString(timeString: string): D | null {\n        if (!timeString || timeString.length < this.firstDigit.length) { return null; }\n\n        const date = this.getDefaultValue();\n\n        const viewDigits: string[] = timeString\n            .split(this.separator)\n            .map((value: string) => value);\n\n        const [firsViewDigit, secondViewDigit, thirdViewDigit] = viewDigits;\n\n        if (viewDigits.length === 1) {\n            if (firsViewDigit.length < this.firstDigit.length) { return null; }\n\n\n            date[this.firstDigit.fullName] = this.firstDigit.parse(firsViewDigit);\n            date.month = 1;\n        // tslint:disable-next-line:no-magic-numbers\n        } else if (viewDigits.length === 2) {\n            if (firsViewDigit.length < this.firstDigit.length || secondViewDigit.length < this.secondDigit.length) {\n                return null;\n            }\n\n            date[this.firstDigit.fullName] = this.firstDigit.parse(firsViewDigit);\n            date[this.secondDigit.fullName] = this.secondDigit.parse(secondViewDigit);\n        // tslint:disable-next-line:no-magic-numbers\n        } else if (viewDigits.length === 3) {\n            if (\n                firsViewDigit.length < this.firstDigit.length ||\n                secondViewDigit.length < this.secondDigit.length ||\n                thirdViewDigit.length < this.thirdDigit.length\n            ) { return null; }\n\n            date[this.firstDigit.fullName] = this.firstDigit.parse(firsViewDigit);\n            date[this.secondDigit.fullName] = this.secondDigit.parse(secondViewDigit);\n            date[this.thirdDigit.fullName] = this.thirdDigit.parse(thirdViewDigit);\n        } else {\n            return null;\n        }\n\n        return this.getValidDateOrNull(this.dateAdapter.createDateTime(\n            date.year, date.month - 1, date.date, date.hours, date.minutes, date.seconds, date.milliseconds\n        ));\n    }\n\n    private getDefaultValue() {\n        const defaultValue = this.value || this.dateAdapter.today();\n\n        return {\n            year: this.dateAdapter.getYear(defaultValue),\n            month: this.dateAdapter.getMonth(defaultValue),\n            date: this.dateAdapter.getDate(defaultValue),\n            hours: this.dateAdapter.getHours(defaultValue),\n            minutes: this.dateAdapter.getMinutes(defaultValue),\n            seconds: this.dateAdapter.getSeconds(defaultValue),\n            milliseconds: this.dateAdapter.getMilliseconds(defaultValue)\n        };\n    }\n\n    private getTimeStringFromDate(value: D | null, timeFormat: string): string {\n        if (!value || !this.dateAdapter.isValid(value)) { return ''; }\n\n        return this.dateAdapter.format(value, timeFormat);\n    }\n\n    private getDateEditMetrics(cursorPosition: number): [\n        modifiedTimePart: DateParts,\n        cursorStartPosition: number,\n        cursorEndPosition: number\n    ] {\n        for (const digit of [this.firstDigit, this.secondDigit, this.thirdDigit]) {\n            if (cursorPosition >= digit.start && cursorPosition <= digit.end) {\n                return [digit.value, digit.start, digit.end];\n            }\n        }\n\n        return [this.thirdDigit.value, this.thirdDigit.start, this.thirdDigit.end];\n    }\n\n    private incrementDate(dateVal: D, whatToIncrement: DateParts): D {\n        let year = this.dateAdapter.getYear(dateVal);\n        let month = this.dateAdapter.getMonth(dateVal);\n        let day = this.dateAdapter.getDate(dateVal);\n\n        switch (whatToIncrement) {\n            case DateParts.day:\n                day++;\n\n                if (day > this.dateAdapter.getNumDaysInMonth(dateVal)) {\n                    day = 1;\n                }\n\n                break;\n            case DateParts.month:\n                month++;\n\n                // tslint:disable-next-line:no-magic-numbers\n                if (month > 11) {\n                    month = 0;\n                }\n\n                const lastDay = this.getLastDayFor(year, month);\n\n                if (day > lastDay) {\n                    day = lastDay;\n                }\n\n                break;\n            case DateParts.year:\n                year++;\n\n                break;\n            default:\n        }\n\n        return this.createDate(year, month, day);\n    }\n\n    private getLastDayFor(year: number, month: number): number {\n        return this.dateAdapter.getNumDaysInMonth(this.createDate(year, month, 1));\n    }\n\n    private decrementDate(dateVal: D, whatToDecrement: DateParts): D {\n        let year = this.dateAdapter.getYear(dateVal);\n        let month = this.dateAdapter.getMonth(dateVal);\n        let day = this.dateAdapter.getDate(dateVal);\n\n        switch (whatToDecrement) {\n            case DateParts.day:\n                day--;\n\n                if (day < 1) {\n                    day = this.dateAdapter.getNumDaysInMonth(dateVal);\n                }\n\n                break;\n            case DateParts.month:\n                month--;\n\n                if (month < 0) {\n                    // tslint:disable-next-line:no-magic-numbers\n                    month = 11;\n                }\n\n                const lastDay = this.getLastDayFor(year, month);\n\n                if (day > lastDay) {\n                    day = lastDay;\n                }\n\n                break;\n            case DateParts.year:\n                year--;\n\n                break;\n            default:\n        }\n\n        return this.createDate(year, month, day);\n    }\n\n    private verticalArrowKeyHandler(keyCode: number): void {\n        if (!this.value) { return; }\n\n        let changedTime;\n\n        const [modifiedTimePart, selectionStart, selectionEnd] = this.getDateEditMetrics(this.selectionStart as number);\n\n        if (keyCode === UP_ARROW) {\n            changedTime = this.incrementDate(this.value, modifiedTimePart);\n        }\n\n        if (keyCode === DOWN_ARROW) {\n            changedTime = this.decrementDate(this.value, modifiedTimePart);\n        }\n\n        this.value = changedTime;\n\n        this.selectionStart = selectionStart;\n        this.selectionEnd = selectionEnd;\n\n        this.onChange();\n        this.stateChanges.next();\n    }\n\n    private changeCaretPosition(keyCode: number): void {\n        if (!this.value) { return; }\n\n        let cursorPos = this.selectionStart as number;\n\n        if ([HOME, PAGE_UP].includes(keyCode)) {\n            cursorPos = 0;\n        } else if ([END, PAGE_DOWN].includes(keyCode)) {\n            cursorPos = this.viewValue.length;\n        } else if (keyCode === LEFT_ARROW) {\n            cursorPos = cursorPos === 0 ? this.viewValue.length : cursorPos - 1;\n        } else if (keyCode === RIGHT_ARROW) {\n            const nextSeparatorPos: number = this.viewValue.indexOf(this.separator, cursorPos);\n\n            cursorPos = nextSeparatorPos ? nextSeparatorPos + 1 : 0;\n        }\n\n        this.selectDigitByCursor(cursorPos);\n    }\n\n    private selectDigitByCursor(cursorPos: number): void {\n        setTimeout(() => {\n            const [, selectionStart, selectionEnd] = this.getDateEditMetrics(cursorPos);\n\n            this.selectionStart = selectionStart;\n            this.selectionEnd = selectionEnd;\n        });\n    }\n\n    private selectNextDigitByCursor(cursorPos: number): void {\n        setTimeout(() => {\n            const [, , endPositionOfCurrentDigit] = this.getDateEditMetrics(cursorPos);\n            const [, selectionStart, selectionEnd] = this.getDateEditMetrics(endPositionOfCurrentDigit + 1);\n\n            this.selectionStart = selectionStart;\n            this.selectionEnd = selectionEnd;\n        });\n    }\n\n    private selectNextDigit(cursorPos: number, cycle: boolean = false): void {\n        setTimeout(() => {\n            const lastValue = cycle ? 0 : cursorPos;\n            const nextSeparatorPos: number = this.viewValue.indexOf(this.separator, cursorPos);\n\n            const newCursorPos = nextSeparatorPos > 0 ? nextSeparatorPos + 1 : lastValue;\n\n            const [, selectionStart, selectionEnd] = this.getDateEditMetrics(newCursorPos);\n\n            this.selectionStart = selectionStart;\n            this.selectionEnd = selectionEnd;\n        });\n    }\n\n    /** Checks whether the input is invalid based on the native validation. */\n    private isBadInput(): boolean {\n        const validity = (<HTMLInputElement> this.elementRef.nativeElement).validity;\n\n        return validity && validity.badInput;\n    }\n\n    private cvaOnChange: (value: any) => void = () => {};\n\n    private validatorOnChange = () => {};\n\n    /** The form control validator for whether the input parses. */\n    private parseValidator: ValidatorFn = (): ValidationErrors | null => {\n        return this.focused ||\n            this.empty ||\n            this.lastValueValid ? null : { mcDatepickerParse: { text: this.elementRef.nativeElement.value } };\n    }\n\n    /** The form control validator for the min date. */\n    private minValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n        const controlValue = this.getValidDateOrNull(this.dateAdapter.deserialize(control.value));\n\n        return (!this.min || !controlValue ||\n            this.dateAdapter.compareDate(this.min, controlValue) <= 0) ?\n            null : { mcDatepickerMin: { min: this.min, actual: controlValue } };\n    }\n\n    /** The form control validator for the max date. */\n    private maxValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n        const controlValue = this.getValidDateOrNull(this.dateAdapter.deserialize(control.value));\n\n        return (!this.max || !controlValue ||\n            this.dateAdapter.compareDate(this.max, controlValue) >= 0) ?\n            null : { mcDatepickerMax: { max: this.max, actual: controlValue } };\n    }\n\n    /** The form control validator for the date filter. */\n    private filterValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n        const controlValue = this.getValidDateOrNull(this.dateAdapter.deserialize(control.value));\n\n        return !this.dateFilter || !controlValue || this.dateFilter(controlValue) ?\n            null : { mcDatepickerFilter: true };\n    }\n\n    /** Formats a value and sets it on the input element. */\n    private formatValue(value: D | null) {\n        const formattedValue = value ? this.dateAdapter.format(value, this.dateFormats.dateInput) : '';\n\n        this.setViewValue(formattedValue);\n    }\n\n    /**\n     * @param obj The object to check.\n     * @returns The given object if it is both a date instance and valid, otherwise null.\n     */\n    private getValidDateOrNull(obj: any): D | null {\n        return (this.dateAdapter.isDateInstance(obj) && this.dateAdapter.isValid(obj)) ? obj : null;\n    }\n\n    private setControl(control: AbstractControl) {\n        if (!this.control) {\n            this.control = control;\n        }\n    }\n\n    private getDigitPositions(format: string) {\n        const formatInLowerCase = format.toLowerCase();\n\n        formatInLowerCase\n            .split('')\n            .reduce(\n                ({ prev, length, start }, value: string, index: number, arr) => {\n                    if (value === this.separator || (arr.length - 1) === index) {\n                        if (!this.firstDigit) {\n                            this.firstDigit = new DateDigit(prev, start, length);\n                        } else if (!this.secondDigit) {\n                            this.secondDigit = new DateDigit(prev, start, length);\n                        } else if (!this.thirdDigit) {\n                            this.thirdDigit = new DateDigit(prev, start, arr.length - start);\n                        }\n\n                        // tslint:disable:no-parameter-reassignment\n                        length = 0;\n                        start = index + 1;\n                    } else {\n                        length++;\n                    }\n\n                    return { prev: value, length, start };\n                },\n                { length: 0, start: 0 }\n            );\n\n        if (!this.firstDigit || !this.secondDigit || !this.thirdDigit) {\n            Error(`Can' t use this format: ${format}`);\n        }\n    }\n\n    private createDate(year: number, month: number, day: number): D {\n        return this.dateAdapter.createDateTime(\n            year,\n            month,\n            day,\n            this.dateAdapter.getHours(this.value as D),\n            this.dateAdapter.getMinutes(this.value as D),\n            this.dateAdapter.getSeconds(this.value as D),\n            this.dateAdapter.getMilliseconds(this.value as D)\n        );\n    }\n\n    private correctCursorPosition() {\n        if (this.selectionStart && this.separatorPositions.includes(this.selectionStart)) {\n            this.selectionStart = this.selectionStart - 1;\n        }\n    }\n}\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ContentChild,\n    Directive,\n    Input,\n    OnChanges,\n    OnDestroy,\n    SimpleChanges,\n    ViewEncapsulation,\n    ViewChild\n} from '@angular/core';\nimport { McButton } from '@ptsecurity/mosaic/button';\nimport { merge, of as observableOf, Subscription } from 'rxjs';\n\nimport { McDatepickerIntl } from './datepicker-intl';\nimport { McDatepicker } from './datepicker.component';\n\n\n/** Can be used to override the icon of a `mcDatepickerToggle`. */\n@Directive({\n    selector: '[mcDatepickerToggleIcon]'\n})\nexport class McDatepickerToggleIcon {}\n\n\n@Component({\n    selector: 'mc-datepicker-toggle',\n    templateUrl: 'datepicker-toggle.html',\n    styleUrls: ['datepicker-toggle.scss'],\n    host: {\n        class: 'mc-datepicker-toggle',\n        '[class.mc-active]': 'datepicker && datepicker.opened'\n    },\n    exportAs: 'mcDatepickerToggle',\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class McDatepickerToggle<D> implements AfterContentInit, OnChanges, OnDestroy {\n    /** Whether the toggle button is disabled. */\n    @Input()\n    get disabled(): boolean {\n        return this._disabled === undefined ? this.datepicker.disabled : this._disabled;\n    }\n\n    set disabled(value: boolean) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n\n    /** Datepicker instance that the button will toggle. */\n    @Input('for') datepicker: McDatepicker<D>;\n\n    /** Tabindex for the toggle. */\n    @Input() tabIndex: number | null;\n\n    /** Custom icon set by the consumer. */\n    @ContentChild(McDatepickerToggleIcon, { static: false }) customIcon: McDatepickerToggleIcon;\n\n    /** Underlying button element. */\n    @ViewChild('button', { static: false }) button: McButton;\n    private stateChanges = Subscription.EMPTY;\n\n    private _disabled: boolean;\n\n    constructor(public intl: McDatepickerIntl, private changeDetectorRef: ChangeDetectorRef) {}\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.datepicker) {\n            this.watchStateChanges();\n        }\n    }\n\n    ngOnDestroy() {\n        this.stateChanges.unsubscribe();\n    }\n\n    ngAfterContentInit() {\n        this.watchStateChanges();\n    }\n\n    open(event: Event): void {\n        if (this.datepicker && !this.disabled) {\n            this.datepicker.open();\n            event.stopPropagation();\n        }\n    }\n\n    private watchStateChanges() {\n        const datepickerDisabled = this.datepicker ? this.datepicker.disabledChange : observableOf();\n\n        const inputDisabled = this.datepicker && this.datepicker.datepickerInput ?\n            this.datepicker.datepickerInput.disabledChange : observableOf();\n\n        const datepickerToggled = this.datepicker ?\n            merge(this.datepicker.openedStream, this.datepicker.closedStream) :\n            observableOf();\n\n        this.stateChanges.unsubscribe();\n\n        this.stateChanges = merge(\n            this.intl.changes,\n            datepickerDisabled,\n            inputDisabled,\n            datepickerToggled\n        ).subscribe(() => this.changeDetectorRef.markForCheck());\n    }\n}\n","import { A11yModule } from '@angular/cdk/a11y';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { McButtonModule } from '@ptsecurity/mosaic/button';\nimport { McIconModule } from '@ptsecurity/mosaic/icon';\n\nimport { McCalendarBody } from './calendar-body.component';\nimport { McCalendar, McCalendarHeader } from './calendar.component';\nimport { McDatepickerInput } from './datepicker-input.directive';\nimport { McDatepickerIntl } from './datepicker-intl';\nimport { McDatepickerToggle, McDatepickerToggleIcon } from './datepicker-toggle.component';\nimport {\n    McDatepicker,\n    McDatepickerContent,\n    MC_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER\n} from './datepicker.component';\nimport { McMonthView } from './month-view.component';\nimport { McMultiYearView } from './multi-year-view.component';\nimport { McYearView } from './year-view.component';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        McButtonModule,\n        OverlayModule,\n        A11yModule,\n        PortalModule,\n        McIconModule\n    ],\n    exports: [\n        McCalendar,\n        McCalendarBody,\n        McDatepicker,\n        McDatepickerContent,\n        McDatepickerInput,\n        McDatepickerToggle,\n        McDatepickerToggleIcon,\n        McMonthView,\n        McYearView,\n        McMultiYearView,\n        McCalendarHeader,\n        McButtonModule\n    ],\n    declarations: [\n        McCalendar,\n        McCalendarBody,\n        McDatepicker,\n        McDatepickerContent,\n        McDatepickerInput,\n        McDatepickerToggle,\n        McDatepickerToggleIcon,\n        McMonthView,\n        McYearView,\n        McMultiYearView,\n        McCalendarHeader\n    ],\n    providers: [\n        McDatepickerIntl,\n        MC_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER\n    ],\n    entryComponents: [\n        McDatepickerContent,\n        McCalendarHeader\n    ]\n})\nexport class McDatepickerModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}