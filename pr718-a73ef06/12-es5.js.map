{"version":3,"sources":["webpack:///node_modules/@ptsecurity/mosaic-examples/fesm2015/ptsecurity-mosaic-examples-mosaic-modal.js","webpack:///dist/packages/mosaic/modal/modal-control.service.ts","webpack:///dist/packages/mosaic/modal/modal-ref.class.ts","webpack:///dist/packages/mosaic/modal/modal-util.ts","webpack:///dist/packages/mosaic/modal/modal.type.ts","webpack:///dist/packages/mosaic/modal/modal.component.ts","webpack:///dist/packages/mosaic/modal/css-unit.pipe.ts","webpack:///dist/packages/mosaic/modal/modal.directive.ts","webpack:///dist/packages/mosaic/modal/modal.service.ts","webpack:///dist/packages/mosaic/modal/modal.module.ts","webpack:///dist/packages/mosaic/modal/ptsecurity-mosaic-modal.ts"],"names":["_c0$5","ModalComponentExample","modalService","componentModal","open","mcComponent","McModalCustomComponent","mcComponentParams","title","subtitle","afterOpen","subscribe","console","log","afterClose","action","modalButton","focusViaKeyboard","ɵfac","ModalComponentExample_Factory","t","ɵcmp","type","selectors","viewQuery","ModalComponentExample_Query","rf","ctx","_t","first","decls","vars","consts","template","ModalComponentExample_Template","ModalComponentExample_Template_button_click_0_listener","openModal","directives","styles","ngDevMode","args","selector","templateUrl","styleUrls","modal","destroy","McModalCustomComponent_Factory","inputs","McModalCustomComponent_Template","McModalCustomComponent_Template_button_click_10_listener","destroyModal","McModalCustomComponent_Template_button_click_13_listener","McModalCustomComponent_Template_button_click_15_listener","encapsulation","_c0$4","_c1$2","ModalFocusContentExample","McModalFocusContentComponent","getContentComponent","focusedField","focus","ModalFocusContentExample_Factory","ModalFocusContentExample_Query","ModalFocusContentExample_Template","ModalFocusContentExample_Template_button_click_0_listener","McModalFocusContentComponent_Factory","McModalFocusContentComponent_Query","McModalFocusContentComponent_Template","McModalFocusContentComponent_Template_button_click_24_listener","McModalFocusContentComponent_Template_button_click_26_listener","read","_c0$3","_c1$1","_c2$1","ModalOverviewExample","modalRef","confirm","mcSize","Small","mcMaskClosable","mcContent","mcOkText","mcCancelText","mcOnOk","confirmModal","success","successModal","mcWidth","mcOnCancel","deleteModal","ModalOverviewExample_Factory","ModalOverviewExample_Query","ModalOverviewExample_Template","ModalOverviewExample_Template_button_click_1_listener","showConfirmModal","ModalOverviewExample_Template_button_click_4_listener","showSuccessModal","ModalOverviewExample_Template_button_click_7_listener","showDeleteModal","McLongComponent_p_0_Template","item_r1","$implicit","_c0$2","McLongComponent","longText","i","push","McLongComponent_Factory","McLongComponent_Template","ModalScrollExample","create","mcTitle","ModalScrollExample_Factory","ModalScrollExample_Query","ModalScrollExample_Template","ModalScrollExample_Template_button_click_0_listener","createLongModal","_c0$1","_c1","_c2","_c3","ModalSizesExample","smallButton","defaultButton","Large","largeButton","customButton","ModalSizesExample_Factory","ModalSizesExample_Query","ModalSizesExample_Template","ModalSizesExample_Template_button_click_1_listener","showSmallModal","ModalSizesExample_Template_button_click_4_listener","showDefaultModal","ModalSizesExample_Template_button_click_7_listener","showLargeModal","ModalSizesExample_Template_button_click_10_listener","showCustomModal","_c0","ModalTemplateExample_ng_template_3_Template","ModalTemplateExample_ng_template_5_Template","ModalTemplateExample_ng_template_7_Template","_r8","ModalTemplateExample_ng_template_7_Template_button_click_0_listener","ctx_r7","destroyTplModal","ModalTemplateExample","tplTitle","tplContent","tplFooter","tplModal","mcFooter","triggerOk","ModalTemplateExample_Factory","ModalTemplateExample_Query","ModalTemplateExample_Template","_r9","ModalTemplateExample_Template_button_click_0_listener","_r1","_r3","_r5","createTplModal","EXAMPLES","ModalExamplesModule","ModalExamplesModule_Factory","ɵmod","ɵinj","imports","ngJitMode","declarations","exports","McModalControlService","parentService","rootOpenModals","rootAfterAllClose","rootRegisteredMetaMap","Map","afterAllClose","openModals","registeredMetaMap","hasRegistered","afterOpenSubscription","afterCloseSubscription","removeOpenModal","set","has","length","close","index","indexOf","splice","next","McModalRef","ModalUtil","document","lastPosition","x","y","listenDocumentClick","addEventListener","event","clientX","clientY","modalUtilObject","ModalSize","MODAL_ANIMATE_DURATION","McModalComponent","overlay","renderer","cfr","elementRef","viewContainer","modalControl","changeDetector","mcModalType","_mcVisible","mcVisibleChange","mcZIndex","Normal","mcCloseByESC","_mcClosable","_mcMask","_mcMaskClosable","mcAfterOpen","mcAfterClose","mcOkType","_mcOkLoading","_mcCancelLoading","isTopOverflow","isBottomOverflow","transformOrigin","mcGetContainer","value","asObservable","mcVisible","animationState","isComponent","createDynamicComponent","isModalButtons","formatModalButtons","container","HTMLElement","appendChild","nativeElement","overlayElement","registerModal","changes","handleVisibleStateChange","firstChange","contentComponentRef","bodyContainer","insert","hostView","getElement","getElementsByTagName","autoFocusedButtons","toArray","autoFocusedButton","autofocus","checkOverflow","dispose","modalBody","scrollTop","offsetHeight","scrollHeight","changeVisibleFromInside","result","markForCheck","onClickOkCancel","instance","getElementsByClassName","item","$event","mcMask","target","classList","contains","keyCode","preventDefault","ctrlKey","querySelector","click","trigger","ok","cancel","loadingKey","emit","caseClose","doClose","isPromise","handleThen","then","Array","isArray","options","prop","apply","button","getButtonCallableProp","loading","visible","animation","closeResult","changeBodyOverflow","Promise","resolve","animateTo","state","maskAnimationClassMap","modalAnimationClassMap","changeDetectorRef","isVisible","window","setTimeout","updateTransformOrigin","changeAnimationState","buttons","map","size","autoLoading","show","disabled","component","factory","resolveComponentFactory","childInjector","providers","provide","useValue","parent","injector","Object","assign","detectChanges","modalElement","modalContainer","getLastClickPosition","offsetLeft","offsetTop","plusNum","setStyle","body","removeStyle","obj","CssUnitPipe","defaultUnit","formatted","isNaN","McModalTitle","McModalBody","McModalFooter","McModalMainAction","ModalBuilderForService","createModal","undefined","changeProps","overlayRef","keydownEvents","pipe","attach","McModalService","closeAll","getInstance","confirmType","warn","mcClassName","simpleConfirm","McModalModule"],"mappings":"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","file":"12-es5.js","sourcesContent":["import * as i1$1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Component, ViewChild, Input, NgModule } from '@angular/core';\nimport * as i3 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport * as i2 from '@ptsecurity/mosaic/button';\nimport { McButtonModule } from '@ptsecurity/mosaic/button';\nimport * as i4 from '@ptsecurity/mosaic/core';\nimport { McFormsModule } from '@ptsecurity/mosaic/core';\nimport * as i5 from '@ptsecurity/mosaic/form-field';\nimport { McFormFieldModule } from '@ptsecurity/mosaic/form-field';\nimport { McIconModule } from '@ptsecurity/mosaic/icon';\nimport * as i6 from '@ptsecurity/mosaic/input';\nimport { McInput, McInputModule } from '@ptsecurity/mosaic/input';\nimport * as i1 from '@ptsecurity/mosaic/modal';\nimport { ModalSize, McModalModule } from '@ptsecurity/mosaic/modal';\n\n// tslint:disable:no-console\nconst _c0$5 = [\"modalButton\"];\n/**\n * @title Component Modal\n */\nclass ModalComponentExample {\n    constructor(modalService) {\n        this.modalService = modalService;\n    }\n    openModal() {\n        this.componentModal = this.modalService.open({\n            mcComponent: McModalCustomComponent,\n            mcComponentParams: {\n                title: 'Title',\n                subtitle: 'Subtitle'\n            }\n        });\n        this.componentModal.afterOpen.subscribe(() => {\n            console.log('[afterOpen] emitted!');\n        });\n        this.componentModal.afterClose.subscribe((action) => {\n            this.modalButton.focusViaKeyboard();\n            console.log(`[afterClose] emitted, chosen action: ${action}`);\n        });\n    }\n}\nModalComponentExample.ɵfac = function ModalComponentExample_Factory(t) { return new (t || ModalComponentExample)(i0.ɵɵdirectiveInject(i1.McModalService)); };\nModalComponentExample.ɵcmp = i0.ɵɵdefineComponent({ type: ModalComponentExample, selectors: [[\"modal-component-example\"]], viewQuery: function ModalComponentExample_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵviewQuery(_c0$5, 1);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modalButton = _t.first);\n    } }, decls: 3, vars: 0, consts: [[\"mc-button\", \"\", 3, \"click\"], [\"modalButton\", \"\"]], template: function ModalComponentExample_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0, 1);\n        i0.ɵɵlistener(\"click\", function ModalComponentExample_Template_button_click_0_listener() { return ctx.openModal(); });\n        i0.ɵɵtext(2, \"Open Modal\");\n        i0.ɵɵelementEnd();\n    } }, directives: [i2.McButton, i2.McButtonCssStyler], styles: [\"\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ModalComponentExample, [{\n        type: Component,\n        args: [{\n                selector: 'modal-component-example',\n                templateUrl: 'modal-component-example.html',\n                styleUrls: ['modal-component-example.css']\n            }]\n    }], function () { return [{ type: i1.McModalService }]; }, { modalButton: [{\n            type: ViewChild,\n            args: ['modalButton']\n        }] }); })();\nclass McModalCustomComponent {\n    constructor(modal) {\n        this.modal = modal;\n    }\n    destroyModal(action) {\n        this.modal.destroy(action);\n    }\n}\nMcModalCustomComponent.ɵfac = function McModalCustomComponent_Factory(t) { return new (t || McModalCustomComponent)(i0.ɵɵdirectiveInject(i1.McModalRef)); };\nMcModalCustomComponent.ɵcmp = i0.ɵɵdefineComponent({ type: McModalCustomComponent, selectors: [[\"mc-modal-full-custom-component\"]], inputs: { title: \"title\", subtitle: \"subtitle\" }, decls: 17, vars: 4, consts: [[\"mc-button\", \"\", 3, \"color\", \"click\"], [\"mc-modal-footer\", \"\"], [\"mc-button\", \"\", \"autofocus\", \"\", 3, \"click\"]], template: function McModalCustomComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mc-modal-title\");\n        i0.ɵɵtext(1, \" Modal Title \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"mc-modal-body\");\n        i0.ɵɵelementStart(3, \"h2\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"h4\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\");\n        i0.ɵɵelementStart(8, \"span\");\n        i0.ɵɵtext(9, \"Get Modal instance in component\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function McModalCustomComponent_Template_button_click_10_listener() { return ctx.destroyModal(\"close\"); });\n        i0.ɵɵtext(11, \"destroy modal in the component\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 1);\n        i0.ɵɵelementStart(13, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function McModalCustomComponent_Template_button_click_13_listener() { return ctx.destroyModal(\"save\"); });\n        i0.ɵɵtext(14, \"Save\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function McModalCustomComponent_Template_button_click_15_listener() { return ctx.destroyModal(\"close\"); });\n        i0.ɵɵtext(16, \"Close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.title);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.subtitle);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"color\", \"primary\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"color\", \"primary\");\n    } }, directives: [i1.McModalTitle, i1.McModalBody, i2.McButton, i2.McButtonCssStyler, i1.McModalFooter], encapsulation: 2 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(McModalCustomComponent, [{\n        type: Component,\n        args: [{\n                selector: 'mc-modal-full-custom-component',\n                template: `\n        <mc-modal-title>\n            Modal Title\n        </mc-modal-title>\n\n        <mc-modal-body>\n            <h2>{{ title }}</h2>\n            <h4>{{ subtitle }}</h4>\n            <p>\n                <span>Get Modal instance in component</span>\n                <button mc-button [color]=\"'primary'\" (click)=\"destroyModal('close')\">destroy modal in the component</button>\n            </p>\n        </mc-modal-body>\n\n        <div mc-modal-footer>\n            <button mc-button [color]=\"'primary'\" (click)=\"destroyModal('save')\">Save</button>\n            <button mc-button autofocus (click)=\"destroyModal('close')\">Close</button>\n        </div>\n  `\n            }]\n    }], function () { return [{ type: i1.McModalRef }]; }, { title: [{\n            type: Input\n        }], subtitle: [{\n            type: Input\n        }] }); })();\n\n// tslint:disable:no-console\nconst _c0$4 = [\"modalButton\"];\nconst _c1$2 = [\"focusedField\"];\n/**\n * @title Modal with focused content\n */\nclass ModalFocusContentExample {\n    constructor(modalService) {\n        this.modalService = modalService;\n    }\n    openModal() {\n        this.componentModal = this.modalService.open({ mcComponent: McModalFocusContentComponent });\n        this.componentModal.afterOpen\n            .subscribe(() => this.componentModal.getContentComponent().focusedField.focus());\n        this.componentModal.afterClose\n            .subscribe(() => this.modalButton.focusViaKeyboard());\n    }\n}\nModalFocusContentExample.ɵfac = function ModalFocusContentExample_Factory(t) { return new (t || ModalFocusContentExample)(i0.ɵɵdirectiveInject(i1.McModalService)); };\nModalFocusContentExample.ɵcmp = i0.ɵɵdefineComponent({ type: ModalFocusContentExample, selectors: [[\"modal-focus-content-example\"]], viewQuery: function ModalFocusContentExample_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵviewQuery(_c0$4, 1);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modalButton = _t.first);\n    } }, decls: 3, vars: 0, consts: [[\"mc-button\", \"\", 1, \"modal-example-button\", 3, \"click\"], [\"modalButton\", \"\"]], template: function ModalFocusContentExample_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0, 1);\n        i0.ɵɵlistener(\"click\", function ModalFocusContentExample_Template_button_click_0_listener() { return ctx.openModal(); });\n        i0.ɵɵtext(2, \" Open Modal\\n\");\n        i0.ɵɵelementEnd();\n    } }, directives: [i2.McButton, i2.McButtonCssStyler], styles: [\"\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ModalFocusContentExample, [{\n        type: Component,\n        args: [{\n                selector: 'modal-focus-content-example',\n                templateUrl: 'modal-focus-content-example.html',\n                styleUrls: ['modal-focus-content-example.css']\n            }]\n    }], function () { return [{ type: i1.McModalService }]; }, { modalButton: [{\n            type: ViewChild,\n            args: ['modalButton']\n        }] }); })();\nclass McModalFocusContentComponent {\n    constructor(modal) {\n        this.modal = modal;\n    }\n    destroyModal(action) {\n        this.modal.destroy(action);\n    }\n}\nMcModalFocusContentComponent.ɵfac = function McModalFocusContentComponent_Factory(t) { return new (t || McModalFocusContentComponent)(i0.ɵɵdirectiveInject(i1.McModalRef)); };\nMcModalFocusContentComponent.ɵcmp = i0.ɵɵdefineComponent({ type: McModalFocusContentComponent, selectors: [[\"mc-modal-focus-content-component\"]], viewQuery: function McModalFocusContentComponent_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵviewQuery(_c1$2, 1, McInput);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.focusedField = _t.first);\n    } }, decls: 28, vars: 1, consts: [[\"novalidate\", \"\", 1, \"mc-form-horizontal\", \"margin\"], [1, \"mc-form__row\"], [1, \"mc-form__label\"], [1, \"mc-form__control\", \"flex-80\"], [\"name\", \"input\", \"mcInput\", \"\"], [\"focusedField\", \"\"], [1, \"mc-form__control\", \"flex-50\"], [1, \"mc-form__control\", \"flex-30\"], [\"mc-modal-footer\", \"\"], [\"mc-button\", \"\", 3, \"color\", \"click\"], [\"mc-button\", \"\", \"autofocus\", \"\", 3, \"click\"]], template: function McModalFocusContentComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mc-modal-title\");\n        i0.ɵɵtext(1, \"Modal Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"mc-modal-body\");\n        i0.ɵɵelementStart(3, \"form\", 0);\n        i0.ɵɵelementStart(4, \"div\", 1);\n        i0.ɵɵelementStart(5, \"label\", 2);\n        i0.ɵɵtext(6, \"\\u041F\\u043E\\u0434\\u043F\\u0438\\u0441\\u044C \\u043F\\u043E\\u043B\\u044F\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"mc-form-field\", 3);\n        i0.ɵɵelement(8, \"input\", 4, 5);\n        i0.ɵɵelementStart(10, \"mc-hint\");\n        i0.ɵɵtext(11, \"\\u041F\\u043E\\u0434\\u0441\\u043A\\u0430\\u0437\\u043A\\u0430 \\u043F\\u043E\\u0434 \\u043F\\u043E\\u043B\\u0435\\u043C\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 1);\n        i0.ɵɵelementStart(13, \"label\", 2);\n        i0.ɵɵtext(14, \"\\u041F\\u043E\\u0434\\u043F\\u0438\\u0441\\u044C \\u043F\\u043E\\u043B\\u044F\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mc-form-field\", 6);\n        i0.ɵɵelement(16, \"input\", 4);\n        i0.ɵɵelementStart(17, \"mc-hint\");\n        i0.ɵɵtext(18, \"\\u041F\\u043E\\u0434\\u0441\\u043A\\u0430\\u0437\\u043A\\u0430 \\u043F\\u043E\\u0434 \\u043F\\u043E\\u043B\\u0435\\u043C\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"mc-form-field\", 7);\n        i0.ɵɵelement(20, \"input\", 4);\n        i0.ɵɵelementStart(21, \"mc-hint\");\n        i0.ɵɵtext(22, \"\\u041F\\u043E\\u0434\\u0441\\u043A\\u0430\\u0437\\u043A\\u0430 \\u043F\\u043E\\u0434 \\u043F\\u043E\\u043B\\u0435\\u043C\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 8);\n        i0.ɵɵelementStart(24, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function McModalFocusContentComponent_Template_button_click_24_listener() { return ctx.destroyModal(\"save\"); });\n        i0.ɵɵtext(25, \"Save\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function McModalFocusContentComponent_Template_button_click_26_listener() { return ctx.destroyModal(\"close\"); });\n        i0.ɵɵtext(27, \"Close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"color\", \"primary\");\n    } }, directives: [i1.McModalTitle, i1.McModalBody, i3.ɵangular_packages_forms_forms_ba, i3.NgControlStatusGroup, i3.NgForm, i4.McForm, i4.McFormElement, i5.McFormField, i6.McInput, i5.McHint, i1.McModalFooter, i2.McButton, i2.McButtonCssStyler], encapsulation: 2 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(McModalFocusContentComponent, [{\n        type: Component,\n        args: [{\n                selector: 'mc-modal-focus-content-component',\n                template: `\n        <mc-modal-title>Modal Title</mc-modal-title>\n\n        <mc-modal-body>\n            <form class=\"mc-form-horizontal margin\" novalidate>\n                <div class=\"mc-form__row\">\n                    <label class=\"mc-form__label\">Подпись поля</label>\n                    <mc-form-field class=\"mc-form__control flex-80\">\n                        <input name=\"input\" #focusedField mcInput>\n\n                        <mc-hint>Подсказка под полем</mc-hint>\n                    </mc-form-field>\n                </div>\n\n                <div class=\"mc-form__row\">\n                    <label class=\"mc-form__label\">Подпись поля</label>\n                    <mc-form-field class=\"mc-form__control flex-50\">\n                        <input name=\"input\" mcInput>\n\n                        <mc-hint>Подсказка под полем</mc-hint>\n                    </mc-form-field>\n                    <mc-form-field class=\"mc-form__control flex-30\">\n                        <input name=\"input\" mcInput>\n\n                        <mc-hint>Подсказка под полем</mc-hint>\n                    </mc-form-field>\n                </div>\n            </form>\n        </mc-modal-body>\n\n        <div mc-modal-footer>\n            <button mc-button [color]=\"'primary'\" (click)=\"destroyModal('save')\">Save</button>\n            <button mc-button autofocus (click)=\"destroyModal('close')\">Close</button>\n        </div>\n  `\n            }]\n    }], function () { return [{ type: i1.McModalRef }]; }, { focusedField: [{\n            type: ViewChild,\n            args: ['focusedField', { read: McInput }]\n        }] }); })();\n\n// tslint:disable:no-console\nconst _c0$3 = [\"confirm\"];\nconst _c1$1 = [\"success\"];\nconst _c2$1 = [\"delete\"];\n/**\n * @title Basic Modal\n */\nclass ModalOverviewExample {\n    constructor(modalService) {\n        this.modalService = modalService;\n    }\n    showConfirmModal() {\n        const modalRef = this.modalService.confirm({\n            mcSize: ModalSize.Small,\n            mcMaskClosable: true,\n            mcContent: 'Save changes?',\n            mcOkText: 'Save',\n            mcCancelText: 'Cancel',\n            mcOnOk: () => console.log('OK')\n        });\n        modalRef.afterClose.subscribe(() => this.confirmModal.focusViaKeyboard());\n    }\n    showSuccessModal() {\n        const modalRef = this.modalService.success({\n            mcSize: ModalSize.Small,\n            mcMaskClosable: true,\n            mcContent: 'All changes are saved!',\n            mcOkText: 'ОК',\n            mcCancelText: 'Cancel',\n            mcOnOk: () => console.log('OK')\n        });\n        modalRef.afterClose.subscribe(() => this.successModal.focusViaKeyboard());\n    }\n    showDeleteModal() {\n        const modalRef = this.modalService.delete({\n            mcContent: 'The tasks, policies and tags associated with the customer will be deleted too. Delete selected customer?',\n            mcOkText: 'Delete',\n            mcCancelText: 'Cancel',\n            mcWidth: '480px',\n            mcMaskClosable: true,\n            mcOnOk: () => console.log('Delete'),\n            mcOnCancel: () => console.log('Cancel')\n        });\n        modalRef.afterClose.subscribe(() => this.deleteModal.focusViaKeyboard());\n    }\n}\nModalOverviewExample.ɵfac = function ModalOverviewExample_Factory(t) { return new (t || ModalOverviewExample)(i0.ɵɵdirectiveInject(i1.McModalService)); };\nModalOverviewExample.ɵcmp = i0.ɵɵdefineComponent({ type: ModalOverviewExample, selectors: [[\"modal-overview-example\"]], viewQuery: function ModalOverviewExample_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵviewQuery(_c0$3, 1);\n        i0.ɵɵviewQuery(_c1$1, 1);\n        i0.ɵɵviewQuery(_c2$1, 1);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.confirmModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.successModal = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.deleteModal = _t.first);\n    } }, decls: 10, vars: 0, consts: [[1, \"example-container\"], [\"mc-button\", \"\", 3, \"click\"], [\"confirm\", \"\"], [\"success\", \"\"], [\"delete\", \"\"]], template: function ModalOverviewExample_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"button\", 1, 2);\n        i0.ɵɵlistener(\"click\", function ModalOverviewExample_Template_button_click_1_listener() { return ctx.showConfirmModal(); });\n        i0.ɵɵtext(3, \"Open Confirm Modal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 1, 3);\n        i0.ɵɵlistener(\"click\", function ModalOverviewExample_Template_button_click_4_listener() { return ctx.showSuccessModal(); });\n        i0.ɵɵtext(6, \"Open Success Modal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 1, 4);\n        i0.ɵɵlistener(\"click\", function ModalOverviewExample_Template_button_click_7_listener() { return ctx.showDeleteModal(); });\n        i0.ɵɵtext(9, \"Open Delete Modal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } }, directives: [i2.McButton, i2.McButtonCssStyler], styles: [\".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px}.example-container[_ngcontent-%COMP%] > .mc-button[_ngcontent-%COMP%]{margin-bottom:16px}\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ModalOverviewExample, [{\n        type: Component,\n        args: [{\n                selector: 'modal-overview-example',\n                templateUrl: 'modal-overview-example.html',\n                styleUrls: ['modal-overview-example.css']\n            }]\n    }], function () { return [{ type: i1.McModalService }]; }, { confirmModal: [{\n            type: ViewChild,\n            args: ['confirm']\n        }], successModal: [{\n            type: ViewChild,\n            args: ['success']\n        }], deleteModal: [{\n            type: ViewChild,\n            args: ['delete']\n        }] }); })();\n\nfunction McLongComponent_p_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r1);\n} }\nconst _c0$2 = [\"modalButton\"];\nclass McLongComponent {\n    constructor() {\n        this.longText = [];\n        // tslint:disable-next-line:no-magic-numbers\n        for (let i = 0; i < 50; i++) {\n            this.longText.push(`text lint - ${i}`);\n        }\n    }\n}\nMcLongComponent.ɵfac = function McLongComponent_Factory(t) { return new (t || McLongComponent)(); };\nMcLongComponent.ɵcmp = i0.ɵɵdefineComponent({ type: McLongComponent, selectors: [[\"mc-long-component\"]], decls: 1, vars: 1, consts: [[4, \"ngFor\", \"ngForOf\"]], template: function McLongComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, McLongComponent_p_0_Template, 2, 1, \"p\", 0);\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.longText);\n    } }, directives: [i1$1.NgForOf], encapsulation: 2 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(McLongComponent, [{\n        type: Component,\n        args: [{\n                selector: 'mc-long-component',\n                template: `\n        <p *ngFor=\"let item of longText\">{{ item }}</p>\n    `\n            }]\n    }], function () { return []; }, null); })();\n/**\n * @title Component Modal Scroll\n */\nclass ModalScrollExample {\n    constructor(modalService) {\n        this.modalService = modalService;\n    }\n    createLongModal() {\n        const modalRef = this.modalService.create({\n            mcSize: ModalSize.Small,\n            mcTitle: 'Modal Title',\n            mcContent: McLongComponent,\n            mcOkText: 'Yes',\n            mcCancelText: 'No'\n        });\n        modalRef.afterClose.subscribe(() => this.modalButton.focusViaKeyboard());\n    }\n}\nModalScrollExample.ɵfac = function ModalScrollExample_Factory(t) { return new (t || ModalScrollExample)(i0.ɵɵdirectiveInject(i1.McModalService)); };\nModalScrollExample.ɵcmp = i0.ɵɵdefineComponent({ type: ModalScrollExample, selectors: [[\"modal-scroll-example\"]], viewQuery: function ModalScrollExample_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵviewQuery(_c0$2, 1);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modalButton = _t.first);\n    } }, decls: 3, vars: 0, consts: [[\"mc-button\", \"\", 3, \"click\"], [\"modalButton\", \"\"]], template: function ModalScrollExample_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0, 1);\n        i0.ɵɵlistener(\"click\", function ModalScrollExample_Template_button_click_0_listener() { return ctx.createLongModal(); });\n        i0.ɵɵtext(2, \"Open Modal\");\n        i0.ɵɵelementEnd();\n    } }, directives: [i2.McButton, i2.McButtonCssStyler], styles: [\"\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ModalScrollExample, [{\n        type: Component,\n        args: [{\n                selector: 'modal-scroll-example',\n                template: `<button #modalButton mc-button (click)=\"createLongModal()\">Open Modal</button>`,\n                styleUrls: ['modal-scroll-example.css']\n            }]\n    }], function () { return [{ type: i1.McModalService }]; }, { modalButton: [{\n            type: ViewChild,\n            args: ['modalButton']\n        }] }); })();\n\n// tslint:disable:no-console\nconst _c0$1 = [\"small\"];\nconst _c1 = [\"default\"];\nconst _c2 = [\"large\"];\nconst _c3 = [\"custom\"];\n/**\n * @title Sizes Modal\n */\nclass ModalSizesExample {\n    constructor(modalService) {\n        this.modalService = modalService;\n    }\n    showSmallModal() {\n        const modalRef = this.modalService.confirm({\n            mcSize: ModalSize.Small,\n            mcContent: 'Save changes?',\n            mcOkText: 'Save',\n            mcCancelText: 'Cancel',\n            mcOnOk: () => console.log('OK')\n        });\n        modalRef.afterClose.subscribe(() => this.smallButton.focusViaKeyboard());\n    }\n    showDefaultModal() {\n        const modalRef = this.modalService.confirm({\n            mcContent: 'Save changes?',\n            mcOkText: 'Save',\n            mcCancelText: 'Cancel',\n            mcOnOk: () => console.log('OK')\n        });\n        modalRef.afterClose.subscribe(() => this.defaultButton.focusViaKeyboard());\n    }\n    showLargeModal() {\n        const modalRef = this.modalService.confirm({\n            mcSize: ModalSize.Large,\n            mcContent: 'Save changes?',\n            mcOkText: 'Save',\n            mcCancelText: 'Cancel',\n            mcOnOk: () => console.log('Delete'),\n            mcOnCancel: () => console.log('Cancel')\n        });\n        modalRef.afterClose.subscribe(() => this.largeButton.focusViaKeyboard());\n    }\n    showCustomModal() {\n        const modalRef = this.modalService.confirm({\n            mcWidth: '600px',\n            mcContent: 'Save changes?',\n            mcOkText: 'Save',\n            mcCancelText: 'Cancel',\n            mcOnOk: () => console.log('Delete'),\n            mcOnCancel: () => console.log('Cancel')\n        });\n        modalRef.afterClose.subscribe(() => this.customButton.focusViaKeyboard());\n    }\n}\nModalSizesExample.ɵfac = function ModalSizesExample_Factory(t) { return new (t || ModalSizesExample)(i0.ɵɵdirectiveInject(i1.McModalService)); };\nModalSizesExample.ɵcmp = i0.ɵɵdefineComponent({ type: ModalSizesExample, selectors: [[\"modal-sizes-example\"]], viewQuery: function ModalSizesExample_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵviewQuery(_c0$1, 1);\n        i0.ɵɵviewQuery(_c1, 1);\n        i0.ɵɵviewQuery(_c2, 1);\n        i0.ɵɵviewQuery(_c3, 1);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.smallButton = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.defaultButton = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.largeButton = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.customButton = _t.first);\n    } }, decls: 13, vars: 0, consts: [[1, \"example-container\"], [\"mc-button\", \"\", 3, \"click\"], [\"small\", \"\"], [\"default\", \"\"], [\"large\", \"\"], [\"custom\", \"\"]], template: function ModalSizesExample_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"button\", 1, 2);\n        i0.ɵɵlistener(\"click\", function ModalSizesExample_Template_button_click_1_listener() { return ctx.showSmallModal(); });\n        i0.ɵɵtext(3, \"Small\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 1, 3);\n        i0.ɵɵlistener(\"click\", function ModalSizesExample_Template_button_click_4_listener() { return ctx.showDefaultModal(); });\n        i0.ɵɵtext(6, \"Default\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 1, 4);\n        i0.ɵɵlistener(\"click\", function ModalSizesExample_Template_button_click_7_listener() { return ctx.showLargeModal(); });\n        i0.ɵɵtext(9, \"Large\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 1, 5);\n        i0.ɵɵlistener(\"click\", function ModalSizesExample_Template_button_click_10_listener() { return ctx.showCustomModal(); });\n        i0.ɵɵtext(12, \"Custom width\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } }, directives: [i2.McButton, i2.McButtonCssStyler], styles: [\".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:200px}.example-container[_ngcontent-%COMP%] > .mc-button[_ngcontent-%COMP%]{margin-bottom:16px}\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ModalSizesExample, [{\n        type: Component,\n        args: [{\n                selector: 'modal-sizes-example',\n                templateUrl: 'modal-sizes-example.html',\n                styleUrls: ['modal-sizes-example.css']\n            }]\n    }], function () { return [{ type: i1.McModalService }]; }, { smallButton: [{\n            type: ViewChild,\n            args: ['small']\n        }], defaultButton: [{\n            type: ViewChild,\n            args: ['default']\n        }], largeButton: [{\n            type: ViewChild,\n            args: ['large']\n        }], customButton: [{\n            type: ViewChild,\n            args: ['custom']\n        }] }); })();\n\n// tslint:disable:no-console\nconst _c0 = [\"modalButton\"];\nfunction ModalTemplateExample_ng_template_3_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Title\");\n    i0.ɵɵelementEnd();\n} }\nfunction ModalTemplateExample_ng_template_5_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"content...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"content...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"content...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"content...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9, \"content...\");\n    i0.ɵɵelementEnd();\n} }\nfunction ModalTemplateExample_ng_template_7_Template(rf, ctx) { if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ModalTemplateExample_ng_template_7_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r8); const ctx_r7 = i0.ɵɵnextContext(); return ctx_r7.destroyTplModal(); });\n    i0.ɵɵtext(1, \"Save\");\n    i0.ɵɵelementEnd();\n} }\n/**\n * @title Template Modal\n */\nclass ModalTemplateExample {\n    constructor(modalService) {\n        this.modalService = modalService;\n    }\n    createTplModal(tplTitle, tplContent, tplFooter) {\n        this.tplModal = this.modalService.create({\n            mcTitle: tplTitle,\n            mcContent: tplContent,\n            mcFooter: tplFooter,\n            mcOnOk: () => console.log('Click ok')\n        });\n        this.tplModal.afterClose.subscribe(() => this.modalButton.focusViaKeyboard());\n    }\n    destroyTplModal() {\n        this.tplModal.triggerOk();\n        this.tplModal.destroy();\n    }\n}\nModalTemplateExample.ɵfac = function ModalTemplateExample_Factory(t) { return new (t || ModalTemplateExample)(i0.ɵɵdirectiveInject(i1.McModalService)); };\nModalTemplateExample.ɵcmp = i0.ɵɵdefineComponent({ type: ModalTemplateExample, selectors: [[\"modal-template-example\"]], viewQuery: function ModalTemplateExample_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 1);\n    } if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modalButton = _t.first);\n    } }, decls: 9, vars: 0, consts: [[\"mc-button\", \"\", 1, \"modal-example-button\", 3, \"click\"], [\"modalButton\", \"\"], [\"tplTitle\", \"\"], [\"tplContent\", \"\"], [\"tplFooter\", \"\"], [\"mc-button\", \"\", 3, \"click\"]], template: function ModalTemplateExample_Template(rf, ctx) { if (rf & 1) {\n        const _r9 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"button\", 0, 1);\n        i0.ɵɵlistener(\"click\", function ModalTemplateExample_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r9); const _r1 = i0.ɵɵreference(4); const _r3 = i0.ɵɵreference(6); const _r5 = i0.ɵɵreference(8); return ctx.createTplModal(_r1, _r3, _r5); });\n        i0.ɵɵtext(2, \"Delete\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, ModalTemplateExample_ng_template_3_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(5, ModalTemplateExample_ng_template_5_Template, 10, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(7, ModalTemplateExample_ng_template_7_Template, 2, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    } }, directives: [i2.McButton, i2.McButtonCssStyler], styles: [\"\"] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ModalTemplateExample, [{\n        type: Component,\n        args: [{\n                selector: 'modal-template-example',\n                templateUrl: 'modal-template-example.html',\n                styleUrls: ['modal-template-example.css']\n            }]\n    }], function () { return [{ type: i1.McModalService }]; }, { modalButton: [{\n            type: ViewChild,\n            args: ['modalButton']\n        }] }); })();\n\nconst EXAMPLES = [\n    ModalOverviewExample,\n    ModalComponentExample,\n    McModalCustomComponent,\n    ModalTemplateExample,\n    ModalScrollExample,\n    McLongComponent,\n    ModalSizesExample,\n    ModalFocusContentExample,\n    McModalFocusContentComponent\n];\nclass ModalExamplesModule {\n}\nModalExamplesModule.ɵfac = function ModalExamplesModule_Factory(t) { return new (t || ModalExamplesModule)(); };\nModalExamplesModule.ɵmod = i0.ɵɵdefineNgModule({ type: ModalExamplesModule });\nModalExamplesModule.ɵinj = i0.ɵɵdefineInjector({ imports: [[\n            CommonModule,\n            FormsModule,\n            McButtonModule,\n            McModalModule,\n            McIconModule,\n            McInputModule,\n            McFormFieldModule,\n            McFormsModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(ModalExamplesModule, { declarations: [ModalOverviewExample,\n        ModalComponentExample,\n        McModalCustomComponent,\n        ModalTemplateExample,\n        ModalScrollExample,\n        McLongComponent,\n        ModalSizesExample,\n        ModalFocusContentExample,\n        McModalFocusContentComponent], imports: [CommonModule,\n        FormsModule,\n        McButtonModule,\n        McModalModule,\n        McIconModule,\n        McInputModule,\n        McFormFieldModule,\n        McFormsModule], exports: [ModalOverviewExample,\n        ModalComponentExample,\n        McModalCustomComponent,\n        ModalTemplateExample,\n        ModalScrollExample,\n        McLongComponent,\n        ModalSizesExample,\n        ModalFocusContentExample,\n        McModalFocusContentComponent] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ModalExamplesModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    FormsModule,\n                    McButtonModule,\n                    McModalModule,\n                    McIconModule,\n                    McInputModule,\n                    McFormFieldModule,\n                    McFormsModule\n                ],\n                declarations: EXAMPLES,\n                exports: EXAMPLES\n            }]\n    }], null, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { McLongComponent, McModalCustomComponent, McModalFocusContentComponent, ModalComponentExample, ModalExamplesModule, ModalFocusContentExample, ModalOverviewExample, ModalScrollExample, ModalSizesExample, ModalTemplateExample };\n//# sourceMappingURL=ptsecurity-mosaic-examples-mosaic-modal.js.map\n","import { Injectable, Optional, SkipSelf } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\n\nimport { McModalRef } from './modal-ref.class';\n\n\ninterface IRegisteredMeta {\n    modalRef: McModalRef;\n    afterOpenSubscription: Subscription;\n    afterCloseSubscription: Subscription;\n}\n\n@Injectable()\nexport class McModalControlService {\n    // Track singleton afterAllClose through over the injection tree\n    get afterAllClose(): Subject<void> {\n        return this.parentService ? this.parentService.afterAllClose : this.rootAfterAllClose;\n    }\n\n    // Track singleton openModals array through over the injection tree\n    get openModals(): McModalRef[] {\n        return this.parentService ? this.parentService.openModals : this.rootOpenModals;\n    }\n\n    // @ts-ignore\n    private rootOpenModals: McModalRef[] = this.parentService ? null : [];\n    // @ts-ignore\n    private rootAfterAllClose: Subject<void> = this.parentService ? null : new Subject<void>();\n    // @ts-ignore\n    private rootRegisteredMetaMap: Map<McModalRef, IRegisteredMeta> = this.parentService ? null : new Map();\n\n    // Registered modal for later usage\n    private get registeredMetaMap(): Map<McModalRef, IRegisteredMeta> {\n        return this.parentService ? this.parentService.registeredMetaMap : this.rootRegisteredMetaMap;\n    }\n\n    constructor(\n        @Optional() @SkipSelf() private parentService: McModalControlService) {\n    }\n\n    // Register a modal to listen its open/close\n    registerModal(modalRef: McModalRef): void {\n        if (!this.hasRegistered(modalRef)) {\n            const afterOpenSubscription = modalRef.afterOpen.subscribe(() => this.openModals.push(modalRef));\n            const afterCloseSubscription = modalRef.afterClose.subscribe(() => this.removeOpenModal(modalRef));\n\n            this.registeredMetaMap.set(modalRef, {modalRef, afterOpenSubscription, afterCloseSubscription});\n        }\n    }\n\n    hasRegistered(modalRef: McModalRef): boolean {\n        return this.registeredMetaMap.has(modalRef);\n    }\n\n    // Close all registered opened modals\n    closeAll(): void {\n        let i = this.openModals.length;\n\n        while (i--) {\n            this.openModals[i].close();\n        }\n    }\n\n    private removeOpenModal(modalRef: McModalRef): void {\n        const index = this.openModals.indexOf(modalRef);\n\n        if (index > -1) {\n            this.openModals.splice(index, 1);\n\n            if (!this.openModals.length) {\n                this.afterAllClose.next();\n            }\n        }\n    }\n}\n","import { Observable } from 'rxjs';\n\nimport { McModalComponent } from './modal.component';\n\n\n/**\n * API class that public to users to handle the modal instance.\n * McModalRef is aim to avoid accessing to the modal instance directly by users.\n */\n// tslint:disable-next-line:naming-convention\nexport abstract class McModalRef<T = any, R = any> {\n    abstract afterOpen: Observable<void>;\n    abstract afterClose: Observable<R>;\n\n    abstract open(): void;\n\n    abstract close(result?: R): void;\n\n    abstract destroy(result?: R): void;\n\n    /**\n     * Trigger the mcOnOk/mcOnCancel by manual\n     */\n    abstract triggerOk(): void;\n\n    abstract triggerCancel(): void;\n\n    // /**\n    //  * Return the ComponentRef of mcContent when specify mcContent as a Component\n    //  * Note: this method may return undefined if the Component has not ready yet.\n    //    (it only available after Modal's ngOnInit)\n    //  */\n    // abstract getContentComponentRef(): ComponentRef<{}>;\n\n    /**\n     * Return the component instance of mcContent when specify mcContent as a Component\n     * Note: this method may return undefined if the Component has not ready yet.\n     * (it only available after Modal's ngOnInit)\n     */\n    abstract getContentComponent(): T;\n\n    /**\n     * Get the dom element of this Modal\n     */\n    abstract getElement(): HTMLElement;\n\n    /**\n     * Get the instance of the Modal itself\n     */\n    abstract getInstance(): McModalComponent;\n\n    /**\n     * Call markForCheck for change detector\n     */\n    abstract markForCheck();\n}\n","export interface IClickPosition {\n    x: number;\n    y: number;\n}\n\nexport class ModalUtil {\n    private lastPosition: IClickPosition;\n\n    constructor(private document: Document) {\n        this.lastPosition = {x: -1, y: -1};\n        this.listenDocumentClick();\n    }\n\n    getLastClickPosition(): IClickPosition {\n        return this.lastPosition;\n    }\n\n    listenDocumentClick(): void {\n        this.document.addEventListener('click', (event: MouseEvent) => {\n            this.lastPosition = {x: event.clientX, y: event.clientY};\n        });\n    }\n}\n\nexport const modalUtilObject = new ModalUtil(document);\n","import { OverlayRef } from '@angular/cdk/overlay';\nimport { EventEmitter, TemplateRef, Type } from '@angular/core';\n\n\nexport type OnClickCallback<T> = ((instance: T) => (false | void | {}) | Promise<false | void | {}>);\n\n// Different modal styles we have supported\nexport type ModalType = 'default' | 'confirm' | 'custom';\n\n// Subtypes of Confirm Modal\nexport type ConfirmType = 'confirm' | 'success' | 'warn';\n\nexport enum ModalSize {\n    Small = 'small',\n    Normal = 'normal',\n    Large = 'large'\n}\n\n// Public options for using by service\nexport interface IModalOptions<T = any, R = any> {\n    mcModalType?: ModalType;\n    mcVisible?: boolean;\n    mcZIndex?: number;\n    mcWidth?: number | string;\n    mcSize?: ModalSize;\n    mcWrapClassName?: string;\n    mcClassName?: string;\n    mcStyle?: object;\n    mcTitle?: string | TemplateRef<{}>;\n    mcContent?: string | TemplateRef<{}> | Type<T>;\n    mcComponent?: Type<T>; // The instance of component opened into the dialog.\n    mcComponentParams?: Partial<T>;\n    mcClosable?: boolean;\n    mcMask?: boolean;\n    mcMaskClosable?: boolean;\n    mcMaskStyle?: object;\n    mcBodyStyle?: object;\n    mcFooter?: string | TemplateRef<{}> | IModalButtonOptions<T>[]; // Default Modal ONLY\n    mcGetContainer?: HTMLElement | OverlayRef | (() => HTMLElement | OverlayRef) | null; // STATIC\n    mcAfterOpen?: EventEmitter<void>;\n    mcAfterClose?: EventEmitter<R>;\n    mcCloseByESC?: boolean;\n\n    // --- Predefined OK & Cancel buttons\n    mcOkText?: string;\n    mcOkType?: string;\n    mcOkLoading?: boolean;\n    mcOnOk?: EventEmitter<T> | OnClickCallback<T>;\n    mcCancelText?: string;\n    mcCancelLoading?: boolean;\n    mcOnCancel?: EventEmitter<T> | OnClickCallback<T>;\n}\n\n// tslint:disable-next-line:no-any\nexport interface IModalOptionsForService<T = any> extends IModalOptions<T> {\n    mcOnOk?: OnClickCallback<T>;\n    mcOnCancel?: OnClickCallback<T>;\n}\n\nexport interface IModalButtonOptions<T = any> {\n    label: string;\n    // tslint:disable-next-line\n    type?: string;\n    shape?: string;\n    ghost?: boolean;\n    size?: string;\n    // Default: true, indicate whether show loading automatically while onClick returned a Promise\n    autoLoading?: boolean;\n\n    // [NOTE] \"componentInstance\" will refer to the component's instance when using Component\n    show?: boolean | ((this: IModalButtonOptions<T>, contentComponentInstance?: T) => boolean);\n    loading?: boolean | ((this: IModalButtonOptions<T>, contentComponentInstance?: T) => boolean);\n    disabled?: boolean | ((this: IModalButtonOptions<T>, contentComponentInstance?: T) => boolean);\n\n    autoFocus?: boolean;\n    mcModalMainAction?: boolean;\n\n    onClick?(this: IModalButtonOptions<T>, contentComponentInstance?: T): (void | {}) | Promise<(void | {})>;\n}\n","import { Overlay, OverlayRef } from '@angular/cdk/overlay';\nimport { DOCUMENT } from '@angular/common';\nimport {\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ComponentFactoryResolver,\n    ComponentRef,\n    ElementRef,\n    EventEmitter,\n    Inject,\n    Injector,\n    Input,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    Output,\n    QueryList,\n    Renderer2,\n    SimpleChanges,\n    TemplateRef,\n    Type,\n    ViewChild,\n    ViewChildren,\n    ViewContainerRef,\n    ViewEncapsulation\n} from '@angular/core';\nimport { ESCAPE, ENTER } from '@ptsecurity/cdk/keycodes';\nimport { Observable } from 'rxjs';\n\nimport { McModalControlService } from './modal-control.service';\nimport { McModalRef } from './modal-ref.class';\nimport { modalUtilObject as ModalUtil } from './modal-util';\nimport { IModalButtonOptions, IModalOptions, ModalSize, ModalType, OnClickCallback } from './modal.type';\n\n\n// Duration when perform animations (ms)\nexport const MODAL_ANIMATE_DURATION = 200;\n\ntype AnimationState = 'enter' | 'leave' | null;\n\n\n@Component({\n    selector: 'mc-modal',\n    templateUrl: './modal.component.html',\n    styleUrls: ['./modal.scss'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: {\n        '(keydown)': 'onKeyDown($event)'\n    }\n})\nexport class McModalComponent<T = any, R = any> extends McModalRef<T, R>\n    implements OnInit, OnChanges, AfterViewInit, OnDestroy, IModalOptions {\n\n    @Input() mcModalType: ModalType = 'default';\n\n    // The instance of component opened into the dialog.\n    @Input() mcComponent: Type<T>;\n    // If not specified, will use <ng-content>\n    @Input() mcContent: string | TemplateRef<{}> | Type<T>;\n    // available when mcContent is a component\n    @Input() mcComponentParams: T;\n    // Default Modal ONLY\n    @Input() mcFooter: string | TemplateRef<{}> | IModalButtonOptions<T>[];\n\n    @Input()\n    get mcVisible() { return this._mcVisible; }\n    set mcVisible(value) { this._mcVisible = value; }\n\n    private _mcVisible = false;\n\n    @Output() mcVisibleChange = new EventEmitter<boolean>();\n\n    @Input() mcZIndex: number = 1000;\n    @Input() mcWidth: number | string;\n    @Input() mcSize: ModalSize = ModalSize.Normal;\n    @Input() mcWrapClassName: string;\n    @Input() mcClassName: string;\n    @Input() mcStyle: object;\n    @Input() mcTitle: string | TemplateRef<{}>;\n    @Input() mcCloseByESC: boolean = true;\n\n    @Input()\n    get mcClosable() { return this._mcClosable; }\n    set mcClosable(value) { this._mcClosable = value; }\n    private _mcClosable = true;\n\n    @Input()\n    get mcMask() { return this._mcMask; }\n    set mcMask(value) { this._mcMask = value; }\n    private _mcMask = true;\n\n    @Input()\n    get mcMaskClosable() { return this._mcMaskClosable; }\n    set mcMaskClosable(value) { this._mcMaskClosable = value; }\n    private _mcMaskClosable = false;\n\n    @Input() mcMaskStyle: object;\n    @Input() mcBodyStyle: object;\n\n    // Trigger when modal open(visible) after animations\n    @Output() mcAfterOpen = new EventEmitter<void>();\n    // Trigger when modal leave-animation over\n    @Output() mcAfterClose = new EventEmitter<R>();\n\n    // --- Predefined OK & Cancel buttons\n    @Input() mcOkText: string;\n    @Input() mcOkType = 'primary';\n\n    @Input()\n    get mcOkLoading() { return this._mcOkLoading; }\n    set mcOkLoading(value) { this._mcOkLoading = value; }\n    private _mcOkLoading = false;\n\n    @Input() @Output() mcOnOk: EventEmitter<T> | OnClickCallback<T> = new EventEmitter<T>();\n    @Input() mcCancelText: string;\n\n    @Input()\n    get mcCancelLoading() { return this._mcCancelLoading; }\n    set mcCancelLoading(value) { this._mcCancelLoading = value; }\n    private _mcCancelLoading = false;\n\n    @Input() @Output() mcOnCancel: EventEmitter<T> | OnClickCallback<T> = new EventEmitter<T>();\n\n    @ViewChild('modalContainer', { static: true }) modalContainer: ElementRef;\n    @ViewChild('bodyContainer', { read: ViewContainerRef, static: false }) bodyContainer: ViewContainerRef;\n    // Only aim to focus the ok button that needs to be auto focused\n    @ViewChildren('autoFocusedButton', { read: ElementRef }) autoFocusedButtons: QueryList<ElementRef>;\n\n    @ViewChild('modalBody') modalBody: ElementRef;\n\n    isTopOverflow: boolean = false;\n    isBottomOverflow: boolean = false;\n\n    maskAnimationClassMap: object;\n    modalAnimationClassMap: object;\n    // The origin point that animation based on\n    transformOrigin = '0px 0px 0px';\n\n    // Observable alias for mcAfterOpen\n    get afterOpen(): Observable<void> {\n        return this.mcAfterOpen.asObservable();\n    }\n\n    // Observable alias for mcAfterClose\n    get afterClose(): Observable<R> {\n        return this.mcAfterClose.asObservable();\n    }\n\n    get okText(): string {\n        return this.mcOkText;\n    }\n\n    get cancelText(): string {\n        return this.mcCancelText;\n    }\n\n    // Indicate whether this dialog should hidden\n    get hidden(): boolean {\n        return !this.mcVisible && !this.animationState;\n    }\n\n    // Handle the reference when using mcContent as Component\n    private contentComponentRef: ComponentRef<T>;\n    // Current animation state\n    private animationState: AnimationState;\n    private container: HTMLElement | OverlayRef;\n\n    constructor(\n        private overlay: Overlay,\n        private renderer: Renderer2,\n        private cfr: ComponentFactoryResolver,\n        private elementRef: ElementRef,\n        private viewContainer: ViewContainerRef,\n        private modalControl: McModalControlService,\n        private changeDetector: ChangeDetectorRef,\n        @Inject(DOCUMENT) private document: any\n    ) {\n        super();\n    }\n\n    @Input() mcGetContainer: HTMLElement | OverlayRef | (() => HTMLElement | OverlayRef) = () => this.overlay.create();\n\n    ngOnInit() {\n        // Create component along without View\n        if (this.isComponent(this.mcContent)) {\n            this.createDynamicComponent(this.mcContent as Type<T>);\n        }\n\n        // Setup default button options\n        if (this.isModalButtons(this.mcFooter)) {\n            this.mcFooter = this.formatModalButtons(this.mcFooter as IModalButtonOptions<T>[]);\n        }\n\n        if (this.isComponent(this.mcComponent)) {\n            this.createDynamicComponent(this.mcComponent);\n        }\n\n        // Place the modal dom to elsewhere\n        this.container = typeof this.mcGetContainer === 'function' ? this.mcGetContainer() : this.mcGetContainer;\n        if (this.container instanceof HTMLElement) {\n            this.container.appendChild(this.elementRef.nativeElement);\n        } else if (this.container instanceof OverlayRef) {\n            // NOTE: only attach the dom to overlay, the view container is not changed actually\n            this.container.overlayElement.appendChild(this.elementRef.nativeElement);\n        }\n\n        // Register modal when afterOpen/afterClose is stable\n        this.modalControl.registerModal(this);\n    }\n\n    // [NOTE] NOT available when using by service!\n    // Because ngOnChanges never be called when using by service,\n    // here we can't support \"mcContent\"(Component) etc. as inputs that initialized dynamically.\n    // BUT: User also can change \"mcContent\" dynamically to trigger UI changes\n    // (provided you don't use \bComponent that needs initializations)\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.mcVisible) {\n            // Do not trigger animation while initializing\n            this.handleVisibleStateChange(this.mcVisible, !changes.mcVisible.firstChange);\n        }\n    }\n\n    ngAfterViewInit() {\n        // If using Component, it is the time to attach View while bodyContainer is ready\n        if (this.contentComponentRef) {\n            this.bodyContainer.insert(this.contentComponentRef.hostView);\n        }\n        this.getElement().getElementsByTagName('button')[0]?.focus();\n\n        for (const autoFocusedButton of this.autoFocusedButtons.toArray()) {\n            if (autoFocusedButton.nativeElement.autofocus) {\n                (autoFocusedButton.nativeElement as HTMLButtonElement).focus();\n\n                break;\n            }\n        }\n\n        this.checkOverflow();\n    }\n\n    ngOnDestroy() {\n        if (this.container instanceof OverlayRef) {\n            this.container.dispose();\n        }\n    }\n\n    checkOverflow(): void {\n        const nativeElement = this.modalBody?.nativeElement;\n\n        if (!nativeElement) { return; }\n\n        const scrollTop: number = nativeElement.scrollTop;\n        const offsetHeight: number = nativeElement.offsetHeight;\n        const scrollHeight: number = nativeElement.scrollHeight;\n\n        this.isTopOverflow = scrollTop > 0;\n\n        this.isBottomOverflow = (scrollTop as number + offsetHeight as number) < scrollHeight;\n    }\n\n    open() {\n        this.changeVisibleFromInside(true);\n    }\n\n    close(result?: R) {\n        this.changeVisibleFromInside(false, result);\n    }\n\n    // Destroy equals Close\n    destroy(result?: R) {\n        this.close(result);\n    }\n\n    markForCheck() {\n        this.changeDetector.markForCheck();\n    }\n\n    triggerOk() {\n        this.onClickOkCancel('ok');\n    }\n\n    triggerCancel() {\n        this.onClickOkCancel('cancel');\n    }\n\n    getInstance(): McModalComponent {\n        return this;\n    }\n\n    getContentComponentRef(): ComponentRef<T> {\n        return this.contentComponentRef;\n    }\n\n    getContentComponent(): T {\n        return this.contentComponentRef && this.contentComponentRef.instance;\n    }\n\n    getElement(): HTMLElement {\n        return this.elementRef && this.elementRef.nativeElement;\n    }\n\n    getMcFooter(): HTMLElement {\n        return this.getElement().getElementsByClassName('mc-modal-footer').item(0) as HTMLElement;\n    }\n\n    onClickMask($event: MouseEvent) {\n        if (\n            this.mcMask &&\n            this.mcMaskClosable &&\n            ($event.target as HTMLElement).classList.contains('mc-modal-wrap') &&\n            this.mcVisible\n        ) {\n            this.onClickOkCancel('cancel');\n        }\n    }\n\n    // tslint:disable-next-line: no-reserved-keywords\n    isModalType(type: ModalType): boolean {\n        return this.mcModalType === type;\n    }\n\n    onKeyDown(event: KeyboardEvent): void {\n\n        // tslint:disable-next-line:deprecation .key isn't supported in Edge\n        if (event.keyCode === ESCAPE && this.container && (this.container instanceof OverlayRef)) {\n\n            this.close();\n            event.preventDefault();\n        }\n        // tslint:disable-next-line:deprecation .key isn't supported in Edge\n        if (event.ctrlKey && event.keyCode === ENTER) {\n            if (this.mcModalType === 'confirm') {\n                this.triggerOk();\n            }\n\n            (this.getElement().querySelector('[mc-modal-main-action]') as HTMLElement)?.click();\n\n            event.preventDefault();\n        }\n    }\n\n    // AoT\n    onClickCloseBtn() {\n        if (this.mcVisible) {\n            this.onClickOkCancel('cancel');\n        }\n    }\n\n    // AoT\n    // tslint:disable-next-line: no-reserved-keywords\n    onClickOkCancel(type: 'ok' | 'cancel') {\n        const trigger = { ok: this.mcOnOk, cancel: this.mcOnCancel }[type];\n        const loadingKey = { ok: 'mcOkLoading', cancel: 'mcCancelLoading' }[type];\n\n        if (trigger instanceof EventEmitter) {\n            trigger.emit(this.getContentComponent());\n        } else if (typeof trigger === 'function') {\n\n            const result = trigger(this.getContentComponent());\n            // Users can return \"false\" to prevent closing by default\n            const caseClose = (doClose: boolean | void | {}) => (doClose !== false) && this.close(doClose as R);\n\n            if (isPromise(result)) {\n                this[loadingKey] = true;\n                const handleThen = (doClose) => {\n                    this[loadingKey] = false;\n                    caseClose(doClose);\n                };\n                (result as Promise<void>).then(handleThen).catch(handleThen);\n            } else {\n                caseClose(result);\n            }\n        }\n    }\n\n    // AoT\n    isNonEmptyString(value: {}): boolean {\n        return typeof value === 'string' && value !== '';\n    }\n\n    // AoT\n    isTemplateRef(value: {}): boolean {\n        return value instanceof TemplateRef;\n    }\n\n    // AoT\n    isComponent(value: {}): boolean {\n        return value instanceof Type;\n    }\n\n    // AoT\n    isModalButtons(value: {}): boolean {\n        return Array.isArray(value) && value.length > 0;\n    }\n\n    // Lookup a button's property, if the prop is a function, call & then return the result, otherwise, return itself.\n    // AoT\n    getButtonCallableProp(options: IModalButtonOptions<T>, prop: string): {} {\n        const value = options[prop];\n        const args: any[] = [];\n        if (this.contentComponentRef) {\n            args.push(this.contentComponentRef.instance);\n        }\n\n        return typeof value === 'function' ? value.apply(options, args) : value;\n    }\n\n    // On mcFooter's modal button click\n    // AoT\n    onButtonClick(button: IModalButtonOptions<T>) {\n        // Call onClick directly\n        // tslint:disable-next-line:no-inferred-empty-object-type  rule seems to be broken\n        const result = this.getButtonCallableProp(button, 'onClick');\n        if (isPromise(result)) {\n            button.loading = true;\n            (result as Promise<{}>).then(() => button.loading = false).catch(() => button.loading = false);\n        }\n    }\n\n    // Do rest things when visible state changed\n    private handleVisibleStateChange(visible: boolean, animation: boolean = true, closeResult?: R): Promise<any> {\n        // Hide scrollbar at the first time when shown up\n        if (visible) {\n            this.changeBodyOverflow(1);\n        }\n\n        return Promise\n            .resolve(animation && this.animateTo(visible))\n            // Emit open/close event after animations over\n            .then(() => {\n                if (visible) {\n                    this.mcAfterOpen.emit();\n                } else {\n                    this.mcAfterClose.emit(closeResult);\n                    // Show/hide scrollbar when animation is over\n                    this.changeBodyOverflow();\n                }\n            });\n    }\n\n    // Change mcVisible from inside\n    private changeVisibleFromInside(visible: boolean, closeResult?: R): Promise<void> {\n        if (this.mcVisible !== visible) {\n            // Change mcVisible value immediately\n            this.mcVisible = visible;\n            this.mcVisibleChange.emit(visible);\n\n            return this.handleVisibleStateChange(visible, true, closeResult);\n        }\n\n        return Promise.resolve();\n    }\n\n    private changeAnimationState(state: AnimationState) {\n        this.animationState = state;\n        if (state) {\n            this.maskAnimationClassMap = {\n                [`fade-${state}`]: true,\n                [`fade-${state}-active`]: true\n            };\n\n            this.modalAnimationClassMap = {\n                [`zoom-${state}`]: true,\n                [`zoom-${state}-active`]: true\n            };\n        } else {\n            // @ts-ignore\n            this.maskAnimationClassMap = this.modalAnimationClassMap = null;\n        }\n\n        if (this.contentComponentRef) {\n            this.contentComponentRef.changeDetectorRef.markForCheck();\n        } else {\n            this.changeDetector.markForCheck();\n        }\n    }\n\n    private animateTo(isVisible: boolean): Promise<any> {\n        // Figure out the lastest click position when shows up\n        if (isVisible) {\n            // [NOTE] Using timeout due to the document.click event is fired later than visible change,\n            // so if not postponed to next event-loop, we can't get the lastest click position\n            window.setTimeout(() => this.updateTransformOrigin());\n        }\n\n        this.changeAnimationState(isVisible ? 'enter' : 'leave');\n\n        // Return when animation is over\n        return new Promise((resolve) => {\n            return window.setTimeout(\n                () => {\n                    this.changeAnimationState(null);\n                    resolve();\n                },\n                MODAL_ANIMATE_DURATION\n            );\n        });\n    }\n\n    private formatModalButtons(buttons: IModalButtonOptions<T>[]): IModalButtonOptions<T>[] {\n        return buttons.map((button) => {\n\n            return {\n                ...{\n                    type: 'default',\n                    size: 'default',\n                    autoLoading: true,\n                    show: true,\n                    loading: false,\n                    disabled: false\n                },\n                ...button\n            };\n        });\n    }\n\n    /**\n     * Create a component dynamically but not attach to any View\n     * (this action will be executed when bodyContainer is ready)\n     * @param component Component class\n     */\n    private createDynamicComponent(component: Type<T>) {\n        const factory = this.cfr.resolveComponentFactory(component);\n        const childInjector = Injector.create({\n            providers: [{provide: McModalRef, useValue: this}],\n            parent: this.viewContainer.injector\n        });\n\n        this.contentComponentRef = factory.create(childInjector);\n\n        if (this.mcComponentParams) {\n            Object.assign(this.contentComponentRef.instance, this.mcComponentParams);\n        }\n\n        // Do the first change detection immediately\n        // (or we do detection at ngAfterViewInit, multi-changes error will be thrown)\n        this.contentComponentRef.changeDetectorRef.detectChanges();\n    }\n\n    // Update transform-origin to the last click position on document\n    private updateTransformOrigin() {\n        const modalElement = this.modalContainer.nativeElement as HTMLElement;\n        const lastPosition = ModalUtil.getLastClickPosition();\n\n        if (lastPosition) {\n            this.transformOrigin = `${lastPosition.x - modalElement.offsetLeft}px ${lastPosition.y - modalElement.offsetTop}px 0px`;\n        }\n    }\n\n    /**\n     * Take care of the body's overflow to decide the existense of scrollbar\n     * @param plusNum The number that the openModals.length will increase soon\n     */\n    private changeBodyOverflow(plusNum: number = 0) {\n        const openModals = this.modalControl.openModals;\n\n        if (openModals.length + plusNum > 0) {\n            this.renderer.setStyle(this.document.body, 'overflow', 'hidden');\n        } else {\n            this.renderer.removeStyle(this.document.body, 'overflow');\n        }\n    }\n}\n\n////////////\n\nfunction isPromise(obj: {} | void): boolean {\n    // tslint:disable-next-line: no-unbound-method\n    return !!obj &&\n        (typeof obj === 'object' || typeof obj === 'function') &&\n        typeof (obj as Promise<{}>).then === 'function' &&\n        typeof (obj as Promise<{}>).catch === 'function';\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n\n@Pipe({\n    name: 'toCssUnit'\n})\nexport class CssUnitPipe implements PipeTransform {\n    transform(value: number | string, defaultUnit: string = 'px'): string {\n        const formatted = +value;\n\n        return isNaN(formatted) ? `${value}` : `${formatted}${defaultUnit}`;\n    }\n}\n","import { Directive } from '@angular/core';\n\n\n@Directive({\n    selector: `[mc-modal-title], mc-modal-title, [mcModalTitle]`,\n    host: {\n        class: 'mc-modal-header mc-modal-title'\n    }\n})\nexport class McModalTitle {}\n\n@Directive({\n    selector: `[mc-modal-body], mc-modal-body, [mcModalBody]`,\n    host: {\n        class: 'mc-modal-body'\n    }\n})\nexport class McModalBody {}\n\n@Directive({\n    selector: `[mc-modal-footer], mc-modal-footer, [mcModalFooter]`,\n    host: {\n        class: 'mc-modal-footer'\n    }\n})\nexport class McModalFooter {}\n\n@Directive({\n    selector: `[mc-modal-main-action]`\n})\nexport class McModalMainAction {}\n","import { Overlay, OverlayRef } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { ComponentRef, Injectable } from '@angular/core';\nimport { ESCAPE } from '@ptsecurity/cdk/keycodes';\nimport { Observable } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { McModalControlService } from './modal-control.service';\nimport { McModalRef } from './modal-ref.class';\nimport { McModalComponent } from './modal.component';\nimport { ConfirmType, IModalOptions, IModalOptionsForService } from './modal.type';\n\n\n// A builder used for managing service creating modals\nexport class ModalBuilderForService {\n    // Modal ComponentRef, \"null\" means it has been destroyed\n    private modalRef: ComponentRef<McModalComponent> | null;\n    private overlayRef: OverlayRef;\n\n    constructor(private overlay: Overlay, options: IModalOptionsForService = {}) {\n        this.createModal();\n\n        if (!('mcGetContainer' in options)) {\n            options.mcGetContainer = undefined;\n        }\n\n        this.changeProps(options);\n        this.modalRef!.instance.open();\n        this.modalRef!.instance.mcAfterClose.subscribe(() => this.destroyModal());\n\n        this.overlayRef.keydownEvents()\n            // @ts-ignore\n            .pipe(filter((event: KeyboardEvent) => {\n                // tslint:disable-next-line:deprecation replacement .key isn't supported in Edge\n                return event.keyCode === ESCAPE && options.mcCloseByESC;\n            }))\n            .subscribe(() => this.modalRef!.instance.close());\n    }\n\n    getInstance(): McModalComponent | null {\n        return this.modalRef && this.modalRef.instance;\n    }\n\n    destroyModal(): void {\n        if (this.modalRef) {\n            this.overlayRef.dispose();\n            this.modalRef = null;\n        }\n    }\n\n    private changeProps(options: IModalOptions): void {\n        if (this.modalRef) {\n            // here not limit user's inputs at runtime\n            Object.assign(this.modalRef.instance, options);\n        }\n    }\n\n    // Create component to ApplicationRef\n    private createModal(): void {\n        this.overlayRef = this.overlay.create();\n        this.modalRef = this.overlayRef.attach(new ComponentPortal(McModalComponent));\n    }\n}\n\n@Injectable()\nexport class McModalService {\n    // Track of the current close modals (we assume invisible is close this time)\n    get openModals(): McModalRef[] {\n        return this.modalControl.openModals;\n    }\n\n    get afterAllClose(): Observable<void> {\n        return this.modalControl.afterAllClose.asObservable();\n    }\n\n    constructor(\n        private overlay: Overlay,\n        private modalControl: McModalControlService\n    ) {}\n\n    // Closes all of the currently-open dialogs\n    closeAll(): void {\n        this.modalControl.closeAll();\n    }\n\n    create<T>(options: IModalOptionsForService<T> = {}): McModalRef<T> {\n\n        if (typeof options.mcOnCancel !== 'function') {\n            // Leave a empty function to close this modal by default\n            // tslint:disable-next-line\n            options.mcOnCancel = () => {};\n        }\n\n        if (!('mcCloseByESC' in options)) {\n            options.mcCloseByESC = true;\n        }\n\n        return new ModalBuilderForService(this.overlay, options).getInstance()!;\n    }\n\n    confirm<T>(options: IModalOptionsForService<T> = {}, confirmType: ConfirmType = 'confirm'): McModalRef<T> {\n        if ('mcFooter' in options) {\n            console.warn(`The Confirm-Modal doesn't support \"mcFooter\", this property will be ignored.`);\n        }\n\n        // NOTE: only support function currently by calling confirm()\n        if (typeof options.mcOnOk !== 'function') {\n            // Leave a empty function to close this modal by default\n            // tslint:disable-next-line\n            options.mcOnOk = () => {};\n        }\n\n        options.mcModalType = 'confirm';\n        options.mcClassName = `mc-confirm mc-confirm-${confirmType} ${options.mcClassName || ''}`;\n\n        return this.create(options);\n    }\n\n    open<T>(options: IModalOptionsForService<T> = {}): McModalRef<T> {\n\n        options.mcModalType = 'custom';\n\n        return this.create(options);\n    }\n\n    success<T>(options: IModalOptionsForService<T> = {}): McModalRef<T> {\n        return this.simpleConfirm(options, 'success');\n    }\n\n    // tslint:disable-next-line: no-reserved-keywords\n    delete<T>(options: IModalOptionsForService<T> = {}): McModalRef<T> {\n        return this.simpleConfirm(options, 'warn');\n    }\n\n    private simpleConfirm<T>(options: IModalOptionsForService<T> = {}, confirmType: ConfirmType): McModalRef<T> {\n        // Remove the Cancel button if the user not specify a Cancel button\n        if (!('mcCancelText' in options)) {\n            // @ts-ignore\n            options.mcCancelText = null;\n        }\n\n        return this.confirm(options, confirmType);\n    }\n}\n","import { A11yModule } from '@angular/cdk/a11y';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { McButtonModule } from '@ptsecurity/mosaic/button';\nimport { McIconModule } from '@ptsecurity/mosaic/icon';\n\nimport { CssUnitPipe } from './css-unit.pipe';\nimport { McModalControlService } from './modal-control.service';\nimport { McModalComponent } from './modal.component';\nimport { McModalBody, McModalFooter, McModalTitle, McModalMainAction } from './modal.directive';\nimport { McModalService } from './modal.service';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        OverlayModule,\n        A11yModule,\n        McButtonModule,\n        McIconModule\n    ],\n    exports: [\n        McModalComponent,\n        McModalTitle,\n        McModalBody,\n        McModalFooter\n    ],\n    declarations: [\n        McModalComponent,\n        McModalTitle,\n        McModalBody,\n        McModalFooter,\n        CssUnitPipe,\n        McModalMainAction\n    ],\n    providers: [\n        McModalControlService,\n        McModalService\n    ],\n    entryComponents: [McModalComponent]\n})\nexport class McModalModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {CssUnitPipe as ɵb} from './css-unit.pipe';\nexport {McModalControlService as ɵa} from './modal-control.service';"]}