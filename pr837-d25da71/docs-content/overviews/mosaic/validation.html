<div class="docs-markdown"><br>
<div class="mc-alert mc-alert_warning">
    <i class="mc mc-icon mc-error_16 mc-alert__icon"></i>
    Все описанные ниже рекомендации не применяются к форме входа.
</div>

<p class="docs-markdown__p">Хорошая практика — сделать так, чтобы валидация вообще не понадобилась. Ниже примеры, когда интерфейс не позволяет пользователю совершить ошибку.</p>
<table class="docs-markdown__table">
<thead class="docs-markdown__thead">
<tr class="docs-markdown__tr">
<th class="docs-markdown__th"><span class="mc-error">Плохо<span></th>
<th class="docs-markdown__th"><span class="mc-success">Хорошо<span></th>
</tr>
</thead>
<tbody class="docs-markdown__tbody"><tr class="docs-markdown__tr">
<td class="docs-markdown__td">Сообщать, что поле ввода обязательно для заполнения</td>
<td class="docs-markdown__td">Блокировать кнопку отправки формы до тех пор, пока поле не заполнено</td>
</tr>
<tr class="docs-markdown__tr">
<td class="docs-markdown__td">Сообщать, что в поле введены неподходящие данные</td>
<td class="docs-markdown__td">Преобразовать введенные данные в корректные. Например, автоматически заменить все пробелы на знак подчеркивания</td>
</tr>
<tr class="docs-markdown__tr">
<td class="docs-markdown__td">Заранее сообщать, какие данные нужно вводить в поле</td>
<td class="docs-markdown__td">Использовать контрол, которые не позволяет вводить неправильные данные. Например, специальное поле для ввода чисел</td>
</tr>
</tbody></table>

        <div class="docs-header-link docs-header-link_3">
          <span header-link="способы-валидации" id="способы-валидации"></span>
          Способы валидации
        </div>
      <p class="docs-markdown__p">От хорошего к более плохому:</p>
<ul class="docs-markdown__ul">
<li class="docs-markdown__li">защититься от ошибки,</li>
<li class="docs-markdown__li">показывать под полями,</li>
<li class="docs-markdown__li">показывать над формой.</li>
</ul>

        <div class="docs-header-link docs-header-link_3">
          <span header-link="когда-проверять-на-ошибки" id="когда-проверять-на-ошибки"></span>
          Когда проверять на ошибки
        </div>
      <p class="docs-markdown__p">Есть три способа проверить верность введенных значений:</p>
<ol class="docs-markdown__ol">
<li class="docs-markdown__li">Во время ввода значения</li>
<li class="docs-markdown__li">По уходу с поля (по потере фокуса)</li>
<li class="docs-markdown__li">После отправки формы</li>
</ol>

        <div class="docs-header-link docs-header-link_4">
          <span header-link="во-время-ввода-значения" id="во-время-ввода-значения"></span>
          Во время ввода значения
        </div>
      <p class="docs-markdown__p">В тех случаях, когда заранее известно, какие символы точно не подходят для ввода в поле, мы можем предотвратить ввод некорректных значений. Для этого нужно запрещать ввод определенных символов, например букв в IP-адрес. При этом запрещенные символы не вводятся и показывается желтый тултип.</p>
<div mosaic-docs-example="validation-on-type"></div>


        <div class="docs-header-link docs-header-link_4">
          <span header-link="по-уходу-с-поля-(по-потере-фокуса)" id="по-уходу-с-поля-(по-потере-фокуса)"></span>
          По уходу с поля (по потере фокуса)
        </div>
      <p class="docs-markdown__p">Если требования к значениям в поле относительно сложные (например, это IP-адрес или адрес эл. почты), то поле не должно получать состояние ошибки во время ввода, чтобы не сбивать пользователя с толку. Валидация в таких случаях выполняется по потере фокуса. Поле возвращается к нормальному состоянию после изменения значения.</p>
<p class="docs-markdown__p">Если у поля есть подпись, то текст ошибки выводится под подписью</p>
<br>
<div class="mc-alert mc-alert_warning">
    <i class="mc mc-icon mc-error_16 mc-alert__icon"></i>
    Пустые обязательные поля не получают состояние ошибки по потере фокуса.
</div>

<div mosaic-docs-example="validation-on-blur"></div>

<div class="docs-header-link docs-header-link_5">Составные поля</div><p class="docs-markdown__p">Когда значения в нескольких полях тесно связаны между собой (например, края диапазонов), нужно проверять их все вместе. Для этого нужно сначала отдельно проверить все поля <a class="docs-markdown__a" href="/validation/overview#%D0%92%D0%BE-%D0%B2%D1%80%D0%B5%D0%BC%D1%8F-%D0%B2%D0%B2%D0%BE%D0%B4%D0%B0-%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D1%8F" target="_blank">во время ввода значения</a> и <a class="docs-markdown__a" href="/validation/overview#%D0%9F%D0%BE-%D1%83%D1%85%D0%BE%D0%B4%D1%83-%D1%81-%D0%BF%D0%BE%D0%BB%D1%8F" target="_blank">по уходу с поля</a>. Если по-отдельности все значения валидны, срабатывает общая валидация на несколько полей: каждое поле не получает состояние ошибки, но все поля вместе выделяются фоном и внизу выводится общее сообщение.</p>
<div mosaic-docs-example="validation-composite"></div>


        <div class="docs-header-link docs-header-link_4">
          <span header-link="после-отправки-формы" id="после-отправки-формы"></span>
          После отправки формы
        </div>
      <div class="docs-header-link docs-header-link_5">Глобальная ошибка</div><p class="docs-markdown__p">При самой аккуратной валидации отдельных полей всегда что-то может пойти не так: пропадет соединение с БД, другой пользователь изменит данные системы и т. п. Если ошибка возникла после нажатия на терминальные кнопки и не связана со значениями в полях, то такая ошибка показывается алертом над формой и страница прокручивается до него.</p>
<p class="docs-markdown__p">Такой алерт «висит» и не скрывается, давая пользователю понять, что было не так, — и пропадает при повторной отправке формы.</p>
<br>
<div class="mc-alert mc-alert_info">
        <i class="mc mc-icon mc-info-o_16 mc-alert__icon"></i>
    При повторной отправке формы все поля проверяются еще раз. За время, пока пользователь дозаполнял форму, уникальность названия, например, могла пропасть.
</div>

<div mosaic-docs-example="validation-global"></div>

<div class="docs-header-link docs-header-link_5">Ошибки в полях</div><p class="docs-markdown__p">Если не удалось провести валидацию в полях во время ввода или по уходу с поля, то после отправки формы страница прокручивается до первого поля с ошибкой и оно получает фокус.</p>
<br>
<div class="mc-alert mc-alert_warning">
    <i class="mc mc-icon mc-error_16 mc-alert__icon"></i>
    Не блокируйте терминальные кнопки после отправки формы!
</div>


        <div class="docs-header-link docs-header-link_3">
          <span header-link="обязательные-поля" id="обязательные-поля"></span>
          Обязательные поля
        </div>
      <p class="docs-markdown__p">Если большинство полей на форме — обязательные для заполнения, то эту обязательность не нужно помечать. Необязательные поля, наоборот, подписываются (или в плейсхолдере, или в подписи под полем).</p>
<br>
<div class="mc-alert mc-alert_info">
        <i class="mc mc-icon mc-info-o_16 mc-alert__icon"></i>
        Поля «Комментарий», «Описание» почти всегда необязательные и воспринимаются как необязательные. Их можно не подписывать.
</div>
<br>

<p class="docs-markdown__p">Незаполненное обязательное поле получает состояние ошибки только после отправки формы (пустые обязательные поля не получают состояние ошибки при потере фокуса). В тексте ошибки сообщается, по каким причинам поле обязательно. Иногда текстом можно пренебречь — если из контекста формы понятно, что поле обязательное, или если текст получается слишком длинным.</p>
<div mosaic-docs-example="validation-overview"></div>


        <div class="docs-header-link docs-header-link_4">
          <span header-link="обязательные-поля-на-небольших-формах" id="обязательные-поля-на-небольших-формах"></span>
          Обязательные поля на небольших формах
        </div>
      <p class="docs-markdown__p">На небольших формах, где обязательные поля очевидны, терминальные кнопки лучше заблокировать до заполнения полей.</p>
<br>
<div class="mc-alert mc-alert_warning">
    <i class="mc mc-icon mc-error_16 mc-alert__icon"></i>
    На больших формах не рекомендуется блокировать терминальные кнопки, потому что может быть совсем неочевидно, почему кнопка неактивна.
</div>

<div mosaic-docs-example="validation-small"></div>


        <div class="docs-header-link docs-header-link_4">
          <span header-link="другие-случаи" id="другие-случаи"></span>
          Другие случаи
        </div>
      <p class="docs-markdown__p">Бывают случаи, когда нужно заполнить хотя бы одно из обязательных полей. В этом случае после отправки формы обязательные поля не получают состояние ошибки, но выводится алерт.</p>
<div mosaic-docs-example="validation-global-one-required"></div>


        <div class="docs-header-link docs-header-link_3">
          <span header-link="показ-сообщений-об-ошибках-вне-форм" id="показ-сообщений-об-ошибках-вне-форм"></span>
          Показ сообщений об ошибках вне форм
        </div>
      <p class="docs-markdown__p">Иногда требуется показывать ошибки вне форм, например если было запущено сканирование, но в процессе сервер вернул ошибку. В таких случаях лучше показывать уведомление в центре уведомлений.</p>
</div>